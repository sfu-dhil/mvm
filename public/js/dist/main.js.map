{"version":3,"file":"js/dist/main.js","mappings":"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","sources":["webpack://mvm/./node_modules/tom-select/dist/js/tom-select.complete.js","webpack://mvm/webpack/bootstrap","webpack://mvm/webpack/runtime/compat get default export","webpack://mvm/webpack/runtime/define property getters","webpack://mvm/webpack/runtime/hasOwnProperty shorthand","webpack://mvm/./node_modules/dhilux/js/modals.bundle.js","webpack://mvm/./node_modules/dhilux/js/a11y_tables.js","webpack://mvm/./node_modules/dhilux/js/accordion.js","webpack://mvm/./node_modules/ssr-window/ssr-window.esm.js","webpack://mvm/./node_modules/dom7/dom7.esm.js","webpack://mvm/./node_modules/swiper/shared/dom.js","webpack://mvm/./node_modules/swiper/shared/utils.js","webpack://mvm/./node_modules/swiper/shared/get-support.js","webpack://mvm/./node_modules/swiper/shared/get-device.js","webpack://mvm/./node_modules/swiper/shared/get-browser.js","webpack://mvm/./node_modules/swiper/core/events-emitter.js","webpack://mvm/./node_modules/swiper/core/update/index.js","webpack://mvm/./node_modules/swiper/core/update/updateSize.js","webpack://mvm/./node_modules/swiper/core/update/updateSlides.js","webpack://mvm/./node_modules/swiper/core/update/updateAutoHeight.js","webpack://mvm/./node_modules/swiper/core/update/updateSlidesOffset.js","webpack://mvm/./node_modules/swiper/core/update/updateSlidesProgress.js","webpack://mvm/./node_modules/swiper/core/update/updateProgress.js","webpack://mvm/./node_modules/swiper/core/update/updateSlidesClasses.js","webpack://mvm/./node_modules/swiper/core/update/updateActiveIndex.js","webpack://mvm/./node_modules/swiper/core/update/updateClickedSlide.js","webpack://mvm/./node_modules/swiper/core/transition/transitionEmit.js","webpack://mvm/./node_modules/swiper/core/slide/index.js","webpack://mvm/./node_modules/swiper/core/slide/slideTo.js","webpack://mvm/./node_modules/swiper/core/slide/slideToLoop.js","webpack://mvm/./node_modules/swiper/core/slide/slideNext.js","webpack://mvm/./node_modules/swiper/core/slide/slidePrev.js","webpack://mvm/./node_modules/swiper/core/slide/slideReset.js","webpack://mvm/./node_modules/swiper/core/slide/slideToClosest.js","webpack://mvm/./node_modules/swiper/core/slide/slideToClickedSlide.js","webpack://mvm/./node_modules/swiper/core/loop/index.js","webpack://mvm/./node_modules/swiper/core/loop/loopCreate.js","webpack://mvm/./node_modules/swiper/core/loop/loopFix.js","webpack://mvm/./node_modules/swiper/core/loop/loopDestroy.js","webpack://mvm/./node_modules/swiper/core/events/onTouchStart.js","webpack://mvm/./node_modules/swiper/core/events/onTouchMove.js","webpack://mvm/./node_modules/swiper/core/events/onTouchEnd.js","webpack://mvm/./node_modules/swiper/core/events/onResize.js","webpack://mvm/./node_modules/swiper/core/events/onClick.js","webpack://mvm/./node_modules/swiper/core/events/onScroll.js","webpack://mvm/./node_modules/swiper/core/events/index.js","webpack://mvm/./node_modules/swiper/core/breakpoints/setBreakpoint.js","webpack://mvm/./node_modules/swiper/core/classes/index.js","webpack://mvm/./node_modules/swiper/core/classes/addClasses.js","webpack://mvm/./node_modules/swiper/core/classes/removeClasses.js","webpack://mvm/./node_modules/swiper/core/defaults.js","webpack://mvm/./node_modules/swiper/core/moduleExtendParams.js","webpack://mvm/./node_modules/swiper/core/core.js","webpack://mvm/./node_modules/swiper/core/translate/index.js","webpack://mvm/./node_modules/swiper/core/translate/getTranslate.js","webpack://mvm/./node_modules/swiper/core/translate/setTranslate.js","webpack://mvm/./node_modules/swiper/core/translate/minTranslate.js","webpack://mvm/./node_modules/swiper/core/translate/maxTranslate.js","webpack://mvm/./node_modules/swiper/core/translate/translateTo.js","webpack://mvm/./node_modules/swiper/core/transition/index.js","webpack://mvm/./node_modules/swiper/core/transition/setTransition.js","webpack://mvm/./node_modules/swiper/core/transition/transitionStart.js","webpack://mvm/./node_modules/swiper/core/transition/transitionEnd.js","webpack://mvm/./node_modules/swiper/core/grab-cursor/index.js","webpack://mvm/./node_modules/swiper/core/grab-cursor/setGrabCursor.js","webpack://mvm/./node_modules/swiper/core/grab-cursor/unsetGrabCursor.js","webpack://mvm/./node_modules/swiper/core/breakpoints/index.js","webpack://mvm/./node_modules/swiper/core/breakpoints/getBreakpoint.js","webpack://mvm/./node_modules/swiper/core/check-overflow/index.js","webpack://mvm/./node_modules/swiper/core/images/index.js","webpack://mvm/./node_modules/swiper/core/images/loadImage.js","webpack://mvm/./node_modules/swiper/core/images/preloadImages.js","webpack://mvm/./node_modules/swiper/core/modules/resize/resize.js","webpack://mvm/./node_modules/swiper/core/modules/observer/observer.js","webpack://mvm/./node_modules/swiper/modules/navigation/navigation.js","webpack://mvm/./node_modules/swiper/shared/create-element-if-not-defined.js","webpack://mvm/./js/mvm.js"],"sourcesContent":["/**\n* Tom Select v2.2.2\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n*/\n\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.TomSelect = factory());\n})(this, (function () { 'use strict';\n\n\t/**\n\t * MicroEvent - to make any js object an event emitter\n\t *\n\t * - pure javascript - server compatible, browser compatible\n\t * - dont rely on the browser doms\n\t * - super simple - you get it immediatly, no mistery, no magic involved\n\t *\n\t * @author Jerome Etienne (https://github.com/jeromeetienne)\n\t */\n\n\t/**\n\t * Execute callback for each event in space separated list of event names\n\t *\n\t */\n\tfunction forEvents(events, callback) {\n\t  events.split(/\\s+/).forEach(event => {\n\t    callback(event);\n\t  });\n\t}\n\n\tclass MicroEvent {\n\t  constructor() {\n\t    this._events = void 0;\n\t    this._events = {};\n\t  }\n\n\t  on(events, fct) {\n\t    forEvents(events, event => {\n\t      const event_array = this._events[event] || [];\n\t      event_array.push(fct);\n\t      this._events[event] = event_array;\n\t    });\n\t  }\n\n\t  off(events, fct) {\n\t    var n = arguments.length;\n\n\t    if (n === 0) {\n\t      this._events = {};\n\t      return;\n\t    }\n\n\t    forEvents(events, event => {\n\t      if (n === 1) {\n\t        delete this._events[event];\n\t        return;\n\t      }\n\n\t      const event_array = this._events[event];\n\t      if (event_array === undefined) return;\n\t      event_array.splice(event_array.indexOf(fct), 1);\n\t      this._events[event] = event_array;\n\t    });\n\t  }\n\n\t  trigger(events, ...args) {\n\t    var self = this;\n\t    forEvents(events, event => {\n\t      const event_array = self._events[event];\n\t      if (event_array === undefined) return;\n\t      event_array.forEach(fct => {\n\t        fct.apply(self, args);\n\t      });\n\t    });\n\t  }\n\n\t}\n\n\t/**\n\t * microplugin.js\n\t * Copyright (c) 2013 Brian Reavis & contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t * @author Brian Reavis <brian@thirdroute.com>\n\t */\n\tfunction MicroPlugin(Interface) {\n\t  Interface.plugins = {};\n\t  return class extends Interface {\n\t    constructor(...args) {\n\t      super(...args);\n\t      this.plugins = {\n\t        names: [],\n\t        settings: {},\n\t        requested: {},\n\t        loaded: {}\n\t      };\n\t    }\n\n\t    /**\n\t     * Registers a plugin.\n\t     *\n\t     * @param {function} fn\n\t     */\n\t    static define(name, fn) {\n\t      Interface.plugins[name] = {\n\t        'name': name,\n\t        'fn': fn\n\t      };\n\t    }\n\t    /**\n\t     * Initializes the listed plugins (with options).\n\t     * Acceptable formats:\n\t     *\n\t     * List (without options):\n\t     *   ['a', 'b', 'c']\n\t     *\n\t     * List (with options):\n\t     *   [{'name': 'a', options: {}}, {'name': 'b', options: {}}]\n\t     *\n\t     * Hash (with options):\n\t     *   {'a': { ... }, 'b': { ... }, 'c': { ... }}\n\t     *\n\t     * @param {array|object} plugins\n\t     */\n\n\n\t    initializePlugins(plugins) {\n\t      var key, name;\n\t      const self = this;\n\t      const queue = [];\n\n\t      if (Array.isArray(plugins)) {\n\t        plugins.forEach(plugin => {\n\t          if (typeof plugin === 'string') {\n\t            queue.push(plugin);\n\t          } else {\n\t            self.plugins.settings[plugin.name] = plugin.options;\n\t            queue.push(plugin.name);\n\t          }\n\t        });\n\t      } else if (plugins) {\n\t        for (key in plugins) {\n\t          if (plugins.hasOwnProperty(key)) {\n\t            self.plugins.settings[key] = plugins[key];\n\t            queue.push(key);\n\t          }\n\t        }\n\t      }\n\n\t      while (name = queue.shift()) {\n\t        self.require(name);\n\t      }\n\t    }\n\n\t    loadPlugin(name) {\n\t      var self = this;\n\t      var plugins = self.plugins;\n\t      var plugin = Interface.plugins[name];\n\n\t      if (!Interface.plugins.hasOwnProperty(name)) {\n\t        throw new Error('Unable to find \"' + name + '\" plugin');\n\t      }\n\n\t      plugins.requested[name] = true;\n\t      plugins.loaded[name] = plugin.fn.apply(self, [self.plugins.settings[name] || {}]);\n\t      plugins.names.push(name);\n\t    }\n\t    /**\n\t     * Initializes a plugin.\n\t     *\n\t     */\n\n\n\t    require(name) {\n\t      var self = this;\n\t      var plugins = self.plugins;\n\n\t      if (!self.plugins.loaded.hasOwnProperty(name)) {\n\t        if (plugins.requested[name]) {\n\t          throw new Error('Plugin has circular dependency (\"' + name + '\")');\n\t        }\n\n\t        self.loadPlugin(name);\n\t      }\n\n\t      return plugins.loaded[name];\n\t    }\n\n\t  };\n\t}\n\n\t/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */\n\t/**\n\t * Convert array of strings to a regular expression\n\t *\tex ['ab','a'] => (?:ab|a)\n\t * \tex ['a','b'] => [ab]\n\t * @param {string[]} chars\n\t * @return {string}\n\t */\n\tconst arrayToPattern = chars => {\n\t  chars = chars.filter(Boolean);\n\n\t  if (chars.length < 2) {\n\t    return chars[0] || '';\n\t  }\n\n\t  return maxValueLength(chars) == 1 ? '[' + chars.join('') + ']' : '(?:' + chars.join('|') + ')';\n\t};\n\t/**\n\t * @param {string[]} array\n\t * @return {string}\n\t */\n\n\tconst sequencePattern = array => {\n\t  if (!hasDuplicates(array)) {\n\t    return array.join('');\n\t  }\n\n\t  let pattern = '';\n\t  let prev_char_count = 0;\n\n\t  const prev_pattern = () => {\n\t    if (prev_char_count > 1) {\n\t      pattern += '{' + prev_char_count + '}';\n\t    }\n\t  };\n\n\t  array.forEach((char, i) => {\n\t    if (char === array[i - 1]) {\n\t      prev_char_count++;\n\t      return;\n\t    }\n\n\t    prev_pattern();\n\t    pattern += char;\n\t    prev_char_count = 1;\n\t  });\n\t  prev_pattern();\n\t  return pattern;\n\t};\n\t/**\n\t * Convert array of strings to a regular expression\n\t *\tex ['ab','a'] => (?:ab|a)\n\t * \tex ['a','b'] => [ab]\n\t * @param {Set<string>} chars\n\t * @return {string}\n\t */\n\n\tconst setToPattern = chars => {\n\t  let array = toArray(chars);\n\t  return arrayToPattern(array);\n\t};\n\t/**\n\t *\n\t * https://stackoverflow.com/questions/7376598/in-javascript-how-do-i-check-if-an-array-has-duplicate-values\n\t * @param {any[]} array\n\t */\n\n\tconst hasDuplicates = array => {\n\t  return new Set(array).size !== array.length;\n\t};\n\t/**\n\t * https://stackoverflow.com/questions/63006601/why-does-u-throw-an-invalid-escape-error\n\t * @param {string} str\n\t * @return {string}\n\t */\n\n\tconst escape_regex = str => {\n\t  return (str + '').replace(/([\\$\\(\\)\\*\\+\\.\\?\\[\\]\\^\\{\\|\\}\\\\])/gu, '\\\\$1');\n\t};\n\t/**\n\t * Return the max length of array values\n\t * @param {string[]} array\n\t *\n\t */\n\n\tconst maxValueLength = array => {\n\t  return array.reduce((longest, value) => Math.max(longest, unicodeLength(value)), 0);\n\t};\n\t/**\n\t * @param {string} str\n\t */\n\n\tconst unicodeLength = str => {\n\t  return toArray(str).length;\n\t};\n\t/**\n\t * @param {any} p\n\t * @return {any[]}\n\t */\n\n\tconst toArray = p => Array.from(p);\n\n\t/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */\n\t/**\n\t * Get all possible combinations of substrings that add up to the given string\n\t * https://stackoverflow.com/questions/30169587/find-all-the-combination-of-substrings-that-add-up-to-the-given-string\n\t * @param {string} input\n\t * @return {string[][]}\n\t */\n\tconst allSubstrings = input => {\n\t  if (input.length === 1) return [[input]];\n\t  /** @type {string[][]} */\n\n\t  let result = [];\n\t  const start = input.substring(1);\n\t  const suba = allSubstrings(start);\n\t  suba.forEach(function (subresult) {\n\t    let tmp = subresult.slice(0);\n\t    tmp[0] = input.charAt(0) + tmp[0];\n\t    result.push(tmp);\n\t    tmp = subresult.slice(0);\n\t    tmp.unshift(input.charAt(0));\n\t    result.push(tmp);\n\t  });\n\t  return result;\n\t};\n\n\t/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */\n\n\t/**\n\t * @typedef {{[key:string]:string}} TUnicodeMap\n\t * @typedef {{[key:string]:Set<string>}} TUnicodeSets\n\t * @typedef {[[number,number]]} TCodePoints\n\t * @typedef {{folded:string,composed:string,code_point:number}} TCodePointObj\n\t * @typedef {{start:number,end:number,length:number,substr:string}} TSequencePart\n\t */\n\t/** @type {TCodePoints} */\n\n\tconst code_points = [[0, 65535]];\n\tconst accent_pat = '[\\u0300-\\u036F\\u{b7}\\u{2be}\\u{2bc}]';\n\t/** @type {TUnicodeMap} */\n\n\tlet unicode_map;\n\t/** @type {RegExp} */\n\n\tlet multi_char_reg;\n\tconst max_char_length = 3;\n\t/** @type {TUnicodeMap} */\n\n\tconst latin_convert = {};\n\t/** @type {TUnicodeMap} */\n\n\tconst latin_condensed = {\n\t  '/': '⁄∕',\n\t  '0': '߀',\n\t  \"a\": \"ⱥɐɑ\",\n\t  \"aa\": \"ꜳ\",\n\t  \"ae\": \"æǽǣ\",\n\t  \"ao\": \"ꜵ\",\n\t  \"au\": \"ꜷ\",\n\t  \"av\": \"ꜹꜻ\",\n\t  \"ay\": \"ꜽ\",\n\t  \"b\": \"ƀɓƃ\",\n\t  \"c\": \"ꜿƈȼↄ\",\n\t  \"d\": \"đɗɖᴅƌꮷԁɦ\",\n\t  \"e\": \"ɛǝᴇɇ\",\n\t  \"f\": \"ꝼƒ\",\n\t  \"g\": \"ǥɠꞡᵹꝿɢ\",\n\t  \"h\": \"ħⱨⱶɥ\",\n\t  \"i\": \"ɨı\",\n\t  \"j\": \"ɉȷ\",\n\t  \"k\": \"ƙⱪꝁꝃꝅꞣ\",\n\t  \"l\": \"łƚɫⱡꝉꝇꞁɭ\",\n\t  \"m\": \"ɱɯϻ\",\n\t  \"n\": \"ꞥƞɲꞑᴎлԉ\",\n\t  \"o\": \"øǿɔɵꝋꝍᴑ\",\n\t  \"oe\": \"œ\",\n\t  \"oi\": \"ƣ\",\n\t  \"oo\": \"ꝏ\",\n\t  \"ou\": \"ȣ\",\n\t  \"p\": \"ƥᵽꝑꝓꝕρ\",\n\t  \"q\": \"ꝗꝙɋ\",\n\t  \"r\": \"ɍɽꝛꞧꞃ\",\n\t  \"s\": \"ßȿꞩꞅʂ\",\n\t  \"t\": \"ŧƭʈⱦꞇ\",\n\t  \"th\": \"þ\",\n\t  \"tz\": \"ꜩ\",\n\t  \"u\": \"ʉ\",\n\t  \"v\": \"ʋꝟʌ\",\n\t  \"vy\": \"ꝡ\",\n\t  \"w\": \"ⱳ\",\n\t  \"y\": \"ƴɏỿ\",\n\t  \"z\": \"ƶȥɀⱬꝣ\",\n\t  \"hv\": \"ƕ\"\n\t};\n\n\tfor (let latin in latin_condensed) {\n\t  let unicode = latin_condensed[latin] || '';\n\n\t  for (let i = 0; i < unicode.length; i++) {\n\t    let char = unicode.substring(i, i + 1);\n\t    latin_convert[char] = latin;\n\t  }\n\t}\n\n\tconst convert_pat = new RegExp(Object.keys(latin_convert).join('|') + '|' + accent_pat, 'gu');\n\t/**\n\t * Initialize the unicode_map from the give code point ranges\n\t *\n\t * @param {TCodePoints=} _code_points\n\t */\n\n\tconst initialize = _code_points => {\n\t  if (unicode_map !== undefined) return;\n\t  unicode_map = generateMap(_code_points || code_points);\n\t};\n\t/**\n\t * Helper method for normalize a string\n\t * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/normalize\n\t * @param {string} str\n\t * @param {string} form\n\t */\n\n\tconst normalize = (str, form = 'NFKD') => str.normalize(form);\n\t/**\n\t * Remove accents without reordering string\n\t * calling str.normalize('NFKD') on \\u{594}\\u{595}\\u{596} becomes \\u{596}\\u{594}\\u{595}\n\t * via https://github.com/krisk/Fuse/issues/133#issuecomment-318692703\n\t * @param {string} str\n\t * @return {string}\n\t */\n\n\tconst asciifold = str => {\n\t  return toArray(str).reduce(\n\t  /**\n\t   * @param {string} result\n\t   * @param {string} char\n\t   */\n\t  (result, char) => {\n\t    return result + _asciifold(char);\n\t  }, '');\n\t};\n\t/**\n\t * @param {string} str\n\t * @return {string}\n\t */\n\n\tconst _asciifold = str => {\n\t  str = normalize(str).toLowerCase().replace(convert_pat, (\n\t  /** @type {string} */\n\t  char) => {\n\t    return latin_convert[char] || '';\n\t  }); //return str;\n\n\t  return normalize(str, 'NFC');\n\t};\n\t/**\n\t * Generate a list of unicode variants from the list of code points\n\t * @param {TCodePoints} code_points\n\t * @yield {TCodePointObj}\n\t */\n\n\tfunction* generator(code_points) {\n\t  for (const [code_point_min, code_point_max] of code_points) {\n\t    for (let i = code_point_min; i <= code_point_max; i++) {\n\t      let composed = String.fromCharCode(i);\n\t      let folded = asciifold(composed);\n\n\t      if (folded == composed.toLowerCase()) {\n\t        continue;\n\t      } // skip when folded is a string longer than 3 characters long\n\t      // bc the resulting regex patterns will be long\n\t      // eg:\n\t      // folded صلى الله عليه وسلم length 18 code point 65018\n\t      // folded جل جلاله length 8 code point 65019\n\n\n\t      if (folded.length > max_char_length) {\n\t        continue;\n\t      }\n\n\t      if (folded.length == 0) {\n\t        continue;\n\t      }\n\n\t      yield {\n\t        folded: folded,\n\t        composed: composed,\n\t        code_point: i\n\t      };\n\t    }\n\t  }\n\t}\n\t/**\n\t * Generate a unicode map from the list of code points\n\t * @param {TCodePoints} code_points\n\t * @return {TUnicodeSets}\n\t */\n\n\tconst generateSets = code_points => {\n\t  /** @type {{[key:string]:Set<string>}} */\n\t  const unicode_sets = {};\n\t  /**\n\t   * @param {string} folded\n\t   * @param {string} to_add\n\t   */\n\n\t  const addMatching = (folded, to_add) => {\n\t    /** @type {Set<string>} */\n\t    const folded_set = unicode_sets[folded] || new Set();\n\t    const patt = new RegExp('^' + setToPattern(folded_set) + '$', 'iu');\n\n\t    if (to_add.match(patt)) {\n\t      return;\n\t    }\n\n\t    folded_set.add(escape_regex(to_add));\n\t    unicode_sets[folded] = folded_set;\n\t  };\n\n\t  for (let value of generator(code_points)) {\n\t    addMatching(value.folded, value.folded);\n\t    addMatching(value.folded, value.composed);\n\t  }\n\n\t  return unicode_sets;\n\t};\n\t/**\n\t * Generate a unicode map from the list of code points\n\t * ae => (?:(?:ae|Æ|Ǽ|Ǣ)|(?:A|Ⓐ|Ａ...)(?:E|ɛ|Ⓔ...))\n\t *\n\t * @param {TCodePoints} code_points\n\t * @return {TUnicodeMap}\n\t */\n\n\tconst generateMap = code_points => {\n\t  /** @type {TUnicodeSets} */\n\t  const unicode_sets = generateSets(code_points);\n\t  /** @type {TUnicodeMap} */\n\n\t  const unicode_map = {};\n\t  /** @type {string[]} */\n\n\t  let multi_char = [];\n\n\t  for (let folded in unicode_sets) {\n\t    let set = unicode_sets[folded];\n\n\t    if (set) {\n\t      unicode_map[folded] = setToPattern(set);\n\t    }\n\n\t    if (folded.length > 1) {\n\t      multi_char.push(escape_regex(folded));\n\t    }\n\t  }\n\n\t  multi_char.sort((a, b) => b.length - a.length);\n\t  const multi_char_patt = arrayToPattern(multi_char);\n\t  multi_char_reg = new RegExp('^' + multi_char_patt, 'u');\n\t  return unicode_map;\n\t};\n\t/**\n\t * Map each element of an array from it's folded value to all possible unicode matches\n\t * @param {string[]} strings\n\t * @param {number} min_replacement\n\t * @return {string}\n\t */\n\n\tconst mapSequence = (strings, min_replacement = 1) => {\n\t  let chars_replaced = 0;\n\t  strings = strings.map(str => {\n\t    if (unicode_map[str]) {\n\t      chars_replaced += str.length;\n\t    }\n\n\t    return unicode_map[str] || str;\n\t  });\n\n\t  if (chars_replaced >= min_replacement) {\n\t    return sequencePattern(strings);\n\t  }\n\n\t  return '';\n\t};\n\t/**\n\t * Convert a short string and split it into all possible patterns\n\t * Keep a pattern only if min_replacement is met\n\t *\n\t * 'abc'\n\t * \t\t=> [['abc'],['ab','c'],['a','bc'],['a','b','c']]\n\t *\t\t=> ['abc-pattern','ab-c-pattern'...]\n\t *\n\t *\n\t * @param {string} str\n\t * @param {number} min_replacement\n\t * @return {string}\n\t */\n\n\tconst substringsToPattern = (str, min_replacement = 1) => {\n\t  min_replacement = Math.max(min_replacement, str.length - 1);\n\t  return arrayToPattern(allSubstrings(str).map(sub_pat => {\n\t    return mapSequence(sub_pat, min_replacement);\n\t  }));\n\t};\n\t/**\n\t * Convert an array of sequences into a pattern\n\t * [{start:0,end:3,length:3,substr:'iii'}...] => (?:iii...)\n\t *\n\t * @param {Sequence[]} sequences\n\t * @param {boolean} all\n\t */\n\n\tconst sequencesToPattern = (sequences, all = true) => {\n\t  let min_replacement = sequences.length > 1 ? 1 : 0;\n\t  return arrayToPattern(sequences.map(sequence => {\n\t    let seq = [];\n\t    const len = all ? sequence.length() : sequence.length() - 1;\n\n\t    for (let j = 0; j < len; j++) {\n\t      seq.push(substringsToPattern(sequence.substrs[j] || '', min_replacement));\n\t    }\n\n\t    return sequencePattern(seq);\n\t  }));\n\t};\n\t/**\n\t * Return true if the sequence is already in the sequences\n\t * @param {Sequence} needle_seq\n\t * @param {Sequence[]} sequences\n\t */\n\n\n\tconst inSequences = (needle_seq, sequences) => {\n\t  for (const seq of sequences) {\n\t    if (seq.start != needle_seq.start || seq.end != needle_seq.end) {\n\t      continue;\n\t    }\n\n\t    if (seq.substrs.join('') !== needle_seq.substrs.join('')) {\n\t      continue;\n\t    }\n\n\t    let needle_parts = needle_seq.parts;\n\t    /**\n\t     * @param {TSequencePart} part\n\t     */\n\n\t    const filter = part => {\n\t      for (const needle_part of needle_parts) {\n\t        if (needle_part.start === part.start && needle_part.substr === part.substr) {\n\t          return false;\n\t        }\n\n\t        if (part.length == 1 || needle_part.length == 1) {\n\t          continue;\n\t        } // check for overlapping parts\n\t        // a = ['::=','==']\n\t        // b = ['::','===']\n\t        // a = ['r','sm']\n\t        // b = ['rs','m']\n\n\n\t        if (part.start < needle_part.start && part.end > needle_part.start) {\n\t          return true;\n\t        }\n\n\t        if (needle_part.start < part.start && needle_part.end > part.start) {\n\t          return true;\n\t        }\n\t      }\n\n\t      return false;\n\t    };\n\n\t    let filtered = seq.parts.filter(filter);\n\n\t    if (filtered.length > 0) {\n\t      continue;\n\t    }\n\n\t    return true;\n\t  }\n\n\t  return false;\n\t};\n\n\tclass Sequence {\n\t  constructor() {\n\t    /** @type {TSequencePart[]} */\n\t    this.parts = [];\n\t    /** @type {string[]} */\n\n\t    this.substrs = [];\n\t    this.start = 0;\n\t    this.end = 0;\n\t  }\n\t  /**\n\t   * @param {TSequencePart|undefined} part\n\t   */\n\n\n\t  add(part) {\n\t    if (part) {\n\t      this.parts.push(part);\n\t      this.substrs.push(part.substr);\n\t      this.start = Math.min(part.start, this.start);\n\t      this.end = Math.max(part.end, this.end);\n\t    }\n\t  }\n\n\t  last() {\n\t    return this.parts[this.parts.length - 1];\n\t  }\n\n\t  length() {\n\t    return this.parts.length;\n\t  }\n\t  /**\n\t   * @param {number} position\n\t   * @param {TSequencePart} last_piece\n\t   */\n\n\n\t  clone(position, last_piece) {\n\t    let clone = new Sequence();\n\t    let parts = JSON.parse(JSON.stringify(this.parts));\n\t    let last_part = parts.pop();\n\n\t    for (const part of parts) {\n\t      clone.add(part);\n\t    }\n\n\t    let last_substr = last_piece.substr.substring(0, position - last_part.start);\n\t    let clone_last_len = last_substr.length;\n\t    clone.add({\n\t      start: last_part.start,\n\t      end: last_part.start + clone_last_len,\n\t      length: clone_last_len,\n\t      substr: last_substr\n\t    });\n\t    return clone;\n\t  }\n\n\t}\n\t/**\n\t * Expand a regular expression pattern to include unicode variants\n\t * \teg /a/ becomes /aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐɑAⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ/\n\t *\n\t * Issue:\n\t *  ﺊﺋ [ 'ﺊ = \\\\u{fe8a}', 'ﺋ = \\\\u{fe8b}' ]\n\t *\tbecomes:\tئئ [ 'ي = \\\\u{64a}', 'ٔ = \\\\u{654}', 'ي = \\\\u{64a}', 'ٔ = \\\\u{654}' ]\n\t *\n\t *\tİĲ = IIJ = ⅡJ\n\t *\n\t * \t1/2/4\n\t *\n\t * @param {string} str\n\t * @return {string|undefined}\n\t */\n\n\n\tconst getPattern = str => {\n\t  initialize();\n\t  str = asciifold(str);\n\t  let pattern = '';\n\t  let sequences = [new Sequence()];\n\n\t  for (let i = 0; i < str.length; i++) {\n\t    let substr = str.substring(i);\n\t    let match = substr.match(multi_char_reg);\n\t    const char = str.substring(i, i + 1);\n\t    const match_str = match ? match[0] : null; // loop through sequences\n\t    // add either the char or multi_match\n\n\t    let overlapping = [];\n\t    let added_types = new Set();\n\n\t    for (const sequence of sequences) {\n\t      const last_piece = sequence.last();\n\n\t      if (!last_piece || last_piece.length == 1 || last_piece.end <= i) {\n\t        // if we have a multi match\n\t        if (match_str) {\n\t          const len = match_str.length;\n\t          sequence.add({\n\t            start: i,\n\t            end: i + len,\n\t            length: len,\n\t            substr: match_str\n\t          });\n\t          added_types.add('1');\n\t        } else {\n\t          sequence.add({\n\t            start: i,\n\t            end: i + 1,\n\t            length: 1,\n\t            substr: char\n\t          });\n\t          added_types.add('2');\n\t        }\n\t      } else if (match_str) {\n\t        let clone = sequence.clone(i, last_piece);\n\t        const len = match_str.length;\n\t        clone.add({\n\t          start: i,\n\t          end: i + len,\n\t          length: len,\n\t          substr: match_str\n\t        });\n\t        overlapping.push(clone);\n\t      } else {\n\t        // don't add char\n\t        // adding would create invalid patterns: 234 => [2,34,4]\n\t        added_types.add('3');\n\t      }\n\t    } // if we have overlapping\n\n\n\t    if (overlapping.length > 0) {\n\t      // ['ii','iii'] before ['i','i','iii']\n\t      overlapping = overlapping.sort((a, b) => {\n\t        return a.length() - b.length();\n\t      });\n\n\t      for (let clone of overlapping) {\n\t        // don't add if we already have an equivalent sequence\n\t        if (inSequences(clone, sequences)) {\n\t          continue;\n\t        }\n\n\t        sequences.push(clone);\n\t      }\n\n\t      continue;\n\t    } // if we haven't done anything unique\n\t    // clean up the patterns\n\t    // helps keep patterns smaller\n\t    // if str = 'r₨㎧aarss', pattern will be 446 instead of 655\n\n\n\t    if (i > 0 && added_types.size == 1 && !added_types.has('3')) {\n\t      pattern += sequencesToPattern(sequences, false);\n\t      let new_seq = new Sequence();\n\t      const old_seq = sequences[0];\n\n\t      if (old_seq) {\n\t        new_seq.add(old_seq.last());\n\t      }\n\n\t      sequences = [new_seq];\n\t    }\n\t  }\n\n\t  pattern += sequencesToPattern(sequences, true);\n\t  return pattern;\n\t};\n\n\t/*! sifter.js | https://github.com/orchidjs/sifter.js | Apache License (v2) */\n\n\t/**\n\t * A property getter resolving dot-notation\n\t * @param  {Object}  obj     The root object to fetch property on\n\t * @param  {String}  name    The optionally dotted property name to fetch\n\t * @return {Object}          The resolved property value\n\t */\n\tconst getAttr = (obj, name) => {\n\t  if (!obj) return;\n\t  return obj[name];\n\t};\n\t/**\n\t * A property getter resolving dot-notation\n\t * @param  {Object}  obj     The root object to fetch property on\n\t * @param  {String}  name    The optionally dotted property name to fetch\n\t * @return {Object}          The resolved property value\n\t */\n\n\tconst getAttrNesting = (obj, name) => {\n\t  if (!obj) return;\n\t  var part,\n\t      names = name.split(\".\");\n\n\t  while ((part = names.shift()) && (obj = obj[part]));\n\n\t  return obj;\n\t};\n\t/**\n\t * Calculates how close of a match the\n\t * given value is against a search token.\n\t *\n\t */\n\n\tconst scoreValue = (value, token, weight) => {\n\t  var score, pos;\n\t  if (!value) return 0;\n\t  value = value + '';\n\t  if (token.regex == null) return 0;\n\t  pos = value.search(token.regex);\n\t  if (pos === -1) return 0;\n\t  score = token.string.length / value.length;\n\t  if (pos === 0) score += 0.5;\n\t  return score * weight;\n\t};\n\t/**\n\t * Cast object property to an array if it exists and has a value\n\t *\n\t */\n\n\tconst propToArray = (obj, key) => {\n\t  var value = obj[key];\n\t  if (typeof value == 'function') return value;\n\n\t  if (value && !Array.isArray(value)) {\n\t    obj[key] = [value];\n\t  }\n\t};\n\t/**\n\t * Iterates over arrays and hashes.\n\t *\n\t * ```\n\t * iterate(this.items, function(item, id) {\n\t *    // invoked for each item\n\t * });\n\t * ```\n\t *\n\t */\n\n\tconst iterate$1 = (object, callback) => {\n\t  if (Array.isArray(object)) {\n\t    object.forEach(callback);\n\t  } else {\n\t    for (var key in object) {\n\t      if (object.hasOwnProperty(key)) {\n\t        callback(object[key], key);\n\t      }\n\t    }\n\t  }\n\t};\n\tconst cmp = (a, b) => {\n\t  if (typeof a === 'number' && typeof b === 'number') {\n\t    return a > b ? 1 : a < b ? -1 : 0;\n\t  }\n\n\t  a = asciifold(a + '').toLowerCase();\n\t  b = asciifold(b + '').toLowerCase();\n\t  if (a > b) return 1;\n\t  if (b > a) return -1;\n\t  return 0;\n\t};\n\n\t/*! sifter.js | https://github.com/orchidjs/sifter.js | Apache License (v2) */\n\n\t/**\n\t * sifter.js\n\t * Copyright (c) 2013–2020 Brian Reavis & contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t * @author Brian Reavis <brian@thirdroute.com>\n\t */\n\n\tclass Sifter {\n\t  // []|{};\n\n\t  /**\n\t   * Textually searches arrays and hashes of objects\n\t   * by property (or multiple properties). Designed\n\t   * specifically for autocomplete.\n\t   *\n\t   */\n\t  constructor(items, settings) {\n\t    this.items = void 0;\n\t    this.settings = void 0;\n\t    this.items = items;\n\t    this.settings = settings || {\n\t      diacritics: true\n\t    };\n\t  }\n\n\t  /**\n\t   * Splits a search string into an array of individual\n\t   * regexps to be used to match results.\n\t   *\n\t   */\n\t  tokenize(query, respect_word_boundaries, weights) {\n\t    if (!query || !query.length) return [];\n\t    const tokens = [];\n\t    const words = query.split(/\\s+/);\n\t    var field_regex;\n\n\t    if (weights) {\n\t      field_regex = new RegExp('^(' + Object.keys(weights).map(escape_regex).join('|') + ')\\:(.*)$');\n\t    }\n\n\t    words.forEach(word => {\n\t      let field_match;\n\t      let field = null;\n\t      let regex = null; // look for \"field:query\" tokens\n\n\t      if (field_regex && (field_match = word.match(field_regex))) {\n\t        field = field_match[1];\n\t        word = field_match[2];\n\t      }\n\n\t      if (word.length > 0) {\n\t        if (this.settings.diacritics) {\n\t          regex = getPattern(word) || null;\n\t        } else {\n\t          regex = escape_regex(word);\n\t        }\n\n\t        if (regex && respect_word_boundaries) regex = \"\\\\b\" + regex;\n\t      }\n\n\t      tokens.push({\n\t        string: word,\n\t        regex: regex ? new RegExp(regex, 'iu') : null,\n\t        field: field\n\t      });\n\t    });\n\t    return tokens;\n\t  }\n\n\t  /**\n\t   * Returns a function to be used to score individual results.\n\t   *\n\t   * Good matches will have a higher score than poor matches.\n\t   * If an item is not a match, 0 will be returned by the function.\n\t   *\n\t   * @returns {T.ScoreFn}\n\t   */\n\t  getScoreFunction(query, options) {\n\t    var search = this.prepareSearch(query, options);\n\t    return this._getScoreFunction(search);\n\t  }\n\t  /**\n\t   * @returns {T.ScoreFn}\n\t   *\n\t   */\n\n\n\t  _getScoreFunction(search) {\n\t    const tokens = search.tokens,\n\t          token_count = tokens.length;\n\n\t    if (!token_count) {\n\t      return function () {\n\t        return 0;\n\t      };\n\t    }\n\n\t    const fields = search.options.fields,\n\t          weights = search.weights,\n\t          field_count = fields.length,\n\t          getAttrFn = search.getAttrFn;\n\n\t    if (!field_count) {\n\t      return function () {\n\t        return 1;\n\t      };\n\t    }\n\t    /**\n\t     * Calculates the score of an object\n\t     * against the search query.\n\t     *\n\t     */\n\n\n\t    const scoreObject = function () {\n\t      if (field_count === 1) {\n\t        return function (token, data) {\n\t          const field = fields[0].field;\n\t          return scoreValue(getAttrFn(data, field), token, weights[field] || 1);\n\t        };\n\t      }\n\n\t      return function (token, data) {\n\t        var sum = 0; // is the token specific to a field?\n\n\t        if (token.field) {\n\t          const value = getAttrFn(data, token.field);\n\n\t          if (!token.regex && value) {\n\t            sum += 1 / field_count;\n\t          } else {\n\t            sum += scoreValue(value, token, 1);\n\t          }\n\t        } else {\n\t          iterate$1(weights, (weight, field) => {\n\t            sum += scoreValue(getAttrFn(data, field), token, weight);\n\t          });\n\t        }\n\n\t        return sum / field_count;\n\t      };\n\t    }();\n\n\t    if (token_count === 1) {\n\t      return function (data) {\n\t        return scoreObject(tokens[0], data);\n\t      };\n\t    }\n\n\t    if (search.options.conjunction === 'and') {\n\t      return function (data) {\n\t        var score,\n\t            sum = 0;\n\n\t        for (let token of tokens) {\n\t          score = scoreObject(token, data);\n\t          if (score <= 0) return 0;\n\t          sum += score;\n\t        }\n\n\t        return sum / token_count;\n\t      };\n\t    } else {\n\t      return function (data) {\n\t        var sum = 0;\n\t        iterate$1(tokens, token => {\n\t          sum += scoreObject(token, data);\n\t        });\n\t        return sum / token_count;\n\t      };\n\t    }\n\t  }\n\n\t  /**\n\t   * Returns a function that can be used to compare two\n\t   * results, for sorting purposes. If no sorting should\n\t   * be performed, `null` will be returned.\n\t   *\n\t   * @return function(a,b)\n\t   */\n\t  getSortFunction(query, options) {\n\t    var search = this.prepareSearch(query, options);\n\t    return this._getSortFunction(search);\n\t  }\n\n\t  _getSortFunction(search) {\n\t    var implicit_score,\n\t        sort_flds = [];\n\t    const self = this,\n\t          options = search.options,\n\t          sort = !search.query && options.sort_empty ? options.sort_empty : options.sort;\n\n\t    if (typeof sort == 'function') {\n\t      return sort.bind(this);\n\t    }\n\t    /**\n\t     * Fetches the specified sort field value\n\t     * from a search result item.\n\t     *\n\t     */\n\n\n\t    const get_field = function get_field(name, result) {\n\t      if (name === '$score') return result.score;\n\t      return search.getAttrFn(self.items[result.id], name);\n\t    }; // parse options\n\n\n\t    if (sort) {\n\t      for (let s of sort) {\n\t        if (search.query || s.field !== '$score') {\n\t          sort_flds.push(s);\n\t        }\n\t      }\n\t    } // the \"$score\" field is implied to be the primary\n\t    // sort field, unless it's manually specified\n\n\n\t    if (search.query) {\n\t      implicit_score = true;\n\n\t      for (let fld of sort_flds) {\n\t        if (fld.field === '$score') {\n\t          implicit_score = false;\n\t          break;\n\t        }\n\t      }\n\n\t      if (implicit_score) {\n\t        sort_flds.unshift({\n\t          field: '$score',\n\t          direction: 'desc'\n\t        });\n\t      } // without a search.query, all items will have the same score\n\n\t    } else {\n\t      sort_flds = sort_flds.filter(fld => fld.field !== '$score');\n\t    } // build function\n\n\n\t    const sort_flds_count = sort_flds.length;\n\n\t    if (!sort_flds_count) {\n\t      return null;\n\t    }\n\n\t    return function (a, b) {\n\t      var result, field;\n\n\t      for (let sort_fld of sort_flds) {\n\t        field = sort_fld.field;\n\t        let multiplier = sort_fld.direction === 'desc' ? -1 : 1;\n\t        result = multiplier * cmp(get_field(field, a), get_field(field, b));\n\t        if (result) return result;\n\t      }\n\n\t      return 0;\n\t    };\n\t  }\n\n\t  /**\n\t   * Parses a search query and returns an object\n\t   * with tokens and fields ready to be populated\n\t   * with results.\n\t   *\n\t   */\n\t  prepareSearch(query, optsUser) {\n\t    const weights = {};\n\t    var options = Object.assign({}, optsUser);\n\t    propToArray(options, 'sort');\n\t    propToArray(options, 'sort_empty'); // convert fields to new format\n\n\t    if (options.fields) {\n\t      propToArray(options, 'fields');\n\t      const fields = [];\n\t      options.fields.forEach(field => {\n\t        if (typeof field == 'string') {\n\t          field = {\n\t            field: field,\n\t            weight: 1\n\t          };\n\t        }\n\n\t        fields.push(field);\n\t        weights[field.field] = 'weight' in field ? field.weight : 1;\n\t      });\n\t      options.fields = fields;\n\t    }\n\n\t    return {\n\t      options: options,\n\t      query: query.toLowerCase().trim(),\n\t      tokens: this.tokenize(query, options.respect_word_boundaries, weights),\n\t      total: 0,\n\t      items: [],\n\t      weights: weights,\n\t      getAttrFn: options.nesting ? getAttrNesting : getAttr\n\t    };\n\t  }\n\n\t  /**\n\t   * Searches through all items and returns a sorted array of matches.\n\t   *\n\t   */\n\t  search(query, options) {\n\t    var self = this,\n\t        score,\n\t        search;\n\t    search = this.prepareSearch(query, options);\n\t    options = search.options;\n\t    query = search.query; // generate result scoring function\n\n\t    const fn_score = options.score || self._getScoreFunction(search); // perform search and sort\n\n\n\t    if (query.length) {\n\t      iterate$1(self.items, (item, id) => {\n\t        score = fn_score(item);\n\n\t        if (options.filter === false || score > 0) {\n\t          search.items.push({\n\t            'score': score,\n\t            'id': id\n\t          });\n\t        }\n\t      });\n\t    } else {\n\t      iterate$1(self.items, (_, id) => {\n\t        search.items.push({\n\t          'score': 1,\n\t          'id': id\n\t        });\n\t      });\n\t    }\n\n\t    const fn_sort = self._getSortFunction(search);\n\n\t    if (fn_sort) search.items.sort(fn_sort); // apply limits\n\n\t    search.total = search.items.length;\n\n\t    if (typeof options.limit === 'number') {\n\t      search.items = search.items.slice(0, options.limit);\n\t    }\n\n\t    return search;\n\t  }\n\n\t}\n\n\t/**\n\t * Iterates over arrays and hashes.\n\t *\n\t * ```\n\t * iterate(this.items, function(item, id) {\n\t *    // invoked for each item\n\t * });\n\t * ```\n\t *\n\t */\n\n\tconst iterate = (object, callback) => {\n\t  if (Array.isArray(object)) {\n\t    object.forEach(callback);\n\t  } else {\n\t    for (var key in object) {\n\t      if (object.hasOwnProperty(key)) {\n\t        callback(object[key], key);\n\t      }\n\t    }\n\t  }\n\t};\n\n\t/**\n\t * Return a dom element from either a dom query string, jQuery object, a dom element or html string\n\t * https://stackoverflow.com/questions/494143/creating-a-new-dom-element-from-an-html-string-using-built-in-dom-methods-or-pro/35385518#35385518\n\t *\n\t * param query should be {}\n\t */\n\n\tconst getDom = query => {\n\t  if (query.jquery) {\n\t    return query[0];\n\t  }\n\n\t  if (query instanceof HTMLElement) {\n\t    return query;\n\t  }\n\n\t  if (isHtmlString(query)) {\n\t    var tpl = document.createElement('template');\n\t    tpl.innerHTML = query.trim(); // Never return a text node of whitespace as the result\n\n\t    return tpl.content.firstChild;\n\t  }\n\n\t  return document.querySelector(query);\n\t};\n\tconst isHtmlString = arg => {\n\t  if (typeof arg === 'string' && arg.indexOf('<') > -1) {\n\t    return true;\n\t  }\n\n\t  return false;\n\t};\n\tconst escapeQuery = query => {\n\t  return query.replace(/['\"\\\\]/g, '\\\\$&');\n\t};\n\t/**\n\t * Dispatch an event\n\t *\n\t */\n\n\tconst triggerEvent = (dom_el, event_name) => {\n\t  var event = document.createEvent('HTMLEvents');\n\t  event.initEvent(event_name, true, false);\n\t  dom_el.dispatchEvent(event);\n\t};\n\t/**\n\t * Apply CSS rules to a dom element\n\t *\n\t */\n\n\tconst applyCSS = (dom_el, css) => {\n\t  Object.assign(dom_el.style, css);\n\t};\n\t/**\n\t * Add css classes\n\t *\n\t */\n\n\tconst addClasses = (elmts, ...classes) => {\n\t  var norm_classes = classesArray(classes);\n\t  elmts = castAsArray(elmts);\n\t  elmts.map(el => {\n\t    norm_classes.map(cls => {\n\t      el.classList.add(cls);\n\t    });\n\t  });\n\t};\n\t/**\n\t * Remove css classes\n\t *\n\t */\n\n\tconst removeClasses = (elmts, ...classes) => {\n\t  var norm_classes = classesArray(classes);\n\t  elmts = castAsArray(elmts);\n\t  elmts.map(el => {\n\t    norm_classes.map(cls => {\n\t      el.classList.remove(cls);\n\t    });\n\t  });\n\t};\n\t/**\n\t * Return arguments\n\t *\n\t */\n\n\tconst classesArray = args => {\n\t  var classes = [];\n\t  iterate(args, _classes => {\n\t    if (typeof _classes === 'string') {\n\t      _classes = _classes.trim().split(/[\\11\\12\\14\\15\\40]/);\n\t    }\n\n\t    if (Array.isArray(_classes)) {\n\t      classes = classes.concat(_classes);\n\t    }\n\t  });\n\t  return classes.filter(Boolean);\n\t};\n\t/**\n\t * Create an array from arg if it's not already an array\n\t *\n\t */\n\n\tconst castAsArray = arg => {\n\t  if (!Array.isArray(arg)) {\n\t    arg = [arg];\n\t  }\n\n\t  return arg;\n\t};\n\t/**\n\t * Get the closest node to the evt.target matching the selector\n\t * Stops at wrapper\n\t *\n\t */\n\n\tconst parentMatch = (target, selector, wrapper) => {\n\t  if (wrapper && !wrapper.contains(target)) {\n\t    return;\n\t  }\n\n\t  while (target && target.matches) {\n\t    if (target.matches(selector)) {\n\t      return target;\n\t    }\n\n\t    target = target.parentNode;\n\t  }\n\t};\n\t/**\n\t * Get the first or last item from an array\n\t *\n\t * > 0 - right (last)\n\t * <= 0 - left (first)\n\t *\n\t */\n\n\tconst getTail = (list, direction = 0) => {\n\t  if (direction > 0) {\n\t    return list[list.length - 1];\n\t  }\n\n\t  return list[0];\n\t};\n\t/**\n\t * Return true if an object is empty\n\t *\n\t */\n\n\tconst isEmptyObject = obj => {\n\t  return Object.keys(obj).length === 0;\n\t};\n\t/**\n\t * Get the index of an element amongst sibling nodes of the same type\n\t *\n\t */\n\n\tconst nodeIndex = (el, amongst) => {\n\t  if (!el) return -1;\n\t  amongst = amongst || el.nodeName;\n\t  var i = 0;\n\n\t  while (el = el.previousElementSibling) {\n\t    if (el.matches(amongst)) {\n\t      i++;\n\t    }\n\t  }\n\n\t  return i;\n\t};\n\t/**\n\t * Set attributes of an element\n\t *\n\t */\n\n\tconst setAttr = (el, attrs) => {\n\t  iterate(attrs, (val, attr) => {\n\t    if (val == null) {\n\t      el.removeAttribute(attr);\n\t    } else {\n\t      el.setAttribute(attr, '' + val);\n\t    }\n\t  });\n\t};\n\t/**\n\t * Replace a node\n\t */\n\n\tconst replaceNode = (existing, replacement) => {\n\t  if (existing.parentNode) existing.parentNode.replaceChild(replacement, existing);\n\t};\n\n\t/**\n\t * highlight v3 | MIT license | Johann Burkard <jb@eaio.com>\n\t * Highlights arbitrary terms in a node.\n\t *\n\t * - Modified by Marshal <beatgates@gmail.com> 2011-6-24 (added regex)\n\t * - Modified by Brian Reavis <brian@thirdroute.com> 2012-8-27 (cleanup)\n\t */\n\tconst highlight = (element, regex) => {\n\t  if (regex === null) return; // convet string to regex\n\n\t  if (typeof regex === 'string') {\n\t    if (!regex.length) return;\n\t    regex = new RegExp(regex, 'i');\n\t  } // Wrap matching part of text node with highlighting <span>, e.g.\n\t  // Soccer  ->  <span class=\"highlight\">Soc</span>cer  for regex = /soc/i\n\n\n\t  const highlightText = node => {\n\t    var match = node.data.match(regex);\n\n\t    if (match && node.data.length > 0) {\n\t      var spannode = document.createElement('span');\n\t      spannode.className = 'highlight';\n\t      var middlebit = node.splitText(match.index);\n\t      middlebit.splitText(match[0].length);\n\t      var middleclone = middlebit.cloneNode(true);\n\t      spannode.appendChild(middleclone);\n\t      replaceNode(middlebit, spannode);\n\t      return 1;\n\t    }\n\n\t    return 0;\n\t  }; // Recurse element node, looking for child text nodes to highlight, unless element\n\t  // is childless, <script>, <style>, or already highlighted: <span class=\"hightlight\">\n\n\n\t  const highlightChildren = node => {\n\t    if (node.nodeType === 1 && node.childNodes && !/(script|style)/i.test(node.tagName) && (node.className !== 'highlight' || node.tagName !== 'SPAN')) {\n\t      Array.from(node.childNodes).forEach(element => {\n\t        highlightRecursive(element);\n\t      });\n\t    }\n\t  };\n\n\t  const highlightRecursive = node => {\n\t    if (node.nodeType === 3) {\n\t      return highlightText(node);\n\t    }\n\n\t    highlightChildren(node);\n\t    return 0;\n\t  };\n\n\t  highlightRecursive(element);\n\t};\n\t/**\n\t * removeHighlight fn copied from highlight v5 and\n\t * edited to remove with(), pass js strict mode, and use without jquery\n\t */\n\n\tconst removeHighlight = el => {\n\t  var elements = el.querySelectorAll(\"span.highlight\");\n\t  Array.prototype.forEach.call(elements, function (el) {\n\t    var parent = el.parentNode;\n\t    parent.replaceChild(el.firstChild, el);\n\t    parent.normalize();\n\t  });\n\t};\n\n\tconst KEY_A = 65;\n\tconst KEY_RETURN = 13;\n\tconst KEY_ESC = 27;\n\tconst KEY_LEFT = 37;\n\tconst KEY_UP = 38;\n\tconst KEY_RIGHT = 39;\n\tconst KEY_DOWN = 40;\n\tconst KEY_BACKSPACE = 8;\n\tconst KEY_DELETE = 46;\n\tconst KEY_TAB = 9;\n\tconst IS_MAC = typeof navigator === 'undefined' ? false : /Mac/.test(navigator.userAgent);\n\tconst KEY_SHORTCUT = IS_MAC ? 'metaKey' : 'ctrlKey'; // ctrl key or apple key for ma\n\n\tvar defaults = {\n\t  options: [],\n\t  optgroups: [],\n\t  plugins: [],\n\t  delimiter: ',',\n\t  splitOn: null,\n\t  // regexp or string for splitting up values from a paste command\n\t  persist: true,\n\t  diacritics: true,\n\t  create: null,\n\t  createOnBlur: false,\n\t  createFilter: null,\n\t  highlight: true,\n\t  openOnFocus: true,\n\t  shouldOpen: null,\n\t  maxOptions: 50,\n\t  maxItems: null,\n\t  hideSelected: null,\n\t  duplicates: false,\n\t  addPrecedence: false,\n\t  selectOnTab: false,\n\t  preload: null,\n\t  allowEmptyOption: false,\n\t  //closeAfterSelect: false,\n\t  loadThrottle: 300,\n\t  loadingClass: 'loading',\n\t  dataAttr: null,\n\t  //'data-data',\n\t  optgroupField: 'optgroup',\n\t  valueField: 'value',\n\t  labelField: 'text',\n\t  disabledField: 'disabled',\n\t  optgroupLabelField: 'label',\n\t  optgroupValueField: 'value',\n\t  lockOptgroupOrder: false,\n\t  sortField: '$order',\n\t  searchField: ['text'],\n\t  searchConjunction: 'and',\n\t  mode: null,\n\t  wrapperClass: 'ts-wrapper',\n\t  controlClass: 'ts-control',\n\t  dropdownClass: 'ts-dropdown',\n\t  dropdownContentClass: 'ts-dropdown-content',\n\t  itemClass: 'item',\n\t  optionClass: 'option',\n\t  dropdownParent: null,\n\t  controlInput: '<input type=\"text\" autocomplete=\"off\" size=\"1\" />',\n\t  copyClassesToDropdown: false,\n\t  placeholder: null,\n\t  hidePlaceholder: null,\n\t  shouldLoad: function (query) {\n\t    return query.length > 0;\n\t  },\n\n\t  /*\n\t  load                 : null, // function(query, callback) { ... }\n\t  score                : null, // function(search) { ... }\n\t  onInitialize         : null, // function() { ... }\n\t  onChange             : null, // function(value) { ... }\n\t  onItemAdd            : null, // function(value, $item) { ... }\n\t  onItemRemove         : null, // function(value) { ... }\n\t  onClear              : null, // function() { ... }\n\t  onOptionAdd          : null, // function(value, data) { ... }\n\t  onOptionRemove       : null, // function(value) { ... }\n\t  onOptionClear        : null, // function() { ... }\n\t  onOptionGroupAdd     : null, // function(id, data) { ... }\n\t  onOptionGroupRemove  : null, // function(id) { ... }\n\t  onOptionGroupClear   : null, // function() { ... }\n\t  onDropdownOpen       : null, // function(dropdown) { ... }\n\t  onDropdownClose      : null, // function(dropdown) { ... }\n\t  onType               : null, // function(str) { ... }\n\t  onDelete             : null, // function(values) { ... }\n\t  */\n\t  render: {\n\t    /*\n\t    item: null,\n\t    optgroup: null,\n\t    optgroup_header: null,\n\t    option: null,\n\t    option_create: null\n\t    */\n\t  }\n\t};\n\n\t/**\n\t * Converts a scalar to its best string representation\n\t * for hash keys and HTML attribute values.\n\t *\n\t * Transformations:\n\t *   'str'     -> 'str'\n\t *   null      -> ''\n\t *   undefined -> ''\n\t *   true      -> '1'\n\t *   false     -> '0'\n\t *   0         -> '0'\n\t *   1         -> '1'\n\t *\n\t */\n\tconst hash_key = value => {\n\t  if (typeof value === 'undefined' || value === null) return null;\n\t  return get_hash(value);\n\t};\n\tconst get_hash = value => {\n\t  if (typeof value === 'boolean') return value ? '1' : '0';\n\t  return value + '';\n\t};\n\t/**\n\t * Escapes a string for use within HTML.\n\t *\n\t */\n\n\tconst escape_html = str => {\n\t  return (str + '').replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;');\n\t};\n\t/**\n\t * Debounce the user provided load function\n\t *\n\t */\n\n\tconst loadDebounce = (fn, delay) => {\n\t  var timeout;\n\t  return function (value, callback) {\n\t    var self = this;\n\n\t    if (timeout) {\n\t      self.loading = Math.max(self.loading - 1, 0);\n\t      clearTimeout(timeout);\n\t    }\n\n\t    timeout = setTimeout(function () {\n\t      timeout = null;\n\t      self.loadedSearches[value] = true;\n\t      fn.call(self, value, callback);\n\t    }, delay);\n\t  };\n\t};\n\t/**\n\t * Debounce all fired events types listed in `types`\n\t * while executing the provided `fn`.\n\t *\n\t */\n\n\tconst debounce_events = (self, types, fn) => {\n\t  var type;\n\t  var trigger = self.trigger;\n\t  var event_args = {}; // override trigger method\n\n\t  self.trigger = function () {\n\t    var type = arguments[0];\n\n\t    if (types.indexOf(type) !== -1) {\n\t      event_args[type] = arguments;\n\t    } else {\n\t      return trigger.apply(self, arguments);\n\t    }\n\t  }; // invoke provided function\n\n\n\t  fn.apply(self, []);\n\t  self.trigger = trigger; // trigger queued events\n\n\t  for (type of types) {\n\t    if (type in event_args) {\n\t      trigger.apply(self, event_args[type]);\n\t    }\n\t  }\n\t};\n\t/**\n\t * Determines the current selection within a text input control.\n\t * Returns an object containing:\n\t *   - start\n\t *   - length\n\t *\n\t */\n\n\tconst getSelection = input => {\n\t  return {\n\t    start: input.selectionStart || 0,\n\t    length: (input.selectionEnd || 0) - (input.selectionStart || 0)\n\t  };\n\t};\n\t/**\n\t * Prevent default\n\t *\n\t */\n\n\tconst preventDefault = (evt, stop = false) => {\n\t  if (evt) {\n\t    evt.preventDefault();\n\n\t    if (stop) {\n\t      evt.stopPropagation();\n\t    }\n\t  }\n\t};\n\t/**\n\t * Add event helper\n\t *\n\t */\n\n\tconst addEvent = (target, type, callback, options) => {\n\t  target.addEventListener(type, callback, options);\n\t};\n\t/**\n\t * Return true if the requested key is down\n\t * Will return false if more than one control character is pressed ( when [ctrl+shift+a] != [ctrl+a] )\n\t * The current evt may not always set ( eg calling advanceSelection() )\n\t *\n\t */\n\n\tconst isKeyDown = (key_name, evt) => {\n\t  if (!evt) {\n\t    return false;\n\t  }\n\n\t  if (!evt[key_name]) {\n\t    return false;\n\t  }\n\n\t  var count = (evt.altKey ? 1 : 0) + (evt.ctrlKey ? 1 : 0) + (evt.shiftKey ? 1 : 0) + (evt.metaKey ? 1 : 0);\n\n\t  if (count === 1) {\n\t    return true;\n\t  }\n\n\t  return false;\n\t};\n\t/**\n\t * Get the id of an element\n\t * If the id attribute is not set, set the attribute with the given id\n\t *\n\t */\n\n\tconst getId = (el, id) => {\n\t  const existing_id = el.getAttribute('id');\n\n\t  if (existing_id) {\n\t    return existing_id;\n\t  }\n\n\t  el.setAttribute('id', id);\n\t  return id;\n\t};\n\t/**\n\t * Returns a string with backslashes added before characters that need to be escaped.\n\t */\n\n\tconst addSlashes = str => {\n\t  return str.replace(/[\\\\\"']/g, '\\\\$&');\n\t};\n\t/**\n\t *\n\t */\n\n\tconst append = (parent, node) => {\n\t  if (node) parent.append(node);\n\t};\n\n\tfunction getSettings(input, settings_user) {\n\t  var settings = Object.assign({}, defaults, settings_user);\n\t  var attr_data = settings.dataAttr;\n\t  var field_label = settings.labelField;\n\t  var field_value = settings.valueField;\n\t  var field_disabled = settings.disabledField;\n\t  var field_optgroup = settings.optgroupField;\n\t  var field_optgroup_label = settings.optgroupLabelField;\n\t  var field_optgroup_value = settings.optgroupValueField;\n\t  var tag_name = input.tagName.toLowerCase();\n\t  var placeholder = input.getAttribute('placeholder') || input.getAttribute('data-placeholder');\n\n\t  if (!placeholder && !settings.allowEmptyOption) {\n\t    let option = input.querySelector('option[value=\"\"]');\n\n\t    if (option) {\n\t      placeholder = option.textContent;\n\t    }\n\t  }\n\n\t  var settings_element = {\n\t    placeholder: placeholder,\n\t    options: [],\n\t    optgroups: [],\n\t    items: [],\n\t    maxItems: null\n\t  };\n\t  /**\n\t   * Initialize from a <select> element.\n\t   *\n\t   */\n\n\t  var init_select = () => {\n\t    var tagName;\n\t    var options = settings_element.options;\n\t    var optionsMap = {};\n\t    var group_count = 1;\n\n\t    var readData = el => {\n\t      var data = Object.assign({}, el.dataset); // get plain object from DOMStringMap\n\n\t      var json = attr_data && data[attr_data];\n\n\t      if (typeof json === 'string' && json.length) {\n\t        data = Object.assign(data, JSON.parse(json));\n\t      }\n\n\t      return data;\n\t    };\n\n\t    var addOption = (option, group) => {\n\t      var value = hash_key(option.value);\n\t      if (value == null) return;\n\t      if (!value && !settings.allowEmptyOption) return; // if the option already exists, it's probably been\n\t      // duplicated in another optgroup. in this case, push\n\t      // the current group to the \"optgroup\" property on the\n\t      // existing option so that it's rendered in both places.\n\n\t      if (optionsMap.hasOwnProperty(value)) {\n\t        if (group) {\n\t          var arr = optionsMap[value][field_optgroup];\n\n\t          if (!arr) {\n\t            optionsMap[value][field_optgroup] = group;\n\t          } else if (!Array.isArray(arr)) {\n\t            optionsMap[value][field_optgroup] = [arr, group];\n\t          } else {\n\t            arr.push(group);\n\t          }\n\t        }\n\t      } else {\n\t        var option_data = readData(option);\n\t        option_data[field_label] = option_data[field_label] || option.textContent;\n\t        option_data[field_value] = option_data[field_value] || value;\n\t        option_data[field_disabled] = option_data[field_disabled] || option.disabled;\n\t        option_data[field_optgroup] = option_data[field_optgroup] || group;\n\t        option_data.$option = option;\n\t        optionsMap[value] = option_data;\n\t        options.push(option_data);\n\t      }\n\n\t      if (option.selected) {\n\t        settings_element.items.push(value);\n\t      }\n\t    };\n\n\t    var addGroup = optgroup => {\n\t      var id, optgroup_data;\n\t      optgroup_data = readData(optgroup);\n\t      optgroup_data[field_optgroup_label] = optgroup_data[field_optgroup_label] || optgroup.getAttribute('label') || '';\n\t      optgroup_data[field_optgroup_value] = optgroup_data[field_optgroup_value] || group_count++;\n\t      optgroup_data[field_disabled] = optgroup_data[field_disabled] || optgroup.disabled;\n\t      settings_element.optgroups.push(optgroup_data);\n\t      id = optgroup_data[field_optgroup_value];\n\t      iterate(optgroup.children, option => {\n\t        addOption(option, id);\n\t      });\n\t    };\n\n\t    settings_element.maxItems = input.hasAttribute('multiple') ? null : 1;\n\t    iterate(input.children, child => {\n\t      tagName = child.tagName.toLowerCase();\n\n\t      if (tagName === 'optgroup') {\n\t        addGroup(child);\n\t      } else if (tagName === 'option') {\n\t        addOption(child);\n\t      }\n\t    });\n\t  };\n\t  /**\n\t   * Initialize from a <input type=\"text\"> element.\n\t   *\n\t   */\n\n\n\t  var init_textbox = () => {\n\t    const data_raw = input.getAttribute(attr_data);\n\n\t    if (!data_raw) {\n\t      var value = input.value.trim() || '';\n\t      if (!settings.allowEmptyOption && !value.length) return;\n\t      const values = value.split(settings.delimiter);\n\t      iterate(values, value => {\n\t        const option = {};\n\t        option[field_label] = value;\n\t        option[field_value] = value;\n\t        settings_element.options.push(option);\n\t      });\n\t      settings_element.items = values;\n\t    } else {\n\t      settings_element.options = JSON.parse(data_raw);\n\t      iterate(settings_element.options, opt => {\n\t        settings_element.items.push(opt[field_value]);\n\t      });\n\t    }\n\t  };\n\n\t  if (tag_name === 'select') {\n\t    init_select();\n\t  } else {\n\t    init_textbox();\n\t  }\n\n\t  return Object.assign({}, defaults, settings_element, settings_user);\n\t}\n\n\tvar instance_i = 0;\n\tclass TomSelect extends MicroPlugin(MicroEvent) {\n\t  // @deprecated 1.8\n\t  constructor(input_arg, user_settings) {\n\t    super();\n\t    this.control_input = void 0;\n\t    this.wrapper = void 0;\n\t    this.dropdown = void 0;\n\t    this.control = void 0;\n\t    this.dropdown_content = void 0;\n\t    this.focus_node = void 0;\n\t    this.order = 0;\n\t    this.settings = void 0;\n\t    this.input = void 0;\n\t    this.tabIndex = void 0;\n\t    this.is_select_tag = void 0;\n\t    this.rtl = void 0;\n\t    this.inputId = void 0;\n\t    this._destroy = void 0;\n\t    this.sifter = void 0;\n\t    this.isOpen = false;\n\t    this.isDisabled = false;\n\t    this.isRequired = void 0;\n\t    this.isInvalid = false;\n\t    this.isValid = true;\n\t    this.isLocked = false;\n\t    this.isFocused = false;\n\t    this.isInputHidden = false;\n\t    this.isSetup = false;\n\t    this.ignoreFocus = false;\n\t    this.ignoreHover = false;\n\t    this.hasOptions = false;\n\t    this.currentResults = void 0;\n\t    this.lastValue = '';\n\t    this.caretPos = 0;\n\t    this.loading = 0;\n\t    this.loadedSearches = {};\n\t    this.activeOption = null;\n\t    this.activeItems = [];\n\t    this.optgroups = {};\n\t    this.options = {};\n\t    this.userOptions = {};\n\t    this.items = [];\n\t    instance_i++;\n\t    var dir;\n\t    var input = getDom(input_arg);\n\n\t    if (input.tomselect) {\n\t      throw new Error('Tom Select already initialized on this element');\n\t    }\n\n\t    input.tomselect = this; // detect rtl environment\n\n\t    var computedStyle = window.getComputedStyle && window.getComputedStyle(input, null);\n\t    dir = computedStyle.getPropertyValue('direction'); // setup default state\n\n\t    const settings = getSettings(input, user_settings);\n\t    this.settings = settings;\n\t    this.input = input;\n\t    this.tabIndex = input.tabIndex || 0;\n\t    this.is_select_tag = input.tagName.toLowerCase() === 'select';\n\t    this.rtl = /rtl/i.test(dir);\n\t    this.inputId = getId(input, 'tomselect-' + instance_i);\n\t    this.isRequired = input.required; // search system\n\n\t    this.sifter = new Sifter(this.options, {\n\t      diacritics: settings.diacritics\n\t    }); // option-dependent defaults\n\n\t    settings.mode = settings.mode || (settings.maxItems === 1 ? 'single' : 'multi');\n\n\t    if (typeof settings.hideSelected !== 'boolean') {\n\t      settings.hideSelected = settings.mode === 'multi';\n\t    }\n\n\t    if (typeof settings.hidePlaceholder !== 'boolean') {\n\t      settings.hidePlaceholder = settings.mode !== 'multi';\n\t    } // set up createFilter callback\n\n\n\t    var filter = settings.createFilter;\n\n\t    if (typeof filter !== 'function') {\n\t      if (typeof filter === 'string') {\n\t        filter = new RegExp(filter);\n\t      }\n\n\t      if (filter instanceof RegExp) {\n\t        settings.createFilter = input => filter.test(input);\n\t      } else {\n\t        settings.createFilter = value => {\n\t          return this.settings.duplicates || !this.options[value];\n\t        };\n\t      }\n\t    }\n\n\t    this.initializePlugins(settings.plugins);\n\t    this.setupCallbacks();\n\t    this.setupTemplates(); // Create all elements\n\n\t    const wrapper = getDom('<div>');\n\t    const control = getDom('<div>');\n\n\t    const dropdown = this._render('dropdown');\n\n\t    const dropdown_content = getDom(`<div role=\"listbox\" tabindex=\"-1\">`);\n\t    const classes = this.input.getAttribute('class') || '';\n\t    const inputMode = settings.mode;\n\t    var control_input;\n\t    addClasses(wrapper, settings.wrapperClass, classes, inputMode);\n\t    addClasses(control, settings.controlClass);\n\t    append(wrapper, control);\n\t    addClasses(dropdown, settings.dropdownClass, inputMode);\n\n\t    if (settings.copyClassesToDropdown) {\n\t      addClasses(dropdown, classes);\n\t    }\n\n\t    addClasses(dropdown_content, settings.dropdownContentClass);\n\t    append(dropdown, dropdown_content);\n\t    getDom(settings.dropdownParent || wrapper).appendChild(dropdown); // default controlInput\n\n\t    if (isHtmlString(settings.controlInput)) {\n\t      control_input = getDom(settings.controlInput); // set attributes\n\n\t      var attrs = ['autocorrect', 'autocapitalize', 'autocomplete'];\n\t      iterate$1(attrs, attr => {\n\t        if (input.getAttribute(attr)) {\n\t          setAttr(control_input, {\n\t            [attr]: input.getAttribute(attr)\n\t          });\n\t        }\n\t      });\n\t      control_input.tabIndex = -1;\n\t      control.appendChild(control_input);\n\t      this.focus_node = control_input; // dom element\n\t    } else if (settings.controlInput) {\n\t      control_input = getDom(settings.controlInput);\n\t      this.focus_node = control_input;\n\t    } else {\n\t      control_input = getDom('<input/>');\n\t      this.focus_node = control;\n\t    }\n\n\t    this.wrapper = wrapper;\n\t    this.dropdown = dropdown;\n\t    this.dropdown_content = dropdown_content;\n\t    this.control = control;\n\t    this.control_input = control_input;\n\t    this.setup();\n\t  }\n\t  /**\n\t   * set up event bindings.\n\t   *\n\t   */\n\n\n\t  setup() {\n\t    const self = this;\n\t    const settings = self.settings;\n\t    const control_input = self.control_input;\n\t    const dropdown = self.dropdown;\n\t    const dropdown_content = self.dropdown_content;\n\t    const wrapper = self.wrapper;\n\t    const control = self.control;\n\t    const input = self.input;\n\t    const focus_node = self.focus_node;\n\t    const passive_event = {\n\t      passive: true\n\t    };\n\t    const listboxId = self.inputId + '-ts-dropdown';\n\t    setAttr(dropdown_content, {\n\t      id: listboxId\n\t    });\n\t    setAttr(focus_node, {\n\t      role: 'combobox',\n\t      'aria-haspopup': 'listbox',\n\t      'aria-expanded': 'false',\n\t      'aria-controls': listboxId\n\t    });\n\t    const control_id = getId(focus_node, self.inputId + '-ts-control');\n\t    const query = \"label[for='\" + escapeQuery(self.inputId) + \"']\";\n\t    const label = document.querySelector(query);\n\t    const label_click = self.focus.bind(self);\n\n\t    if (label) {\n\t      addEvent(label, 'click', label_click);\n\t      setAttr(label, {\n\t        for: control_id\n\t      });\n\t      const label_id = getId(label, self.inputId + '-ts-label');\n\t      setAttr(focus_node, {\n\t        'aria-labelledby': label_id\n\t      });\n\t      setAttr(dropdown_content, {\n\t        'aria-labelledby': label_id\n\t      });\n\t    }\n\n\t    wrapper.style.width = input.style.width;\n\n\t    if (self.plugins.names.length) {\n\t      const classes_plugins = 'plugin-' + self.plugins.names.join(' plugin-');\n\t      addClasses([wrapper, dropdown], classes_plugins);\n\t    }\n\n\t    if ((settings.maxItems === null || settings.maxItems > 1) && self.is_select_tag) {\n\t      setAttr(input, {\n\t        multiple: 'multiple'\n\t      });\n\t    }\n\n\t    if (settings.placeholder) {\n\t      setAttr(control_input, {\n\t        placeholder: settings.placeholder\n\t      });\n\t    } // if splitOn was not passed in, construct it from the delimiter to allow pasting universally\n\n\n\t    if (!settings.splitOn && settings.delimiter) {\n\t      settings.splitOn = new RegExp('\\\\s*' + escape_regex(settings.delimiter) + '+\\\\s*');\n\t    } // debounce user defined load() if loadThrottle > 0\n\t    // after initializePlugins() so plugins can create/modify user defined loaders\n\n\n\t    if (settings.load && settings.loadThrottle) {\n\t      settings.load = loadDebounce(settings.load, settings.loadThrottle);\n\t    }\n\n\t    self.control_input.type = input.type;\n\t    addEvent(dropdown, 'mousemove', () => {\n\t      self.ignoreHover = false;\n\t    });\n\t    addEvent(dropdown, 'mouseenter', e => {\n\t      var target_match = parentMatch(e.target, '[data-selectable]', dropdown);\n\t      if (target_match) self.onOptionHover(e, target_match);\n\t    }, {\n\t      capture: true\n\t    }); // clicking on an option should select it\n\n\t    addEvent(dropdown, 'click', evt => {\n\t      const option = parentMatch(evt.target, '[data-selectable]');\n\n\t      if (option) {\n\t        self.onOptionSelect(evt, option);\n\t        preventDefault(evt, true);\n\t      }\n\t    });\n\t    addEvent(control, 'click', evt => {\n\t      var target_match = parentMatch(evt.target, '[data-ts-item]', control);\n\n\t      if (target_match && self.onItemSelect(evt, target_match)) {\n\t        preventDefault(evt, true);\n\t        return;\n\t      } // retain focus (see control_input mousedown)\n\n\n\t      if (control_input.value != '') {\n\t        return;\n\t      }\n\n\t      self.onClick();\n\t      preventDefault(evt, true);\n\t    }); // keydown on focus_node for arrow_down/arrow_up\n\n\t    addEvent(focus_node, 'keydown', e => self.onKeyDown(e)); // keypress and input/keyup\n\n\t    addEvent(control_input, 'keypress', e => self.onKeyPress(e));\n\t    addEvent(control_input, 'input', e => self.onInput(e));\n\t    addEvent(focus_node, 'blur', e => self.onBlur(e));\n\t    addEvent(focus_node, 'focus', e => self.onFocus(e));\n\t    addEvent(control_input, 'paste', e => self.onPaste(e));\n\n\t    const doc_mousedown = evt => {\n\t      // blur if target is outside of this instance\n\t      // dropdown is not always inside wrapper\n\t      const target = evt.composedPath()[0];\n\n\t      if (!wrapper.contains(target) && !dropdown.contains(target)) {\n\t        if (self.isFocused) {\n\t          self.blur();\n\t        }\n\n\t        self.inputState();\n\t        return;\n\t      } // retain focus by preventing native handling. if the\n\t      // event target is the input it should not be modified.\n\t      // otherwise, text selection within the input won't work.\n\t      // Fixes bug #212 which is no covered by tests\n\n\n\t      if (target == control_input && self.isOpen) {\n\t        evt.stopPropagation(); // clicking anywhere in the control should not blur the control_input (which would close the dropdown)\n\t      } else {\n\t        preventDefault(evt, true);\n\t      }\n\t    };\n\n\t    const win_scroll = () => {\n\t      if (self.isOpen) {\n\t        self.positionDropdown();\n\t      }\n\t    };\n\n\t    addEvent(document, 'mousedown', doc_mousedown);\n\t    addEvent(window, 'scroll', win_scroll, passive_event);\n\t    addEvent(window, 'resize', win_scroll, passive_event);\n\n\t    this._destroy = () => {\n\t      document.removeEventListener('mousedown', doc_mousedown);\n\t      window.removeEventListener('scroll', win_scroll);\n\t      window.removeEventListener('resize', win_scroll);\n\t      if (label) label.removeEventListener('click', label_click);\n\t    }; // store original html and tab index so that they can be\n\t    // restored when the destroy() method is called.\n\n\n\t    this.revertSettings = {\n\t      innerHTML: input.innerHTML,\n\t      tabIndex: input.tabIndex\n\t    };\n\t    input.tabIndex = -1;\n\t    input.insertAdjacentElement('afterend', self.wrapper);\n\t    self.sync(false);\n\t    settings.items = [];\n\t    delete settings.optgroups;\n\t    delete settings.options;\n\t    addEvent(input, 'invalid', () => {\n\t      if (self.isValid) {\n\t        self.isValid = false;\n\t        self.isInvalid = true;\n\t        self.refreshState();\n\t      }\n\t    });\n\t    self.updateOriginalInput();\n\t    self.refreshItems();\n\t    self.close(false);\n\t    self.inputState();\n\t    self.isSetup = true;\n\n\t    if (input.disabled) {\n\t      self.disable();\n\t    } else {\n\t      self.enable(); //sets tabIndex\n\t    }\n\n\t    self.on('change', this.onChange);\n\t    addClasses(input, 'tomselected', 'ts-hidden-accessible');\n\t    self.trigger('initialize'); // preload options\n\n\t    if (settings.preload === true) {\n\t      self.preload();\n\t    }\n\t  }\n\t  /**\n\t   * Register options and optgroups\n\t   *\n\t   */\n\n\n\t  setupOptions(options = [], optgroups = []) {\n\t    // build options table\n\t    this.addOptions(options); // build optgroup table\n\n\t    iterate$1(optgroups, optgroup => {\n\t      this.registerOptionGroup(optgroup);\n\t    });\n\t  }\n\t  /**\n\t   * Sets up default rendering functions.\n\t   */\n\n\n\t  setupTemplates() {\n\t    var self = this;\n\t    var field_label = self.settings.labelField;\n\t    var field_optgroup = self.settings.optgroupLabelField;\n\t    var templates = {\n\t      'optgroup': data => {\n\t        let optgroup = document.createElement('div');\n\t        optgroup.className = 'optgroup';\n\t        optgroup.appendChild(data.options);\n\t        return optgroup;\n\t      },\n\t      'optgroup_header': (data, escape) => {\n\t        return '<div class=\"optgroup-header\">' + escape(data[field_optgroup]) + '</div>';\n\t      },\n\t      'option': (data, escape) => {\n\t        return '<div>' + escape(data[field_label]) + '</div>';\n\t      },\n\t      'item': (data, escape) => {\n\t        return '<div>' + escape(data[field_label]) + '</div>';\n\t      },\n\t      'option_create': (data, escape) => {\n\t        return '<div class=\"create\">Add <strong>' + escape(data.input) + '</strong>&hellip;</div>';\n\t      },\n\t      'no_results': () => {\n\t        return '<div class=\"no-results\">No results found</div>';\n\t      },\n\t      'loading': () => {\n\t        return '<div class=\"spinner\"></div>';\n\t      },\n\t      'not_loading': () => {},\n\t      'dropdown': () => {\n\t        return '<div></div>';\n\t      }\n\t    };\n\t    self.settings.render = Object.assign({}, templates, self.settings.render);\n\t  }\n\t  /**\n\t   * Maps fired events to callbacks provided\n\t   * in the settings used when creating the control.\n\t   */\n\n\n\t  setupCallbacks() {\n\t    var key, fn;\n\t    var callbacks = {\n\t      'initialize': 'onInitialize',\n\t      'change': 'onChange',\n\t      'item_add': 'onItemAdd',\n\t      'item_remove': 'onItemRemove',\n\t      'item_select': 'onItemSelect',\n\t      'clear': 'onClear',\n\t      'option_add': 'onOptionAdd',\n\t      'option_remove': 'onOptionRemove',\n\t      'option_clear': 'onOptionClear',\n\t      'optgroup_add': 'onOptionGroupAdd',\n\t      'optgroup_remove': 'onOptionGroupRemove',\n\t      'optgroup_clear': 'onOptionGroupClear',\n\t      'dropdown_open': 'onDropdownOpen',\n\t      'dropdown_close': 'onDropdownClose',\n\t      'type': 'onType',\n\t      'load': 'onLoad',\n\t      'focus': 'onFocus',\n\t      'blur': 'onBlur'\n\t    };\n\n\t    for (key in callbacks) {\n\t      fn = this.settings[callbacks[key]];\n\t      if (fn) this.on(key, fn);\n\t    }\n\t  }\n\t  /**\n\t   * Sync the Tom Select instance with the original input or select\n\t   *\n\t   */\n\n\n\t  sync(get_settings = true) {\n\t    const self = this;\n\t    const settings = get_settings ? getSettings(self.input, {\n\t      delimiter: self.settings.delimiter\n\t    }) : self.settings;\n\t    self.setupOptions(settings.options, settings.optgroups);\n\t    self.setValue(settings.items || [], true); // silent prevents recursion\n\n\t    self.lastQuery = null; // so updated options will be displayed in dropdown\n\t  }\n\t  /**\n\t   * Triggered when the main control element\n\t   * has a click event.\n\t   *\n\t   */\n\n\n\t  onClick() {\n\t    var self = this;\n\n\t    if (self.activeItems.length > 0) {\n\t      self.clearActiveItems();\n\t      self.focus();\n\t      return;\n\t    }\n\n\t    if (self.isFocused && self.isOpen) {\n\t      self.blur();\n\t    } else {\n\t      self.focus();\n\t    }\n\t  }\n\t  /**\n\t   * @deprecated v1.7\n\t   *\n\t   */\n\n\n\t  onMouseDown() {}\n\t  /**\n\t   * Triggered when the value of the control has been changed.\n\t   * This should propagate the event to the original DOM\n\t   * input / select element.\n\t   */\n\n\n\t  onChange() {\n\t    triggerEvent(this.input, 'input');\n\t    triggerEvent(this.input, 'change');\n\t  }\n\t  /**\n\t   * Triggered on <input> paste.\n\t   *\n\t   */\n\n\n\t  onPaste(e) {\n\t    var self = this;\n\n\t    if (self.isInputHidden || self.isLocked) {\n\t      preventDefault(e);\n\t      return;\n\t    } // If a regex or string is included, this will split the pasted\n\t    // input and create Items for each separate value\n\n\n\t    if (!self.settings.splitOn) {\n\t      return;\n\t    } // Wait for pasted text to be recognized in value\n\n\n\t    setTimeout(() => {\n\t      var pastedText = self.inputValue();\n\n\t      if (!pastedText.match(self.settings.splitOn)) {\n\t        return;\n\t      }\n\n\t      var splitInput = pastedText.trim().split(self.settings.splitOn);\n\t      iterate$1(splitInput, piece => {\n\t        const hash = hash_key(piece);\n\n\t        if (hash) {\n\t          if (this.options[piece]) {\n\t            self.addItem(piece);\n\t          } else {\n\t            self.createItem(piece);\n\t          }\n\t        }\n\t      });\n\t    }, 0);\n\t  }\n\t  /**\n\t   * Triggered on <input> keypress.\n\t   *\n\t   */\n\n\n\t  onKeyPress(e) {\n\t    var self = this;\n\n\t    if (self.isLocked) {\n\t      preventDefault(e);\n\t      return;\n\t    }\n\n\t    var character = String.fromCharCode(e.keyCode || e.which);\n\n\t    if (self.settings.create && self.settings.mode === 'multi' && character === self.settings.delimiter) {\n\t      self.createItem();\n\t      preventDefault(e);\n\t      return;\n\t    }\n\t  }\n\t  /**\n\t   * Triggered on <input> keydown.\n\t   *\n\t   */\n\n\n\t  onKeyDown(e) {\n\t    var self = this;\n\t    self.ignoreHover = true;\n\n\t    if (self.isLocked) {\n\t      if (e.keyCode !== KEY_TAB) {\n\t        preventDefault(e);\n\t      }\n\n\t      return;\n\t    }\n\n\t    switch (e.keyCode) {\n\t      // ctrl+A: select all\n\t      case KEY_A:\n\t        if (isKeyDown(KEY_SHORTCUT, e)) {\n\t          if (self.control_input.value == '') {\n\t            preventDefault(e);\n\t            self.selectAll();\n\t            return;\n\t          }\n\t        }\n\n\t        break;\n\t      // esc: close dropdown\n\n\t      case KEY_ESC:\n\t        if (self.isOpen) {\n\t          preventDefault(e, true);\n\t          self.close();\n\t        }\n\n\t        self.clearActiveItems();\n\t        return;\n\t      // down: open dropdown or move selection down\n\n\t      case KEY_DOWN:\n\t        if (!self.isOpen && self.hasOptions) {\n\t          self.open();\n\t        } else if (self.activeOption) {\n\t          let next = self.getAdjacent(self.activeOption, 1);\n\t          if (next) self.setActiveOption(next);\n\t        }\n\n\t        preventDefault(e);\n\t        return;\n\t      // up: move selection up\n\n\t      case KEY_UP:\n\t        if (self.activeOption) {\n\t          let prev = self.getAdjacent(self.activeOption, -1);\n\t          if (prev) self.setActiveOption(prev);\n\t        }\n\n\t        preventDefault(e);\n\t        return;\n\t      // return: select active option\n\n\t      case KEY_RETURN:\n\t        if (self.canSelect(self.activeOption)) {\n\t          self.onOptionSelect(e, self.activeOption);\n\t          preventDefault(e); // if the option_create=null, the dropdown might be closed\n\t        } else if (self.settings.create && self.createItem()) {\n\t          preventDefault(e); // don't submit form when searching for a value\n\t        } else if (document.activeElement == self.control_input && self.isOpen) {\n\t          preventDefault(e);\n\t        }\n\n\t        return;\n\t      // left: modifiy item selection to the left\n\n\t      case KEY_LEFT:\n\t        self.advanceSelection(-1, e);\n\t        return;\n\t      // right: modifiy item selection to the right\n\n\t      case KEY_RIGHT:\n\t        self.advanceSelection(1, e);\n\t        return;\n\t      // tab: select active option and/or create item\n\n\t      case KEY_TAB:\n\t        if (self.settings.selectOnTab) {\n\t          if (self.canSelect(self.activeOption)) {\n\t            self.onOptionSelect(e, self.activeOption); // prevent default [tab] behaviour of jump to the next field\n\t            // if select isFull, then the dropdown won't be open and [tab] will work normally\n\n\t            preventDefault(e);\n\t          }\n\n\t          if (self.settings.create && self.createItem()) {\n\t            preventDefault(e);\n\t          }\n\t        }\n\n\t        return;\n\t      // delete|backspace: delete items\n\n\t      case KEY_BACKSPACE:\n\t      case KEY_DELETE:\n\t        self.deleteSelection(e);\n\t        return;\n\t    } // don't enter text in the control_input when active items are selected\n\n\n\t    if (self.isInputHidden && !isKeyDown(KEY_SHORTCUT, e)) {\n\t      preventDefault(e);\n\t    }\n\t  }\n\t  /**\n\t   * Triggered on <input> keyup.\n\t   *\n\t   */\n\n\n\t  onInput(e) {\n\t    var self = this;\n\n\t    if (self.isLocked) {\n\t      return;\n\t    }\n\n\t    var value = self.inputValue();\n\n\t    if (self.lastValue !== value) {\n\t      self.lastValue = value;\n\n\t      if (self.settings.shouldLoad.call(self, value)) {\n\t        self.load(value);\n\t      }\n\n\t      self.refreshOptions();\n\t      self.trigger('type', value);\n\t    }\n\t  }\n\t  /**\n\t   * Triggered when the user rolls over\n\t   * an option in the autocomplete dropdown menu.\n\t   *\n\t   */\n\n\n\t  onOptionHover(evt, option) {\n\t    if (this.ignoreHover) return;\n\t    this.setActiveOption(option, false);\n\t  }\n\t  /**\n\t   * Triggered on <input> focus.\n\t   *\n\t   */\n\n\n\t  onFocus(e) {\n\t    var self = this;\n\t    var wasFocused = self.isFocused;\n\n\t    if (self.isDisabled) {\n\t      self.blur();\n\t      preventDefault(e);\n\t      return;\n\t    }\n\n\t    if (self.ignoreFocus) return;\n\t    self.isFocused = true;\n\t    if (self.settings.preload === 'focus') self.preload();\n\t    if (!wasFocused) self.trigger('focus');\n\n\t    if (!self.activeItems.length) {\n\t      self.showInput();\n\t      self.refreshOptions(!!self.settings.openOnFocus);\n\t    }\n\n\t    self.refreshState();\n\t  }\n\t  /**\n\t   * Triggered on <input> blur.\n\t   *\n\t   */\n\n\n\t  onBlur(e) {\n\t    if (document.hasFocus() === false) return;\n\t    var self = this;\n\t    if (!self.isFocused) return;\n\t    self.isFocused = false;\n\t    self.ignoreFocus = false;\n\n\t    var deactivate = () => {\n\t      self.close();\n\t      self.setActiveItem();\n\t      self.setCaret(self.items.length);\n\t      self.trigger('blur');\n\t    };\n\n\t    if (self.settings.create && self.settings.createOnBlur) {\n\t      self.createItem(null, deactivate);\n\t    } else {\n\t      deactivate();\n\t    }\n\t  }\n\t  /**\n\t   * Triggered when the user clicks on an option\n\t   * in the autocomplete dropdown menu.\n\t   *\n\t   */\n\n\n\t  onOptionSelect(evt, option) {\n\t    var value,\n\t        self = this; // should not be possible to trigger a option under a disabled optgroup\n\n\t    if (option.parentElement && option.parentElement.matches('[data-disabled]')) {\n\t      return;\n\t    }\n\n\t    if (option.classList.contains('create')) {\n\t      self.createItem(null, () => {\n\t        if (self.settings.closeAfterSelect) {\n\t          self.close();\n\t        }\n\t      });\n\t    } else {\n\t      value = option.dataset.value;\n\n\t      if (typeof value !== 'undefined') {\n\t        self.lastQuery = null;\n\t        self.addItem(value);\n\n\t        if (self.settings.closeAfterSelect) {\n\t          self.close();\n\t        }\n\n\t        if (!self.settings.hideSelected && evt.type && /click/.test(evt.type)) {\n\t          self.setActiveOption(option);\n\t        }\n\t      }\n\t    }\n\t  }\n\t  /**\n\t   * Return true if the given option can be selected\n\t   *\n\t   */\n\n\n\t  canSelect(option) {\n\t    if (this.isOpen && option && this.dropdown_content.contains(option)) {\n\t      return true;\n\t    }\n\n\t    return false;\n\t  }\n\t  /**\n\t   * Triggered when the user clicks on an item\n\t   * that has been selected.\n\t   *\n\t   */\n\n\n\t  onItemSelect(evt, item) {\n\t    var self = this;\n\n\t    if (!self.isLocked && self.settings.mode === 'multi') {\n\t      preventDefault(evt);\n\t      self.setActiveItem(item, evt);\n\t      return true;\n\t    }\n\n\t    return false;\n\t  }\n\t  /**\n\t   * Determines whether or not to invoke\n\t   * the user-provided option provider / loader\n\t   *\n\t   * Note, there is a subtle difference between\n\t   * this.canLoad() and this.settings.shouldLoad();\n\t   *\n\t   *\t- settings.shouldLoad() is a user-input validator.\n\t   *\tWhen false is returned, the not_loading template\n\t   *\twill be added to the dropdown\n\t   *\n\t   *\t- canLoad() is lower level validator that checks\n\t   * \tthe Tom Select instance. There is no inherent user\n\t   *\tfeedback when canLoad returns false\n\t   *\n\t   */\n\n\n\t  canLoad(value) {\n\t    if (!this.settings.load) return false;\n\t    if (this.loadedSearches.hasOwnProperty(value)) return false;\n\t    return true;\n\t  }\n\t  /**\n\t   * Invokes the user-provided option provider / loader.\n\t   *\n\t   */\n\n\n\t  load(value) {\n\t    const self = this;\n\t    if (!self.canLoad(value)) return;\n\t    addClasses(self.wrapper, self.settings.loadingClass);\n\t    self.loading++;\n\t    const callback = self.loadCallback.bind(self);\n\t    self.settings.load.call(self, value, callback);\n\t  }\n\t  /**\n\t   * Invoked by the user-provided option provider\n\t   *\n\t   */\n\n\n\t  loadCallback(options, optgroups) {\n\t    const self = this;\n\t    self.loading = Math.max(self.loading - 1, 0);\n\t    self.lastQuery = null;\n\t    self.clearActiveOption(); // when new results load, focus should be on first option\n\n\t    self.setupOptions(options, optgroups);\n\t    self.refreshOptions(self.isFocused && !self.isInputHidden);\n\n\t    if (!self.loading) {\n\t      removeClasses(self.wrapper, self.settings.loadingClass);\n\t    }\n\n\t    self.trigger('load', options, optgroups);\n\t  }\n\n\t  preload() {\n\t    var classList = this.wrapper.classList;\n\t    if (classList.contains('preloaded')) return;\n\t    classList.add('preloaded');\n\t    this.load('');\n\t  }\n\t  /**\n\t   * Sets the input field of the control to the specified value.\n\t   *\n\t   */\n\n\n\t  setTextboxValue(value = '') {\n\t    var input = this.control_input;\n\t    var changed = input.value !== value;\n\n\t    if (changed) {\n\t      input.value = value;\n\t      triggerEvent(input, 'update');\n\t      this.lastValue = value;\n\t    }\n\t  }\n\t  /**\n\t   * Returns the value of the control. If multiple items\n\t   * can be selected (e.g. <select multiple>), this returns\n\t   * an array. If only one item can be selected, this\n\t   * returns a string.\n\t   *\n\t   */\n\n\n\t  getValue() {\n\t    if (this.is_select_tag && this.input.hasAttribute('multiple')) {\n\t      return this.items;\n\t    }\n\n\t    return this.items.join(this.settings.delimiter);\n\t  }\n\t  /**\n\t   * Resets the selected items to the given value.\n\t   *\n\t   */\n\n\n\t  setValue(value, silent) {\n\t    var events = silent ? [] : ['change'];\n\t    debounce_events(this, events, () => {\n\t      this.clear(silent);\n\t      this.addItems(value, silent);\n\t    });\n\t  }\n\t  /**\n\t   * Resets the number of max items to the given value\n\t   *\n\t   */\n\n\n\t  setMaxItems(value) {\n\t    if (value === 0) value = null; //reset to unlimited items.\n\n\t    this.settings.maxItems = value;\n\t    this.refreshState();\n\t  }\n\t  /**\n\t   * Sets the selected item.\n\t   *\n\t   */\n\n\n\t  setActiveItem(item, e) {\n\t    var self = this;\n\t    var eventName;\n\t    var i, begin, end, swap;\n\t    var last;\n\t    if (self.settings.mode === 'single') return; // clear the active selection\n\n\t    if (!item) {\n\t      self.clearActiveItems();\n\n\t      if (self.isFocused) {\n\t        self.showInput();\n\t      }\n\n\t      return;\n\t    } // modify selection\n\n\n\t    eventName = e && e.type.toLowerCase();\n\n\t    if (eventName === 'click' && isKeyDown('shiftKey', e) && self.activeItems.length) {\n\t      last = self.getLastActive();\n\t      begin = Array.prototype.indexOf.call(self.control.children, last);\n\t      end = Array.prototype.indexOf.call(self.control.children, item);\n\n\t      if (begin > end) {\n\t        swap = begin;\n\t        begin = end;\n\t        end = swap;\n\t      }\n\n\t      for (i = begin; i <= end; i++) {\n\t        item = self.control.children[i];\n\n\t        if (self.activeItems.indexOf(item) === -1) {\n\t          self.setActiveItemClass(item);\n\t        }\n\t      }\n\n\t      preventDefault(e);\n\t    } else if (eventName === 'click' && isKeyDown(KEY_SHORTCUT, e) || eventName === 'keydown' && isKeyDown('shiftKey', e)) {\n\t      if (item.classList.contains('active')) {\n\t        self.removeActiveItem(item);\n\t      } else {\n\t        self.setActiveItemClass(item);\n\t      }\n\t    } else {\n\t      self.clearActiveItems();\n\t      self.setActiveItemClass(item);\n\t    } // ensure control has focus\n\n\n\t    self.hideInput();\n\n\t    if (!self.isFocused) {\n\t      self.focus();\n\t    }\n\t  }\n\t  /**\n\t   * Set the active and last-active classes\n\t   *\n\t   */\n\n\n\t  setActiveItemClass(item) {\n\t    const self = this;\n\t    const last_active = self.control.querySelector('.last-active');\n\t    if (last_active) removeClasses(last_active, 'last-active');\n\t    addClasses(item, 'active last-active');\n\t    self.trigger('item_select', item);\n\n\t    if (self.activeItems.indexOf(item) == -1) {\n\t      self.activeItems.push(item);\n\t    }\n\t  }\n\t  /**\n\t   * Remove active item\n\t   *\n\t   */\n\n\n\t  removeActiveItem(item) {\n\t    var idx = this.activeItems.indexOf(item);\n\t    this.activeItems.splice(idx, 1);\n\t    removeClasses(item, 'active');\n\t  }\n\t  /**\n\t   * Clears all the active items\n\t   *\n\t   */\n\n\n\t  clearActiveItems() {\n\t    removeClasses(this.activeItems, 'active');\n\t    this.activeItems = [];\n\t  }\n\t  /**\n\t   * Sets the selected item in the dropdown menu\n\t   * of available options.\n\t   *\n\t   */\n\n\n\t  setActiveOption(option, scroll = true) {\n\t    if (option === this.activeOption) {\n\t      return;\n\t    }\n\n\t    this.clearActiveOption();\n\t    if (!option) return;\n\t    this.activeOption = option;\n\t    setAttr(this.focus_node, {\n\t      'aria-activedescendant': option.getAttribute('id')\n\t    });\n\t    setAttr(option, {\n\t      'aria-selected': 'true'\n\t    });\n\t    addClasses(option, 'active');\n\t    if (scroll) this.scrollToOption(option);\n\t  }\n\t  /**\n\t   * Sets the dropdown_content scrollTop to display the option\n\t   *\n\t   */\n\n\n\t  scrollToOption(option, behavior) {\n\t    if (!option) return;\n\t    const content = this.dropdown_content;\n\t    const height_menu = content.clientHeight;\n\t    const scrollTop = content.scrollTop || 0;\n\t    const height_item = option.offsetHeight;\n\t    const y = option.getBoundingClientRect().top - content.getBoundingClientRect().top + scrollTop;\n\n\t    if (y + height_item > height_menu + scrollTop) {\n\t      this.scroll(y - height_menu + height_item, behavior);\n\t    } else if (y < scrollTop) {\n\t      this.scroll(y, behavior);\n\t    }\n\t  }\n\t  /**\n\t   * Scroll the dropdown to the given position\n\t   *\n\t   */\n\n\n\t  scroll(scrollTop, behavior) {\n\t    const content = this.dropdown_content;\n\n\t    if (behavior) {\n\t      content.style.scrollBehavior = behavior;\n\t    }\n\n\t    content.scrollTop = scrollTop;\n\t    content.style.scrollBehavior = '';\n\t  }\n\t  /**\n\t   * Clears the active option\n\t   *\n\t   */\n\n\n\t  clearActiveOption() {\n\t    if (this.activeOption) {\n\t      removeClasses(this.activeOption, 'active');\n\t      setAttr(this.activeOption, {\n\t        'aria-selected': null\n\t      });\n\t    }\n\n\t    this.activeOption = null;\n\t    setAttr(this.focus_node, {\n\t      'aria-activedescendant': null\n\t    });\n\t  }\n\t  /**\n\t   * Selects all items (CTRL + A).\n\t   */\n\n\n\t  selectAll() {\n\t    const self = this;\n\t    if (self.settings.mode === 'single') return;\n\t    const activeItems = self.controlChildren();\n\t    if (!activeItems.length) return;\n\t    self.hideInput();\n\t    self.close();\n\t    self.activeItems = activeItems;\n\t    iterate$1(activeItems, item => {\n\t      self.setActiveItemClass(item);\n\t    });\n\t  }\n\t  /**\n\t   * Determines if the control_input should be in a hidden or visible state\n\t   *\n\t   */\n\n\n\t  inputState() {\n\t    var self = this;\n\t    if (!self.control.contains(self.control_input)) return;\n\t    setAttr(self.control_input, {\n\t      placeholder: self.settings.placeholder\n\t    });\n\n\t    if (self.activeItems.length > 0 || !self.isFocused && self.settings.hidePlaceholder && self.items.length > 0) {\n\t      self.setTextboxValue();\n\t      self.isInputHidden = true;\n\t    } else {\n\t      if (self.settings.hidePlaceholder && self.items.length > 0) {\n\t        setAttr(self.control_input, {\n\t          placeholder: ''\n\t        });\n\t      }\n\n\t      self.isInputHidden = false;\n\t    }\n\n\t    self.wrapper.classList.toggle('input-hidden', self.isInputHidden);\n\t  }\n\t  /**\n\t   * Hides the input element out of view, while\n\t   * retaining its focus.\n\t   * @deprecated 1.3\n\t   */\n\n\n\t  hideInput() {\n\t    this.inputState();\n\t  }\n\t  /**\n\t   * Restores input visibility.\n\t   * @deprecated 1.3\n\t   */\n\n\n\t  showInput() {\n\t    this.inputState();\n\t  }\n\t  /**\n\t   * Get the input value\n\t   */\n\n\n\t  inputValue() {\n\t    return this.control_input.value.trim();\n\t  }\n\t  /**\n\t   * Gives the control focus.\n\t   */\n\n\n\t  focus() {\n\t    var self = this;\n\t    if (self.isDisabled) return;\n\t    self.ignoreFocus = true;\n\n\t    if (self.control_input.offsetWidth) {\n\t      self.control_input.focus();\n\t    } else {\n\t      self.focus_node.focus();\n\t    }\n\n\t    setTimeout(() => {\n\t      self.ignoreFocus = false;\n\t      self.onFocus();\n\t    }, 0);\n\t  }\n\t  /**\n\t   * Forces the control out of focus.\n\t   *\n\t   */\n\n\n\t  blur() {\n\t    this.focus_node.blur();\n\t    this.onBlur();\n\t  }\n\t  /**\n\t   * Returns a function that scores an object\n\t   * to show how good of a match it is to the\n\t   * provided query.\n\t   *\n\t   * @return {function}\n\t   */\n\n\n\t  getScoreFunction(query) {\n\t    return this.sifter.getScoreFunction(query, this.getSearchOptions());\n\t  }\n\t  /**\n\t   * Returns search options for sifter (the system\n\t   * for scoring and sorting results).\n\t   *\n\t   * @see https://github.com/orchidjs/sifter.js\n\t   * @return {object}\n\t   */\n\n\n\t  getSearchOptions() {\n\t    var settings = this.settings;\n\t    var sort = settings.sortField;\n\n\t    if (typeof settings.sortField === 'string') {\n\t      sort = [{\n\t        field: settings.sortField\n\t      }];\n\t    }\n\n\t    return {\n\t      fields: settings.searchField,\n\t      conjunction: settings.searchConjunction,\n\t      sort: sort,\n\t      nesting: settings.nesting\n\t    };\n\t  }\n\t  /**\n\t   * Searches through available options and returns\n\t   * a sorted array of matches.\n\t   *\n\t   */\n\n\n\t  search(query) {\n\t    var result, calculateScore;\n\t    var self = this;\n\t    var options = this.getSearchOptions(); // validate user-provided result scoring function\n\n\t    if (self.settings.score) {\n\t      calculateScore = self.settings.score.call(self, query);\n\n\t      if (typeof calculateScore !== 'function') {\n\t        throw new Error('Tom Select \"score\" setting must be a function that returns a function');\n\t      }\n\t    } // perform search\n\n\n\t    if (query !== self.lastQuery) {\n\t      self.lastQuery = query;\n\t      result = self.sifter.search(query, Object.assign(options, {\n\t        score: calculateScore\n\t      }));\n\t      self.currentResults = result;\n\t    } else {\n\t      result = Object.assign({}, self.currentResults);\n\t    } // filter out selected items\n\n\n\t    if (self.settings.hideSelected) {\n\t      result.items = result.items.filter(item => {\n\t        let hashed = hash_key(item.id);\n\t        return !(hashed && self.items.indexOf(hashed) !== -1);\n\t      });\n\t    }\n\n\t    return result;\n\t  }\n\t  /**\n\t   * Refreshes the list of available options shown\n\t   * in the autocomplete dropdown menu.\n\t   *\n\t   */\n\n\n\t  refreshOptions(triggerDropdown = true) {\n\t    var i, j, k, n, optgroup, optgroups, html, has_create_option, active_group;\n\t    var create;\n\t    const groups = {};\n\t    const groups_order = [];\n\t    var self = this;\n\t    var query = self.inputValue();\n\t    const same_query = query === self.lastQuery || query == '' && self.lastQuery == null;\n\t    var results = self.search(query);\n\t    var active_option = null;\n\t    var show_dropdown = self.settings.shouldOpen || false;\n\t    var dropdown_content = self.dropdown_content;\n\n\t    if (same_query) {\n\t      active_option = self.activeOption;\n\n\t      if (active_option) {\n\t        active_group = active_option.closest('[data-group]');\n\t      }\n\t    } // build markup\n\n\n\t    n = results.items.length;\n\n\t    if (typeof self.settings.maxOptions === 'number') {\n\t      n = Math.min(n, self.settings.maxOptions);\n\t    }\n\n\t    if (n > 0) {\n\t      show_dropdown = true;\n\t    } // render and group available options individually\n\n\n\t    for (i = 0; i < n; i++) {\n\t      // get option dom element\n\t      let item = results.items[i];\n\t      if (!item) continue;\n\t      let opt_value = item.id;\n\t      let option = self.options[opt_value];\n\t      if (option === undefined) continue;\n\t      let opt_hash = get_hash(opt_value);\n\t      let option_el = self.getOption(opt_hash, true); // toggle 'selected' class\n\n\t      if (!self.settings.hideSelected) {\n\t        option_el.classList.toggle('selected', self.items.includes(opt_hash));\n\t      }\n\n\t      optgroup = option[self.settings.optgroupField] || '';\n\t      optgroups = Array.isArray(optgroup) ? optgroup : [optgroup];\n\n\t      for (j = 0, k = optgroups && optgroups.length; j < k; j++) {\n\t        optgroup = optgroups[j];\n\n\t        if (!self.optgroups.hasOwnProperty(optgroup)) {\n\t          optgroup = '';\n\t        }\n\n\t        let group_fragment = groups[optgroup];\n\n\t        if (group_fragment === undefined) {\n\t          group_fragment = document.createDocumentFragment();\n\t          groups_order.push(optgroup);\n\t        } // nodes can only have one parent, so if the option is in mutple groups, we need a clone\n\n\n\t        if (j > 0) {\n\t          option_el = option_el.cloneNode(true);\n\t          setAttr(option_el, {\n\t            id: option.$id + '-clone-' + j,\n\t            'aria-selected': null\n\t          });\n\t          option_el.classList.add('ts-cloned');\n\t          removeClasses(option_el, 'active'); // make sure we keep the activeOption in the same group\n\n\t          if (self.activeOption && self.activeOption.dataset.value == opt_value) {\n\t            if (active_group && active_group.dataset.group === optgroup.toString()) {\n\t              active_option = option_el;\n\t            }\n\t          }\n\t        }\n\n\t        group_fragment.appendChild(option_el);\n\t        groups[optgroup] = group_fragment;\n\t      }\n\t    } // sort optgroups\n\n\n\t    if (self.settings.lockOptgroupOrder) {\n\t      groups_order.sort((a, b) => {\n\t        const grp_a = self.optgroups[a];\n\t        const grp_b = self.optgroups[b];\n\t        const a_order = grp_a && grp_a.$order || 0;\n\t        const b_order = grp_b && grp_b.$order || 0;\n\t        return a_order - b_order;\n\t      });\n\t    } // render optgroup headers & join groups\n\n\n\t    html = document.createDocumentFragment();\n\t    iterate$1(groups_order, optgroup => {\n\t      let group_fragment = groups[optgroup];\n\t      if (!group_fragment || !group_fragment.children.length) return;\n\t      let group_heading = self.optgroups[optgroup];\n\n\t      if (group_heading !== undefined) {\n\t        let group_options = document.createDocumentFragment();\n\t        let header = self.render('optgroup_header', group_heading);\n\t        append(group_options, header);\n\t        append(group_options, group_fragment);\n\t        let group_html = self.render('optgroup', {\n\t          group: group_heading,\n\t          options: group_options\n\t        });\n\t        append(html, group_html);\n\t      } else {\n\t        append(html, group_fragment);\n\t      }\n\t    });\n\t    dropdown_content.innerHTML = '';\n\t    append(dropdown_content, html); // highlight matching terms inline\n\n\t    if (self.settings.highlight) {\n\t      removeHighlight(dropdown_content);\n\n\t      if (results.query.length && results.tokens.length) {\n\t        iterate$1(results.tokens, tok => {\n\t          highlight(dropdown_content, tok.regex);\n\t        });\n\t      }\n\t    } // helper method for adding templates to dropdown\n\n\n\t    var add_template = template => {\n\t      let content = self.render(template, {\n\t        input: query\n\t      });\n\n\t      if (content) {\n\t        show_dropdown = true;\n\t        dropdown_content.insertBefore(content, dropdown_content.firstChild);\n\t      }\n\n\t      return content;\n\t    }; // add loading message\n\n\n\t    if (self.loading) {\n\t      add_template('loading'); // invalid query\n\t    } else if (!self.settings.shouldLoad.call(self, query)) {\n\t      add_template('not_loading'); // add no_results message\n\t    } else if (results.items.length === 0) {\n\t      add_template('no_results');\n\t    } // add create option\n\n\n\t    has_create_option = self.canCreate(query);\n\n\t    if (has_create_option) {\n\t      create = add_template('option_create');\n\t    } // activate\n\n\n\t    self.hasOptions = results.items.length > 0 || has_create_option;\n\n\t    if (show_dropdown) {\n\t      if (results.items.length > 0) {\n\t        if (!active_option && self.settings.mode === 'single' && self.items[0] != undefined) {\n\t          active_option = self.getOption(self.items[0]);\n\t        }\n\n\t        if (!dropdown_content.contains(active_option)) {\n\t          let active_index = 0;\n\n\t          if (create && !self.settings.addPrecedence) {\n\t            active_index = 1;\n\t          }\n\n\t          active_option = self.selectable()[active_index];\n\t        }\n\t      } else if (create) {\n\t        active_option = create;\n\t      }\n\n\t      if (triggerDropdown && !self.isOpen) {\n\t        self.open();\n\t        self.scrollToOption(active_option, 'auto');\n\t      }\n\n\t      self.setActiveOption(active_option);\n\t    } else {\n\t      self.clearActiveOption();\n\n\t      if (triggerDropdown && self.isOpen) {\n\t        self.close(false); // if create_option=null, we want the dropdown to close but not reset the textbox value\n\t      }\n\t    }\n\t  }\n\t  /**\n\t   * Return list of selectable options\n\t   *\n\t   */\n\n\n\t  selectable() {\n\t    return this.dropdown_content.querySelectorAll('[data-selectable]');\n\t  }\n\t  /**\n\t   * Adds an available option. If it already exists,\n\t   * nothing will happen. Note: this does not refresh\n\t   * the options list dropdown (use `refreshOptions`\n\t   * for that).\n\t   *\n\t   * Usage:\n\t   *\n\t   *   this.addOption(data)\n\t   *\n\t   */\n\n\n\t  addOption(data, user_created = false) {\n\t    const self = this; // @deprecated 1.7.7\n\t    // use addOptions( array, user_created ) for adding multiple options\n\n\t    if (Array.isArray(data)) {\n\t      self.addOptions(data, user_created);\n\t      return false;\n\t    }\n\n\t    const key = hash_key(data[self.settings.valueField]);\n\n\t    if (key === null || self.options.hasOwnProperty(key)) {\n\t      return false;\n\t    }\n\n\t    data.$order = data.$order || ++self.order;\n\t    data.$id = self.inputId + '-opt-' + data.$order;\n\t    self.options[key] = data;\n\t    self.lastQuery = null;\n\n\t    if (user_created) {\n\t      self.userOptions[key] = user_created;\n\t      self.trigger('option_add', key, data);\n\t    }\n\n\t    return key;\n\t  }\n\t  /**\n\t   * Add multiple options\n\t   *\n\t   */\n\n\n\t  addOptions(data, user_created = false) {\n\t    iterate$1(data, dat => {\n\t      this.addOption(dat, user_created);\n\t    });\n\t  }\n\t  /**\n\t   * @deprecated 1.7.7\n\t   */\n\n\n\t  registerOption(data) {\n\t    return this.addOption(data);\n\t  }\n\t  /**\n\t   * Registers an option group to the pool of option groups.\n\t   *\n\t   * @return {boolean|string}\n\t   */\n\n\n\t  registerOptionGroup(data) {\n\t    var key = hash_key(data[this.settings.optgroupValueField]);\n\t    if (key === null) return false;\n\t    data.$order = data.$order || ++this.order;\n\t    this.optgroups[key] = data;\n\t    return key;\n\t  }\n\t  /**\n\t   * Registers a new optgroup for options\n\t   * to be bucketed into.\n\t   *\n\t   */\n\n\n\t  addOptionGroup(id, data) {\n\t    var hashed_id;\n\t    data[this.settings.optgroupValueField] = id;\n\n\t    if (hashed_id = this.registerOptionGroup(data)) {\n\t      this.trigger('optgroup_add', hashed_id, data);\n\t    }\n\t  }\n\t  /**\n\t   * Removes an existing option group.\n\t   *\n\t   */\n\n\n\t  removeOptionGroup(id) {\n\t    if (this.optgroups.hasOwnProperty(id)) {\n\t      delete this.optgroups[id];\n\t      this.clearCache();\n\t      this.trigger('optgroup_remove', id);\n\t    }\n\t  }\n\t  /**\n\t   * Clears all existing option groups.\n\t   */\n\n\n\t  clearOptionGroups() {\n\t    this.optgroups = {};\n\t    this.clearCache();\n\t    this.trigger('optgroup_clear');\n\t  }\n\t  /**\n\t   * Updates an option available for selection. If\n\t   * it is visible in the selected items or options\n\t   * dropdown, it will be re-rendered automatically.\n\t   *\n\t   */\n\n\n\t  updateOption(value, data) {\n\t    const self = this;\n\t    var item_new;\n\t    var index_item;\n\t    const value_old = hash_key(value);\n\t    const value_new = hash_key(data[self.settings.valueField]); // sanity checks\n\n\t    if (value_old === null) return;\n\t    const data_old = self.options[value_old];\n\t    if (data_old == undefined) return;\n\t    if (typeof value_new !== 'string') throw new Error('Value must be set in option data');\n\t    const option = self.getOption(value_old);\n\t    const item = self.getItem(value_old);\n\t    data.$order = data.$order || data_old.$order;\n\t    delete self.options[value_old]; // invalidate render cache\n\t    // don't remove existing node yet, we'll remove it after replacing it\n\n\t    self.uncacheValue(value_new);\n\t    self.options[value_new] = data; // update the option if it's in the dropdown\n\n\t    if (option) {\n\t      if (self.dropdown_content.contains(option)) {\n\t        const option_new = self._render('option', data);\n\n\t        replaceNode(option, option_new);\n\n\t        if (self.activeOption === option) {\n\t          self.setActiveOption(option_new);\n\t        }\n\t      }\n\n\t      option.remove();\n\t    } // update the item if we have one\n\n\n\t    if (item) {\n\t      index_item = self.items.indexOf(value_old);\n\n\t      if (index_item !== -1) {\n\t        self.items.splice(index_item, 1, value_new);\n\t      }\n\n\t      item_new = self._render('item', data);\n\t      if (item.classList.contains('active')) addClasses(item_new, 'active');\n\t      replaceNode(item, item_new);\n\t    } // invalidate last query because we might have updated the sortField\n\n\n\t    self.lastQuery = null;\n\t  }\n\t  /**\n\t   * Removes a single option.\n\t   *\n\t   */\n\n\n\t  removeOption(value, silent) {\n\t    const self = this;\n\t    value = get_hash(value);\n\t    self.uncacheValue(value);\n\t    delete self.userOptions[value];\n\t    delete self.options[value];\n\t    self.lastQuery = null;\n\t    self.trigger('option_remove', value);\n\t    self.removeItem(value, silent);\n\t  }\n\t  /**\n\t   * Clears all options.\n\t   */\n\n\n\t  clearOptions(filter) {\n\t    const boundFilter = (filter || this.clearFilter).bind(this);\n\t    this.loadedSearches = {};\n\t    this.userOptions = {};\n\t    this.clearCache();\n\t    const selected = {};\n\t    iterate$1(this.options, (option, key) => {\n\t      if (boundFilter(option, key)) {\n\t        selected[key] = option;\n\t      }\n\t    });\n\t    this.options = this.sifter.items = selected;\n\t    this.lastQuery = null;\n\t    this.trigger('option_clear');\n\t  }\n\t  /**\n\t   * Used by clearOptions() to decide whether or not an option should be removed\n\t   * Return true to keep an option, false to remove\n\t   *\n\t   */\n\n\n\t  clearFilter(option, value) {\n\t    if (this.items.indexOf(value) >= 0) {\n\t      return true;\n\t    }\n\n\t    return false;\n\t  }\n\t  /**\n\t   * Returns the dom element of the option\n\t   * matching the given value.\n\t   *\n\t   */\n\n\n\t  getOption(value, create = false) {\n\t    const hashed = hash_key(value);\n\t    if (hashed === null) return null;\n\t    const option = this.options[hashed];\n\n\t    if (option != undefined) {\n\t      if (option.$div) {\n\t        return option.$div;\n\t      }\n\n\t      if (create) {\n\t        return this._render('option', option);\n\t      }\n\t    }\n\n\t    return null;\n\t  }\n\t  /**\n\t   * Returns the dom element of the next or previous dom element of the same type\n\t   * Note: adjacent options may not be adjacent DOM elements (optgroups)\n\t   *\n\t   */\n\n\n\t  getAdjacent(option, direction, type = 'option') {\n\t    var self = this,\n\t        all;\n\n\t    if (!option) {\n\t      return null;\n\t    }\n\n\t    if (type == 'item') {\n\t      all = self.controlChildren();\n\t    } else {\n\t      all = self.dropdown_content.querySelectorAll('[data-selectable]');\n\t    }\n\n\t    for (let i = 0; i < all.length; i++) {\n\t      if (all[i] != option) {\n\t        continue;\n\t      }\n\n\t      if (direction > 0) {\n\t        return all[i + 1];\n\t      }\n\n\t      return all[i - 1];\n\t    }\n\n\t    return null;\n\t  }\n\t  /**\n\t   * Returns the dom element of the item\n\t   * matching the given value.\n\t   *\n\t   */\n\n\n\t  getItem(item) {\n\t    if (typeof item == 'object') {\n\t      return item;\n\t    }\n\n\t    var value = hash_key(item);\n\t    return value !== null ? this.control.querySelector(`[data-value=\"${addSlashes(value)}\"]`) : null;\n\t  }\n\t  /**\n\t   * \"Selects\" multiple items at once. Adds them to the list\n\t   * at the current caret position.\n\t   *\n\t   */\n\n\n\t  addItems(values, silent) {\n\t    var self = this;\n\t    var items = Array.isArray(values) ? values : [values];\n\t    items = items.filter(x => self.items.indexOf(x) === -1);\n\t    const last_item = items[items.length - 1];\n\t    items.forEach(item => {\n\t      self.isPending = item !== last_item;\n\t      self.addItem(item, silent);\n\t    });\n\t  }\n\t  /**\n\t   * \"Selects\" an item. Adds it to the list\n\t   * at the current caret position.\n\t   *\n\t   */\n\n\n\t  addItem(value, silent) {\n\t    var events = silent ? [] : ['change', 'dropdown_close'];\n\t    debounce_events(this, events, () => {\n\t      var item, wasFull;\n\t      const self = this;\n\t      const inputMode = self.settings.mode;\n\t      const hashed = hash_key(value);\n\n\t      if (hashed && self.items.indexOf(hashed) !== -1) {\n\t        if (inputMode === 'single') {\n\t          self.close();\n\t        }\n\n\t        if (inputMode === 'single' || !self.settings.duplicates) {\n\t          return;\n\t        }\n\t      }\n\n\t      if (hashed === null || !self.options.hasOwnProperty(hashed)) return;\n\t      if (inputMode === 'single') self.clear(silent);\n\t      if (inputMode === 'multi' && self.isFull()) return;\n\t      item = self._render('item', self.options[hashed]);\n\n\t      if (self.control.contains(item)) {\n\t        // duplicates\n\t        item = item.cloneNode(true);\n\t      }\n\n\t      wasFull = self.isFull();\n\t      self.items.splice(self.caretPos, 0, hashed);\n\t      self.insertAtCaret(item);\n\n\t      if (self.isSetup) {\n\t        // update menu / remove the option (if this is not one item being added as part of series)\n\t        if (!self.isPending && self.settings.hideSelected) {\n\t          let option = self.getOption(hashed);\n\t          let next = self.getAdjacent(option, 1);\n\n\t          if (next) {\n\t            self.setActiveOption(next);\n\t          }\n\t        } // refreshOptions after setActiveOption(),\n\t        // otherwise setActiveOption() will be called by refreshOptions() with the wrong value\n\n\n\t        if (!self.isPending && !self.settings.closeAfterSelect) {\n\t          self.refreshOptions(self.isFocused && inputMode !== 'single');\n\t        } // hide the menu if the maximum number of items have been selected or no options are left\n\n\n\t        if (self.settings.closeAfterSelect != false && self.isFull()) {\n\t          self.close();\n\t        } else if (!self.isPending) {\n\t          self.positionDropdown();\n\t        }\n\n\t        self.trigger('item_add', hashed, item);\n\n\t        if (!self.isPending) {\n\t          self.updateOriginalInput({\n\t            silent: silent\n\t          });\n\t        }\n\t      }\n\n\t      if (!self.isPending || !wasFull && self.isFull()) {\n\t        self.inputState();\n\t        self.refreshState();\n\t      }\n\t    });\n\t  }\n\t  /**\n\t   * Removes the selected item matching\n\t   * the provided value.\n\t   *\n\t   */\n\n\n\t  removeItem(item = null, silent) {\n\t    const self = this;\n\t    item = self.getItem(item);\n\t    if (!item) return;\n\t    var i, idx;\n\t    const value = item.dataset.value;\n\t    i = nodeIndex(item);\n\t    item.remove();\n\n\t    if (item.classList.contains('active')) {\n\t      idx = self.activeItems.indexOf(item);\n\t      self.activeItems.splice(idx, 1);\n\t      removeClasses(item, 'active');\n\t    }\n\n\t    self.items.splice(i, 1);\n\t    self.lastQuery = null;\n\n\t    if (!self.settings.persist && self.userOptions.hasOwnProperty(value)) {\n\t      self.removeOption(value, silent);\n\t    }\n\n\t    if (i < self.caretPos) {\n\t      self.setCaret(self.caretPos - 1);\n\t    }\n\n\t    self.updateOriginalInput({\n\t      silent: silent\n\t    });\n\t    self.refreshState();\n\t    self.positionDropdown();\n\t    self.trigger('item_remove', value, item);\n\t  }\n\t  /**\n\t   * Invokes the `create` method provided in the\n\t   * TomSelect options that should provide the data\n\t   * for the new item, given the user input.\n\t   *\n\t   * Once this completes, it will be added\n\t   * to the item list.\n\t   *\n\t   */\n\n\n\t  createItem(input = null, callback = () => {}) {\n\t    // triggerDropdown parameter @deprecated 2.1.1\n\t    if (arguments.length === 3) {\n\t      callback = arguments[2];\n\t    }\n\n\t    if (typeof callback != 'function') {\n\t      callback = () => {};\n\t    }\n\n\t    var self = this;\n\t    var caret = self.caretPos;\n\t    var output;\n\t    input = input || self.inputValue();\n\n\t    if (!self.canCreate(input)) {\n\t      callback();\n\t      return false;\n\t    }\n\n\t    self.lock();\n\t    var created = false;\n\n\t    var create = data => {\n\t      self.unlock();\n\t      if (!data || typeof data !== 'object') return callback();\n\t      var value = hash_key(data[self.settings.valueField]);\n\n\t      if (typeof value !== 'string') {\n\t        return callback();\n\t      }\n\n\t      self.setTextboxValue();\n\t      self.addOption(data, true);\n\t      self.setCaret(caret);\n\t      self.addItem(value);\n\t      callback(data);\n\t      created = true;\n\t    };\n\n\t    if (typeof self.settings.create === 'function') {\n\t      output = self.settings.create.call(this, input, create);\n\t    } else {\n\t      output = {\n\t        [self.settings.labelField]: input,\n\t        [self.settings.valueField]: input\n\t      };\n\t    }\n\n\t    if (!created) {\n\t      create(output);\n\t    }\n\n\t    return true;\n\t  }\n\t  /**\n\t   * Re-renders the selected item lists.\n\t   */\n\n\n\t  refreshItems() {\n\t    var self = this;\n\t    self.lastQuery = null;\n\n\t    if (self.isSetup) {\n\t      self.addItems(self.items);\n\t    }\n\n\t    self.updateOriginalInput();\n\t    self.refreshState();\n\t  }\n\t  /**\n\t   * Updates all state-dependent attributes\n\t   * and CSS classes.\n\t   */\n\n\n\t  refreshState() {\n\t    const self = this;\n\t    self.refreshValidityState();\n\t    const isFull = self.isFull();\n\t    const isLocked = self.isLocked;\n\t    self.wrapper.classList.toggle('rtl', self.rtl);\n\t    const wrap_classList = self.wrapper.classList;\n\t    wrap_classList.toggle('focus', self.isFocused);\n\t    wrap_classList.toggle('disabled', self.isDisabled);\n\t    wrap_classList.toggle('required', self.isRequired);\n\t    wrap_classList.toggle('invalid', !self.isValid);\n\t    wrap_classList.toggle('locked', isLocked);\n\t    wrap_classList.toggle('full', isFull);\n\t    wrap_classList.toggle('input-active', self.isFocused && !self.isInputHidden);\n\t    wrap_classList.toggle('dropdown-active', self.isOpen);\n\t    wrap_classList.toggle('has-options', isEmptyObject(self.options));\n\t    wrap_classList.toggle('has-items', self.items.length > 0);\n\t  }\n\t  /**\n\t   * Update the `required` attribute of both input and control input.\n\t   *\n\t   * The `required` property needs to be activated on the control input\n\t   * for the error to be displayed at the right place. `required` also\n\t   * needs to be temporarily deactivated on the input since the input is\n\t   * hidden and can't show errors.\n\t   */\n\n\n\t  refreshValidityState() {\n\t    var self = this;\n\n\t    if (!self.input.validity) {\n\t      return;\n\t    }\n\n\t    self.isValid = self.input.validity.valid;\n\t    self.isInvalid = !self.isValid;\n\t  }\n\t  /**\n\t   * Determines whether or not more items can be added\n\t   * to the control without exceeding the user-defined maximum.\n\t   *\n\t   * @returns {boolean}\n\t   */\n\n\n\t  isFull() {\n\t    return this.settings.maxItems !== null && this.items.length >= this.settings.maxItems;\n\t  }\n\t  /**\n\t   * Refreshes the original <select> or <input>\n\t   * element to reflect the current state.\n\t   *\n\t   */\n\n\n\t  updateOriginalInput(opts = {}) {\n\t    const self = this;\n\t    var option, label;\n\t    const empty_option = self.input.querySelector('option[value=\"\"]');\n\n\t    if (self.is_select_tag) {\n\t      const selected = [];\n\t      const has_selected = self.input.querySelectorAll('option:checked').length;\n\n\t      function AddSelected(option_el, value, label) {\n\t        if (!option_el) {\n\t          option_el = getDom('<option value=\"' + escape_html(value) + '\">' + escape_html(label) + '</option>');\n\t        } // don't move empty option from top of list\n\t        // fixes bug in firefox https://bugzilla.mozilla.org/show_bug.cgi?id=1725293\n\n\n\t        if (option_el != empty_option) {\n\t          self.input.append(option_el);\n\t        }\n\n\t        selected.push(option_el); // marking empty option as selected can break validation\n\t        // fixes https://github.com/orchidjs/tom-select/issues/303\n\n\t        if (option_el != empty_option || has_selected > 0) {\n\t          option_el.selected = true;\n\t        }\n\n\t        return option_el;\n\t      } // unselect all selected options\n\n\n\t      self.input.querySelectorAll('option:checked').forEach(option_el => {\n\t        option_el.selected = false;\n\t      }); // nothing selected?\n\n\t      if (self.items.length == 0 && self.settings.mode == 'single') {\n\t        AddSelected(empty_option, \"\", \"\"); // order selected <option> tags for values in self.items\n\t      } else {\n\t        self.items.forEach(value => {\n\t          option = self.options[value];\n\t          label = option[self.settings.labelField] || '';\n\n\t          if (selected.includes(option.$option)) {\n\t            const reuse_opt = self.input.querySelector(`option[value=\"${addSlashes(value)}\"]:not(:checked)`);\n\t            AddSelected(reuse_opt, value, label);\n\t          } else {\n\t            option.$option = AddSelected(option.$option, value, label);\n\t          }\n\t        });\n\t      }\n\t    } else {\n\t      self.input.value = self.getValue();\n\t    }\n\n\t    if (self.isSetup) {\n\t      if (!opts.silent) {\n\t        self.trigger('change', self.getValue());\n\t      }\n\t    }\n\t  }\n\t  /**\n\t   * Shows the autocomplete dropdown containing\n\t   * the available options.\n\t   */\n\n\n\t  open() {\n\t    var self = this;\n\t    if (self.isLocked || self.isOpen || self.settings.mode === 'multi' && self.isFull()) return;\n\t    self.isOpen = true;\n\t    setAttr(self.focus_node, {\n\t      'aria-expanded': 'true'\n\t    });\n\t    self.refreshState();\n\t    applyCSS(self.dropdown, {\n\t      visibility: 'hidden',\n\t      display: 'block'\n\t    });\n\t    self.positionDropdown();\n\t    applyCSS(self.dropdown, {\n\t      visibility: 'visible',\n\t      display: 'block'\n\t    });\n\t    self.focus();\n\t    self.trigger('dropdown_open', self.dropdown);\n\t  }\n\t  /**\n\t   * Closes the autocomplete dropdown menu.\n\t   */\n\n\n\t  close(setTextboxValue = true) {\n\t    var self = this;\n\t    var trigger = self.isOpen;\n\n\t    if (setTextboxValue) {\n\t      // before blur() to prevent form onchange event\n\t      self.setTextboxValue();\n\n\t      if (self.settings.mode === 'single' && self.items.length) {\n\t        self.hideInput();\n\t      }\n\t    }\n\n\t    self.isOpen = false;\n\t    setAttr(self.focus_node, {\n\t      'aria-expanded': 'false'\n\t    });\n\t    applyCSS(self.dropdown, {\n\t      display: 'none'\n\t    });\n\n\t    if (self.settings.hideSelected) {\n\t      self.clearActiveOption();\n\t    }\n\n\t    self.refreshState();\n\t    if (trigger) self.trigger('dropdown_close', self.dropdown);\n\t  }\n\t  /**\n\t   * Calculates and applies the appropriate\n\t   * position of the dropdown if dropdownParent = 'body'.\n\t   * Otherwise, position is determined by css\n\t   */\n\n\n\t  positionDropdown() {\n\t    if (this.settings.dropdownParent !== 'body') {\n\t      return;\n\t    }\n\n\t    var context = this.control;\n\t    var rect = context.getBoundingClientRect();\n\t    var top = context.offsetHeight + rect.top + window.scrollY;\n\t    var left = rect.left + window.scrollX;\n\t    applyCSS(this.dropdown, {\n\t      width: rect.width + 'px',\n\t      top: top + 'px',\n\t      left: left + 'px'\n\t    });\n\t  }\n\t  /**\n\t   * Resets / clears all selected items\n\t   * from the control.\n\t   *\n\t   */\n\n\n\t  clear(silent) {\n\t    var self = this;\n\t    if (!self.items.length) return;\n\t    var items = self.controlChildren();\n\t    iterate$1(items, item => {\n\t      self.removeItem(item, true);\n\t    });\n\t    self.showInput();\n\t    if (!silent) self.updateOriginalInput();\n\t    self.trigger('clear');\n\t  }\n\t  /**\n\t   * A helper method for inserting an element\n\t   * at the current caret position.\n\t   *\n\t   */\n\n\n\t  insertAtCaret(el) {\n\t    const self = this;\n\t    const caret = self.caretPos;\n\t    const target = self.control;\n\t    target.insertBefore(el, target.children[caret] || null);\n\t    self.setCaret(caret + 1);\n\t  }\n\t  /**\n\t   * Removes the current selected item(s).\n\t   *\n\t   */\n\n\n\t  deleteSelection(e) {\n\t    var direction, selection, caret, tail;\n\t    var self = this;\n\t    direction = e && e.keyCode === KEY_BACKSPACE ? -1 : 1;\n\t    selection = getSelection(self.control_input); // determine items that will be removed\n\n\t    const rm_items = [];\n\n\t    if (self.activeItems.length) {\n\t      tail = getTail(self.activeItems, direction);\n\t      caret = nodeIndex(tail);\n\n\t      if (direction > 0) {\n\t        caret++;\n\t      }\n\n\t      iterate$1(self.activeItems, item => rm_items.push(item));\n\t    } else if ((self.isFocused || self.settings.mode === 'single') && self.items.length) {\n\t      const items = self.controlChildren();\n\t      let rm_item;\n\n\t      if (direction < 0 && selection.start === 0 && selection.length === 0) {\n\t        rm_item = items[self.caretPos - 1];\n\t      } else if (direction > 0 && selection.start === self.inputValue().length) {\n\t        rm_item = items[self.caretPos];\n\t      }\n\n\t      if (rm_item !== undefined) {\n\t        rm_items.push(rm_item);\n\t      }\n\t    }\n\n\t    if (!self.shouldDelete(rm_items, e)) {\n\t      return false;\n\t    }\n\n\t    preventDefault(e, true); // perform removal\n\n\t    if (typeof caret !== 'undefined') {\n\t      self.setCaret(caret);\n\t    }\n\n\t    while (rm_items.length) {\n\t      self.removeItem(rm_items.pop());\n\t    }\n\n\t    self.showInput();\n\t    self.positionDropdown();\n\t    self.refreshOptions(false);\n\t    return true;\n\t  }\n\t  /**\n\t   * Return true if the items should be deleted\n\t   */\n\n\n\t  shouldDelete(items, evt) {\n\t    const values = items.map(item => item.dataset.value); // allow the callback to abort\n\n\t    if (!values.length || typeof this.settings.onDelete === 'function' && this.settings.onDelete(values, evt) === false) {\n\t      return false;\n\t    }\n\n\t    return true;\n\t  }\n\t  /**\n\t   * Selects the previous / next item (depending on the `direction` argument).\n\t   *\n\t   * > 0 - right\n\t   * < 0 - left\n\t   *\n\t   */\n\n\n\t  advanceSelection(direction, e) {\n\t    var last_active,\n\t        adjacent,\n\t        self = this;\n\t    if (self.rtl) direction *= -1;\n\t    if (self.inputValue().length) return; // add or remove to active items\n\n\t    if (isKeyDown(KEY_SHORTCUT, e) || isKeyDown('shiftKey', e)) {\n\t      last_active = self.getLastActive(direction);\n\n\t      if (last_active) {\n\t        if (!last_active.classList.contains('active')) {\n\t          adjacent = last_active;\n\t        } else {\n\t          adjacent = self.getAdjacent(last_active, direction, 'item');\n\t        } // if no active item, get items adjacent to the control input\n\n\t      } else if (direction > 0) {\n\t        adjacent = self.control_input.nextElementSibling;\n\t      } else {\n\t        adjacent = self.control_input.previousElementSibling;\n\t      }\n\n\t      if (adjacent) {\n\t        if (adjacent.classList.contains('active')) {\n\t          self.removeActiveItem(last_active);\n\t        }\n\n\t        self.setActiveItemClass(adjacent); // mark as last_active !! after removeActiveItem() on last_active\n\t      } // move caret to the left or right\n\n\t    } else {\n\t      self.moveCaret(direction);\n\t    }\n\t  }\n\n\t  moveCaret(direction) {}\n\t  /**\n\t   * Get the last active item\n\t   *\n\t   */\n\n\n\t  getLastActive(direction) {\n\t    let last_active = this.control.querySelector('.last-active');\n\n\t    if (last_active) {\n\t      return last_active;\n\t    }\n\n\t    var result = this.control.querySelectorAll('.active');\n\n\t    if (result) {\n\t      return getTail(result, direction);\n\t    }\n\t  }\n\t  /**\n\t   * Moves the caret to the specified index.\n\t   *\n\t   * The input must be moved by leaving it in place and moving the\n\t   * siblings, due to the fact that focus cannot be restored once lost\n\t   * on mobile webkit devices\n\t   *\n\t   */\n\n\n\t  setCaret(new_pos) {\n\t    this.caretPos = this.items.length;\n\t  }\n\t  /**\n\t   * Return list of item dom elements\n\t   *\n\t   */\n\n\n\t  controlChildren() {\n\t    return Array.from(this.control.querySelectorAll('[data-ts-item]'));\n\t  }\n\t  /**\n\t   * Disables user input on the control. Used while\n\t   * items are being asynchronously created.\n\t   */\n\n\n\t  lock() {\n\t    this.isLocked = true;\n\t    this.refreshState();\n\t  }\n\t  /**\n\t   * Re-enables user input on the control.\n\t   */\n\n\n\t  unlock() {\n\t    this.isLocked = false;\n\t    this.refreshState();\n\t  }\n\t  /**\n\t   * Disables user input on the control completely.\n\t   * While disabled, it cannot receive focus.\n\t   */\n\n\n\t  disable() {\n\t    var self = this;\n\t    self.input.disabled = true;\n\t    self.control_input.disabled = true;\n\t    self.focus_node.tabIndex = -1;\n\t    self.isDisabled = true;\n\t    this.close();\n\t    self.lock();\n\t  }\n\t  /**\n\t   * Enables the control so that it can respond\n\t   * to focus and user input.\n\t   */\n\n\n\t  enable() {\n\t    var self = this;\n\t    self.input.disabled = false;\n\t    self.control_input.disabled = false;\n\t    self.focus_node.tabIndex = self.tabIndex;\n\t    self.isDisabled = false;\n\t    self.unlock();\n\t  }\n\t  /**\n\t   * Completely destroys the control and\n\t   * unbinds all event listeners so that it can\n\t   * be garbage collected.\n\t   */\n\n\n\t  destroy() {\n\t    var self = this;\n\t    var revertSettings = self.revertSettings;\n\t    self.trigger('destroy');\n\t    self.off();\n\t    self.wrapper.remove();\n\t    self.dropdown.remove();\n\t    self.input.innerHTML = revertSettings.innerHTML;\n\t    self.input.tabIndex = revertSettings.tabIndex;\n\t    removeClasses(self.input, 'tomselected', 'ts-hidden-accessible');\n\n\t    self._destroy();\n\n\t    delete self.input.tomselect;\n\t  }\n\t  /**\n\t   * A helper method for rendering \"item\" and\n\t   * \"option\" templates, given the data.\n\t   *\n\t   */\n\n\n\t  render(templateName, data) {\n\t    var id, html;\n\t    const self = this;\n\n\t    if (typeof this.settings.render[templateName] !== 'function') {\n\t      return null;\n\t    } // render markup\n\n\n\t    html = self.settings.render[templateName].call(this, data, escape_html);\n\n\t    if (!html) {\n\t      return null;\n\t    }\n\n\t    html = getDom(html); // add mandatory attributes\n\n\t    if (templateName === 'option' || templateName === 'option_create') {\n\t      if (data[self.settings.disabledField]) {\n\t        setAttr(html, {\n\t          'aria-disabled': 'true'\n\t        });\n\t      } else {\n\t        setAttr(html, {\n\t          'data-selectable': ''\n\t        });\n\t      }\n\t    } else if (templateName === 'optgroup') {\n\t      id = data.group[self.settings.optgroupValueField];\n\t      setAttr(html, {\n\t        'data-group': id\n\t      });\n\n\t      if (data.group[self.settings.disabledField]) {\n\t        setAttr(html, {\n\t          'data-disabled': ''\n\t        });\n\t      }\n\t    }\n\n\t    if (templateName === 'option' || templateName === 'item') {\n\t      const value = get_hash(data[self.settings.valueField]);\n\t      setAttr(html, {\n\t        'data-value': value\n\t      }); // make sure we have some classes if a template is overwritten\n\n\t      if (templateName === 'item') {\n\t        addClasses(html, self.settings.itemClass);\n\t        setAttr(html, {\n\t          'data-ts-item': ''\n\t        });\n\t      } else {\n\t        addClasses(html, self.settings.optionClass);\n\t        setAttr(html, {\n\t          role: 'option',\n\t          id: data.$id\n\t        }); // update cache\n\n\t        data.$div = html;\n\t        self.options[value] = data;\n\t      }\n\t    }\n\n\t    return html;\n\t  }\n\t  /**\n\t   * Type guarded rendering\n\t   *\n\t   */\n\n\n\t  _render(templateName, data) {\n\t    const html = this.render(templateName, data);\n\n\t    if (html == null) {\n\t      throw 'HTMLElement expected';\n\t    }\n\n\t    return html;\n\t  }\n\t  /**\n\t   * Clears the render cache for a template. If\n\t   * no template is given, clears all render\n\t   * caches.\n\t   *\n\t   */\n\n\n\t  clearCache() {\n\t    iterate$1(this.options, option => {\n\t      if (option.$div) {\n\t        option.$div.remove();\n\t        delete option.$div;\n\t      }\n\t    });\n\t  }\n\t  /**\n\t   * Removes a value from item and option caches\n\t   *\n\t   */\n\n\n\t  uncacheValue(value) {\n\t    const option_el = this.getOption(value);\n\t    if (option_el) option_el.remove();\n\t  }\n\t  /**\n\t   * Determines whether or not to display the\n\t   * create item prompt, given a user input.\n\t   *\n\t   */\n\n\n\t  canCreate(input) {\n\t    return this.settings.create && input.length > 0 && this.settings.createFilter.call(this, input);\n\t  }\n\t  /**\n\t   * Wraps this.`method` so that `new_fn` can be invoked 'before', 'after', or 'instead' of the original method\n\t   *\n\t   * this.hook('instead','onKeyDown',function( arg1, arg2 ...){\n\t   *\n\t   * });\n\t   */\n\n\n\t  hook(when, method, new_fn) {\n\t    var self = this;\n\t    var orig_method = self[method];\n\n\t    self[method] = function () {\n\t      var result, result_new;\n\n\t      if (when === 'after') {\n\t        result = orig_method.apply(self, arguments);\n\t      }\n\n\t      result_new = new_fn.apply(self, arguments);\n\n\t      if (when === 'instead') {\n\t        return result_new;\n\t      }\n\n\t      if (when === 'before') {\n\t        result = orig_method.apply(self, arguments);\n\t      }\n\n\t      return result;\n\t    };\n\t  }\n\n\t}\n\n\t/**\n\t * Plugin: \"change_listener\" (Tom Select)\n\t * Copyright (c) contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t */\n\tfunction change_listener () {\n\t  addEvent(this.input, 'change', () => {\n\t    this.sync();\n\t  });\n\t}\n\n\t/**\n\t * Plugin: \"restore_on_backspace\" (Tom Select)\n\t * Copyright (c) contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t */\n\tfunction checkbox_options () {\n\t  var self = this;\n\t  var orig_onOptionSelect = self.onOptionSelect;\n\t  self.settings.hideSelected = false; // update the checkbox for an option\n\n\t  var UpdateCheckbox = function UpdateCheckbox(option) {\n\t    setTimeout(() => {\n\t      var checkbox = option.querySelector('input');\n\n\t      if (checkbox instanceof HTMLInputElement) {\n\t        if (option.classList.contains('selected')) {\n\t          checkbox.checked = true;\n\t        } else {\n\t          checkbox.checked = false;\n\t        }\n\t      }\n\t    }, 1);\n\t  }; // add checkbox to option template\n\n\n\t  self.hook('after', 'setupTemplates', () => {\n\t    var orig_render_option = self.settings.render.option;\n\n\t    self.settings.render.option = (data, escape_html) => {\n\t      var rendered = getDom(orig_render_option.call(self, data, escape_html));\n\t      var checkbox = document.createElement('input');\n\t      checkbox.addEventListener('click', function (evt) {\n\t        preventDefault(evt);\n\t      });\n\t      checkbox.type = 'checkbox';\n\t      const hashed = hash_key(data[self.settings.valueField]);\n\n\t      if (hashed && self.items.indexOf(hashed) > -1) {\n\t        checkbox.checked = true;\n\t      }\n\n\t      rendered.prepend(checkbox);\n\t      return rendered;\n\t    };\n\t  }); // uncheck when item removed\n\n\t  self.on('item_remove', value => {\n\t    var option = self.getOption(value);\n\n\t    if (option) {\n\t      // if dropdown hasn't been opened yet, the option won't exist\n\t      option.classList.remove('selected'); // selected class won't be removed yet\n\n\t      UpdateCheckbox(option);\n\t    }\n\t  }); // check when item added\n\n\t  self.on('item_add', value => {\n\t    var option = self.getOption(value);\n\n\t    if (option) {\n\t      // if dropdown hasn't been opened yet, the option won't exist\n\t      UpdateCheckbox(option);\n\t    }\n\t  }); // remove items when selected option is clicked\n\n\t  self.hook('instead', 'onOptionSelect', (evt, option) => {\n\t    if (option.classList.contains('selected')) {\n\t      option.classList.remove('selected');\n\t      self.removeItem(option.dataset.value);\n\t      self.refreshOptions();\n\t      preventDefault(evt, true);\n\t      return;\n\t    }\n\n\t    orig_onOptionSelect.call(self, evt, option);\n\t    UpdateCheckbox(option);\n\t  });\n\t}\n\n\t/**\n\t * Plugin: \"dropdown_header\" (Tom Select)\n\t * Copyright (c) contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t */\n\tfunction clear_button (userOptions) {\n\t  const self = this;\n\t  const options = Object.assign({\n\t    className: 'clear-button',\n\t    title: 'Clear All',\n\t    html: data => {\n\t      return `<div class=\"${data.className}\" title=\"${data.title}\">&#10799;</div>`;\n\t    }\n\t  }, userOptions);\n\t  self.on('initialize', () => {\n\t    var button = getDom(options.html(options));\n\t    button.addEventListener('click', evt => {\n\t      if (self.isDisabled) {\n\t        return;\n\t      }\n\n\t      self.clear();\n\n\t      if (self.settings.mode === 'single' && self.settings.allowEmptyOption) {\n\t        self.addItem('');\n\t      }\n\n\t      evt.preventDefault();\n\t      evt.stopPropagation();\n\t    });\n\t    self.control.appendChild(button);\n\t  });\n\t}\n\n\t/**\n\t * Plugin: \"drag_drop\" (Tom Select)\n\t * Copyright (c) contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t */\n\tfunction drag_drop () {\n\t  var self = this;\n\t  if (!$.fn.sortable) throw new Error('The \"drag_drop\" plugin requires jQuery UI \"sortable\".');\n\t  if (self.settings.mode !== 'multi') return;\n\t  var orig_lock = self.lock;\n\t  var orig_unlock = self.unlock;\n\t  self.hook('instead', 'lock', () => {\n\t    var sortable = $(self.control).data('sortable');\n\t    if (sortable) sortable.disable();\n\t    return orig_lock.call(self);\n\t  });\n\t  self.hook('instead', 'unlock', () => {\n\t    var sortable = $(self.control).data('sortable');\n\t    if (sortable) sortable.enable();\n\t    return orig_unlock.call(self);\n\t  });\n\t  self.on('initialize', () => {\n\t    var $control = $(self.control).sortable({\n\t      items: '[data-value]',\n\t      forcePlaceholderSize: true,\n\t      disabled: self.isLocked,\n\t      start: (e, ui) => {\n\t        ui.placeholder.css('width', ui.helper.css('width'));\n\t        $control.css({\n\t          overflow: 'visible'\n\t        });\n\t      },\n\t      stop: () => {\n\t        $control.css({\n\t          overflow: 'hidden'\n\t        });\n\t        var values = [];\n\t        $control.children('[data-value]').each(function () {\n\t          if (this.dataset.value) values.push(this.dataset.value);\n\t        });\n\t        self.setValue(values);\n\t      }\n\t    });\n\t  });\n\t}\n\n\t/**\n\t * Plugin: \"dropdown_header\" (Tom Select)\n\t * Copyright (c) contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t */\n\tfunction dropdown_header (userOptions) {\n\t  const self = this;\n\t  const options = Object.assign({\n\t    title: 'Untitled',\n\t    headerClass: 'dropdown-header',\n\t    titleRowClass: 'dropdown-header-title',\n\t    labelClass: 'dropdown-header-label',\n\t    closeClass: 'dropdown-header-close',\n\t    html: data => {\n\t      return '<div class=\"' + data.headerClass + '\">' + '<div class=\"' + data.titleRowClass + '\">' + '<span class=\"' + data.labelClass + '\">' + data.title + '</span>' + '<a class=\"' + data.closeClass + '\">&times;</a>' + '</div>' + '</div>';\n\t    }\n\t  }, userOptions);\n\t  self.on('initialize', () => {\n\t    var header = getDom(options.html(options));\n\t    var close_link = header.querySelector('.' + options.closeClass);\n\n\t    if (close_link) {\n\t      close_link.addEventListener('click', evt => {\n\t        preventDefault(evt, true);\n\t        self.close();\n\t      });\n\t    }\n\n\t    self.dropdown.insertBefore(header, self.dropdown.firstChild);\n\t  });\n\t}\n\n\t/**\n\t * Plugin: \"dropdown_input\" (Tom Select)\n\t * Copyright (c) contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t */\n\tfunction caret_position () {\n\t  var self = this;\n\t  /**\n\t   * Moves the caret to the specified index.\n\t   *\n\t   * The input must be moved by leaving it in place and moving the\n\t   * siblings, due to the fact that focus cannot be restored once lost\n\t   * on mobile webkit devices\n\t   *\n\t   */\n\n\t  self.hook('instead', 'setCaret', new_pos => {\n\t    if (self.settings.mode === 'single' || !self.control.contains(self.control_input)) {\n\t      new_pos = self.items.length;\n\t    } else {\n\t      new_pos = Math.max(0, Math.min(self.items.length, new_pos));\n\n\t      if (new_pos != self.caretPos && !self.isPending) {\n\t        self.controlChildren().forEach((child, j) => {\n\t          if (j < new_pos) {\n\t            self.control_input.insertAdjacentElement('beforebegin', child);\n\t          } else {\n\t            self.control.appendChild(child);\n\t          }\n\t        });\n\t      }\n\t    }\n\n\t    self.caretPos = new_pos;\n\t  });\n\t  self.hook('instead', 'moveCaret', direction => {\n\t    if (!self.isFocused) return; // move caret before or after selected items\n\n\t    const last_active = self.getLastActive(direction);\n\n\t    if (last_active) {\n\t      const idx = nodeIndex(last_active);\n\t      self.setCaret(direction > 0 ? idx + 1 : idx);\n\t      self.setActiveItem();\n\t      removeClasses(last_active, 'last-active'); // move caret left or right of current position\n\t    } else {\n\t      self.setCaret(self.caretPos + direction);\n\t    }\n\t  });\n\t}\n\n\t/**\n\t * Plugin: \"dropdown_input\" (Tom Select)\n\t * Copyright (c) contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t */\n\tfunction dropdown_input () {\n\t  const self = this;\n\t  self.settings.shouldOpen = true; // make sure the input is shown even if there are no options to display in the dropdown\n\n\t  self.hook('before', 'setup', () => {\n\t    self.focus_node = self.control;\n\t    addClasses(self.control_input, 'dropdown-input');\n\t    const div = getDom('<div class=\"dropdown-input-wrap\">');\n\t    div.append(self.control_input);\n\t    self.dropdown.insertBefore(div, self.dropdown.firstChild); // set a placeholder in the select control\n\n\t    const placeholder = getDom('<input class=\"items-placeholder\" tabindex=\"-1\" />');\n\t    placeholder.placeholder = self.settings.placeholder || '';\n\t    self.control.append(placeholder);\n\t  });\n\t  self.on('initialize', () => {\n\t    // set tabIndex on control to -1, otherwise [shift+tab] will put focus right back on control_input\n\t    self.control_input.addEventListener('keydown', evt => {\n\t      //addEvent(self.control_input,'keydown' as const,(evt:KeyboardEvent) =>{\n\t      switch (evt.keyCode) {\n\t        case KEY_ESC:\n\t          if (self.isOpen) {\n\t            preventDefault(evt, true);\n\t            self.close();\n\t          }\n\n\t          self.clearActiveItems();\n\t          return;\n\n\t        case KEY_TAB:\n\t          self.focus_node.tabIndex = -1;\n\t          break;\n\t      }\n\n\t      return self.onKeyDown.call(self, evt);\n\t    });\n\t    self.on('blur', () => {\n\t      self.focus_node.tabIndex = self.isDisabled ? -1 : self.tabIndex;\n\t    }); // give the control_input focus when the dropdown is open\n\n\t    self.on('dropdown_open', () => {\n\t      self.control_input.focus();\n\t    }); // prevent onBlur from closing when focus is on the control_input\n\n\t    const orig_onBlur = self.onBlur;\n\t    self.hook('instead', 'onBlur', evt => {\n\t      if (evt && evt.relatedTarget == self.control_input) return;\n\t      return orig_onBlur.call(self);\n\t    });\n\t    addEvent(self.control_input, 'blur', () => self.onBlur()); // return focus to control to allow further keyboard input\n\n\t    self.hook('before', 'close', () => {\n\t      if (!self.isOpen) return;\n\t      self.focus_node.focus({\n\t        preventScroll: true\n\t      });\n\t    });\n\t  });\n\t}\n\n\t/**\n\t * Plugin: \"input_autogrow\" (Tom Select)\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t */\n\tfunction input_autogrow () {\n\t  var self = this;\n\t  self.on('initialize', () => {\n\t    var test_input = document.createElement('span');\n\t    var control = self.control_input;\n\t    test_input.style.cssText = 'position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ';\n\t    self.wrapper.appendChild(test_input);\n\t    var transfer_styles = ['letterSpacing', 'fontSize', 'fontFamily', 'fontWeight', 'textTransform'];\n\n\t    for (const style_name of transfer_styles) {\n\t      // @ts-ignore TS7015 https://stackoverflow.com/a/50506154/697576\n\t      test_input.style[style_name] = control.style[style_name];\n\t    }\n\t    /**\n\t     * Set the control width\n\t     *\n\t     */\n\n\n\t    var resize = () => {\n\t      test_input.textContent = control.value;\n\t      control.style.width = test_input.clientWidth + 'px';\n\t    };\n\n\t    resize();\n\t    self.on('update item_add item_remove', resize);\n\t    addEvent(control, 'input', resize);\n\t    addEvent(control, 'keyup', resize);\n\t    addEvent(control, 'blur', resize);\n\t    addEvent(control, 'update', resize);\n\t  });\n\t}\n\n\t/**\n\t * Plugin: \"input_autogrow\" (Tom Select)\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t */\n\tfunction no_backspace_delete () {\n\t  var self = this;\n\t  var orig_deleteSelection = self.deleteSelection;\n\t  this.hook('instead', 'deleteSelection', evt => {\n\t    if (self.activeItems.length) {\n\t      return orig_deleteSelection.call(self, evt);\n\t    }\n\n\t    return false;\n\t  });\n\t}\n\n\t/**\n\t * Plugin: \"no_active_items\" (Tom Select)\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t */\n\tfunction no_active_items () {\n\t  this.hook('instead', 'setActiveItem', () => {});\n\t  this.hook('instead', 'selectAll', () => {});\n\t}\n\n\t/**\n\t * Plugin: \"optgroup_columns\" (Tom Select.js)\n\t * Copyright (c) contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t */\n\tfunction optgroup_columns () {\n\t  var self = this;\n\t  var orig_keydown = self.onKeyDown;\n\t  self.hook('instead', 'onKeyDown', evt => {\n\t    var index, option, options, optgroup;\n\n\t    if (!self.isOpen || !(evt.keyCode === KEY_LEFT || evt.keyCode === KEY_RIGHT)) {\n\t      return orig_keydown.call(self, evt);\n\t    }\n\n\t    self.ignoreHover = true;\n\t    optgroup = parentMatch(self.activeOption, '[data-group]');\n\t    index = nodeIndex(self.activeOption, '[data-selectable]');\n\n\t    if (!optgroup) {\n\t      return;\n\t    }\n\n\t    if (evt.keyCode === KEY_LEFT) {\n\t      optgroup = optgroup.previousSibling;\n\t    } else {\n\t      optgroup = optgroup.nextSibling;\n\t    }\n\n\t    if (!optgroup) {\n\t      return;\n\t    }\n\n\t    options = optgroup.querySelectorAll('[data-selectable]');\n\t    option = options[Math.min(options.length - 1, index)];\n\n\t    if (option) {\n\t      self.setActiveOption(option);\n\t    }\n\t  });\n\t}\n\n\t/**\n\t * Plugin: \"remove_button\" (Tom Select)\n\t * Copyright (c) contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t */\n\tfunction remove_button (userOptions) {\n\t  const options = Object.assign({\n\t    label: '&times;',\n\t    title: 'Remove',\n\t    className: 'remove',\n\t    append: true\n\t  }, userOptions); //options.className = 'remove-single';\n\n\t  var self = this; // override the render method to add remove button to each item\n\n\t  if (!options.append) {\n\t    return;\n\t  }\n\n\t  var html = '<a href=\"javascript:void(0)\" class=\"' + options.className + '\" tabindex=\"-1\" title=\"' + escape_html(options.title) + '\">' + options.label + '</a>';\n\t  self.hook('after', 'setupTemplates', () => {\n\t    var orig_render_item = self.settings.render.item;\n\n\t    self.settings.render.item = (data, escape) => {\n\t      var item = getDom(orig_render_item.call(self, data, escape));\n\t      var close_button = getDom(html);\n\t      item.appendChild(close_button);\n\t      addEvent(close_button, 'mousedown', evt => {\n\t        preventDefault(evt, true);\n\t      });\n\t      addEvent(close_button, 'click', evt => {\n\t        // propagating will trigger the dropdown to show for single mode\n\t        preventDefault(evt, true);\n\t        if (self.isLocked) return;\n\t        if (!self.shouldDelete([item], evt)) return;\n\t        self.removeItem(item);\n\t        self.refreshOptions(false);\n\t        self.inputState();\n\t      });\n\t      return item;\n\t    };\n\t  });\n\t}\n\n\t/**\n\t * Plugin: \"restore_on_backspace\" (Tom Select)\n\t * Copyright (c) contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t */\n\tfunction restore_on_backspace (userOptions) {\n\t  const self = this;\n\t  const options = Object.assign({\n\t    text: option => {\n\t      return option[self.settings.labelField];\n\t    }\n\t  }, userOptions);\n\t  self.on('item_remove', function (value) {\n\t    if (!self.isFocused) {\n\t      return;\n\t    }\n\n\t    if (self.control_input.value.trim() === '') {\n\t      var option = self.options[value];\n\n\t      if (option) {\n\t        self.setTextboxValue(options.text.call(self, option));\n\t      }\n\t    }\n\t  });\n\t}\n\n\t/**\n\t * Plugin: \"restore_on_backspace\" (Tom Select)\n\t * Copyright (c) contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t */\n\tfunction virtual_scroll () {\n\t  const self = this;\n\t  const orig_canLoad = self.canLoad;\n\t  const orig_clearActiveOption = self.clearActiveOption;\n\t  const orig_loadCallback = self.loadCallback;\n\t  var pagination = {};\n\t  var dropdown_content;\n\t  var loading_more = false;\n\t  var load_more_opt;\n\t  var default_values = [];\n\n\t  if (!self.settings.shouldLoadMore) {\n\t    // return true if additional results should be loaded\n\t    self.settings.shouldLoadMore = () => {\n\t      const scroll_percent = dropdown_content.clientHeight / (dropdown_content.scrollHeight - dropdown_content.scrollTop);\n\n\t      if (scroll_percent > 0.9) {\n\t        return true;\n\t      }\n\n\t      if (self.activeOption) {\n\t        var selectable = self.selectable();\n\t        var index = Array.from(selectable).indexOf(self.activeOption);\n\n\t        if (index >= selectable.length - 2) {\n\t          return true;\n\t        }\n\t      }\n\n\t      return false;\n\t    };\n\t  }\n\n\t  if (!self.settings.firstUrl) {\n\t    throw 'virtual_scroll plugin requires a firstUrl() method';\n\t  } // in order for virtual scrolling to work,\n\t  // options need to be ordered the same way they're returned from the remote data source\n\n\n\t  self.settings.sortField = [{\n\t    field: '$order'\n\t  }, {\n\t    field: '$score'\n\t  }]; // can we load more results for given query?\n\n\t  const canLoadMore = query => {\n\t    if (typeof self.settings.maxOptions === 'number' && dropdown_content.children.length >= self.settings.maxOptions) {\n\t      return false;\n\t    }\n\n\t    if (query in pagination && pagination[query]) {\n\t      return true;\n\t    }\n\n\t    return false;\n\t  };\n\n\t  const clearFilter = (option, value) => {\n\t    if (self.items.indexOf(value) >= 0 || default_values.indexOf(value) >= 0) {\n\t      return true;\n\t    }\n\n\t    return false;\n\t  }; // set the next url that will be\n\n\n\t  self.setNextUrl = (value, next_url) => {\n\t    pagination[value] = next_url;\n\t  }; // getUrl() to be used in settings.load()\n\n\n\t  self.getUrl = query => {\n\t    if (query in pagination) {\n\t      const next_url = pagination[query];\n\t      pagination[query] = false;\n\t      return next_url;\n\t    } // if the user goes back to a previous query\n\t    // we need to load the first page again\n\n\n\t    pagination = {};\n\t    return self.settings.firstUrl.call(self, query);\n\t  }; // don't clear the active option (and cause unwanted dropdown scroll)\n\t  // while loading more results\n\n\n\t  self.hook('instead', 'clearActiveOption', () => {\n\t    if (loading_more) {\n\t      return;\n\t    }\n\n\t    return orig_clearActiveOption.call(self);\n\t  }); // override the canLoad method\n\n\t  self.hook('instead', 'canLoad', query => {\n\t    // first time the query has been seen\n\t    if (!(query in pagination)) {\n\t      return orig_canLoad.call(self, query);\n\t    }\n\n\t    return canLoadMore(query);\n\t  }); // wrap the load\n\n\t  self.hook('instead', 'loadCallback', (options, optgroups) => {\n\t    if (!loading_more) {\n\t      self.clearOptions(clearFilter);\n\t    } else if (load_more_opt) {\n\t      const first_option = options[0];\n\n\t      if (first_option !== undefined) {\n\t        load_more_opt.dataset.value = first_option[self.settings.valueField];\n\t      }\n\t    }\n\n\t    orig_loadCallback.call(self, options, optgroups);\n\t    loading_more = false;\n\t  }); // add templates to dropdown\n\t  //\tloading_more if we have another url in the queue\n\t  //\tno_more_results if we don't have another url in the queue\n\n\t  self.hook('after', 'refreshOptions', () => {\n\t    const query = self.lastValue;\n\t    var option;\n\n\t    if (canLoadMore(query)) {\n\t      option = self.render('loading_more', {\n\t        query: query\n\t      });\n\n\t      if (option) {\n\t        option.setAttribute('data-selectable', ''); // so that navigating dropdown with [down] keypresses can navigate to this node\n\n\t        load_more_opt = option;\n\t      }\n\t    } else if (query in pagination && !dropdown_content.querySelector('.no-results')) {\n\t      option = self.render('no_more_results', {\n\t        query: query\n\t      });\n\t    }\n\n\t    if (option) {\n\t      addClasses(option, self.settings.optionClass);\n\t      dropdown_content.append(option);\n\t    }\n\t  }); // add scroll listener and default templates\n\n\t  self.on('initialize', () => {\n\t    default_values = Object.keys(self.options);\n\t    dropdown_content = self.dropdown_content; // default templates\n\n\t    self.settings.render = Object.assign({}, {\n\t      loading_more: () => {\n\t        return `<div class=\"loading-more-results\">Loading more results ... </div>`;\n\t      },\n\t      no_more_results: () => {\n\t        return `<div class=\"no-more-results\">No more results</div>`;\n\t      }\n\t    }, self.settings.render); // watch dropdown content scroll position\n\n\t    dropdown_content.addEventListener('scroll', () => {\n\t      if (!self.settings.shouldLoadMore.call(self)) {\n\t        return;\n\t      } // !important: this will get checked again in load() but we still need to check here otherwise loading_more will be set to true\n\n\n\t      if (!canLoadMore(self.lastValue)) {\n\t        return;\n\t      } // don't call load() too much\n\n\n\t      if (loading_more) return;\n\t      loading_more = true;\n\t      self.load.call(self, self.lastValue);\n\t    });\n\t  });\n\t}\n\n\tTomSelect.define('change_listener', change_listener);\n\tTomSelect.define('checkbox_options', checkbox_options);\n\tTomSelect.define('clear_button', clear_button);\n\tTomSelect.define('drag_drop', drag_drop);\n\tTomSelect.define('dropdown_header', dropdown_header);\n\tTomSelect.define('caret_position', caret_position);\n\tTomSelect.define('dropdown_input', dropdown_input);\n\tTomSelect.define('input_autogrow', input_autogrow);\n\tTomSelect.define('no_backspace_delete', no_backspace_delete);\n\tTomSelect.define('no_active_items', no_active_items);\n\tTomSelect.define('optgroup_columns', optgroup_columns);\n\tTomSelect.define('remove_button', remove_button);\n\tTomSelect.define('restore_on_backspace', restore_on_backspace);\n\tTomSelect.define('virtual_scroll', virtual_scroll);\n\n\treturn TomSelect;\n\n}));\nvar tomSelect=function(el,opts){return new TomSelect(el,opts);} \n//# sourceMappingURL=tom-select.complete.js.map\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// nb. This is for IE10 and lower _only_.\nvar supportCustomEvent = window.CustomEvent;\nif (!supportCustomEvent || typeof supportCustomEvent === 'object') {\n  supportCustomEvent = function CustomEvent(event, x) {\n    x = x || {};\n    var ev = document.createEvent('CustomEvent');\n    ev.initCustomEvent(event, !!x.bubbles, !!x.cancelable, x.detail || null);\n    return ev;\n  };\n  supportCustomEvent.prototype = window.Event.prototype;\n}\n\n/**\n * Dispatches the passed event to both an \"on<type>\" handler as well as via the\n * normal dispatch operation. Does not bubble.\n *\n * @param {!EventTarget} target\n * @param {!Event} event\n * @return {boolean}\n */\nfunction safeDispatchEvent(target, event) {\n  var check = 'on' + event.type.toLowerCase();\n  if (typeof target[check] === 'function') {\n    target[check](event);\n  }\n  return target.dispatchEvent(event);\n}\n\n/**\n * @param {Element} el to check for stacking context\n * @return {boolean} whether this el or its parents creates a stacking context\n */\nfunction createsStackingContext(el) {\n  while (el && el !== document.body) {\n    var s = window.getComputedStyle(el);\n    var invalid = function(k, ok) {\n      return !(s[k] === undefined || s[k] === ok);\n    };\n\n    if (s.opacity < 1 ||\n        invalid('zIndex', 'auto') ||\n        invalid('transform', 'none') ||\n        invalid('mixBlendMode', 'normal') ||\n        invalid('filter', 'none') ||\n        invalid('perspective', 'none') ||\n        s['isolation'] === 'isolate' ||\n        s.position === 'fixed' ||\n        s.webkitOverflowScrolling === 'touch') {\n      return true;\n    }\n    el = el.parentElement;\n  }\n  return false;\n}\n\n/**\n * Finds the nearest <dialog> from the passed element.\n *\n * @param {Element} el to search from\n * @return {HTMLDialogElement} dialog found\n */\nfunction findNearestDialog(el) {\n  while (el) {\n    if (el.localName === 'dialog') {\n      return /** @type {HTMLDialogElement} */ (el);\n    }\n    if (el.parentElement) {\n      el = el.parentElement;\n    } else if (el.parentNode) {\n      el = el.parentNode.host;\n    } else {\n      el = null;\n    }\n  }\n  return null;\n}\n\n/**\n * Blur the specified element, as long as it's not the HTML body element.\n * This works around an IE9/10 bug - blurring the body causes Windows to\n * blur the whole application.\n *\n * @param {Element} el to blur\n */\nfunction safeBlur(el) {\n  // Find the actual focused element when the active element is inside a shadow root\n  while (el && el.shadowRoot && el.shadowRoot.activeElement) {\n    el = el.shadowRoot.activeElement;\n  }\n\n  if (el && el.blur && el !== document.body) {\n    el.blur();\n  }\n}\n\n/**\n * @param {!NodeList} nodeList to search\n * @param {Node} node to find\n * @return {boolean} whether node is inside nodeList\n */\nfunction inNodeList(nodeList, node) {\n  for (var i = 0; i < nodeList.length; ++i) {\n    if (nodeList[i] === node) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * @param {HTMLFormElement} el to check\n * @return {boolean} whether this form has method=\"dialog\"\n */\nfunction isFormMethodDialog(el) {\n  if (!el || !el.hasAttribute('method')) {\n    return false;\n  }\n  return el.getAttribute('method').toLowerCase() === 'dialog';\n}\n\n/**\n * @param {!DocumentFragment|!Element} hostElement\n * @return {?Element}\n */\nfunction findFocusableElementWithin(hostElement) {\n  // Note that this is 'any focusable area'. This list is probably not exhaustive, but the\n  // alternative involves stepping through and trying to focus everything.\n  var opts = ['button', 'input', 'keygen', 'select', 'textarea'];\n  var query = opts.map(function(el) {\n    return el + ':not([disabled])';\n  });\n  // TODO(samthor): tabindex values that are not numeric are not focusable.\n  query.push('[tabindex]:not([disabled]):not([tabindex=\"\"])');  // tabindex != \"\", not disabled\n  var target = hostElement.querySelector(query.join(', '));\n\n  if (!target && 'attachShadow' in Element.prototype) {\n    // If we haven't found a focusable target, see if the host element contains an element\n    // which has a shadowRoot.\n    // Recursively search for the first focusable item in shadow roots.\n    var elems = hostElement.querySelectorAll('*');\n    for (var i = 0; i < elems.length; i++) {\n      if (elems[i].tagName && elems[i].shadowRoot) {\n        target = findFocusableElementWithin(elems[i].shadowRoot);\n        if (target) {\n          break;\n        }\n      }\n    }\n  }\n  return target;\n}\n\n/**\n * Determines if an element is attached to the DOM.\n * @param {Element} element to check\n * @return {boolean} whether the element is in DOM\n */\nfunction isConnected(element) {\n  return element.isConnected || document.body.contains(element);\n}\n\n/**\n * @param {!Event} event\n * @return {?Element}\n */\nfunction findFormSubmitter(event) {\n  if (event.submitter) {\n    return event.submitter;\n  }\n\n  var form = event.target;\n  if (!(form instanceof HTMLFormElement)) {\n    return null;\n  }\n\n  var submitter = dialogPolyfill.formSubmitter;\n  if (!submitter) {\n    var target = event.target;\n    var root = ('getRootNode' in target && target.getRootNode() || document);\n    submitter = root.activeElement;\n  }\n\n  if (!submitter || submitter.form !== form) {\n    return null;\n  }\n  return submitter;\n}\n\n/**\n * @param {!Event} event\n */\nfunction maybeHandleSubmit(event) {\n  if (event.defaultPrevented) {\n    return;\n  }\n  var form = /** @type {!HTMLFormElement} */ (event.target);\n\n  // We'd have a value if we clicked on an imagemap.\n  var value = dialogPolyfill.imagemapUseValue;\n  var submitter = findFormSubmitter(event);\n  if (value === null && submitter) {\n    value = submitter.value;\n  }\n\n  // There should always be a dialog as this handler is added specifically on them, but check just\n  // in case.\n  var dialog = findNearestDialog(form);\n  if (!dialog) {\n    return;\n  }\n\n  // Prefer formmethod on the button.\n  var formmethod = submitter && submitter.getAttribute('formmethod') || form.getAttribute('method');\n  if (formmethod !== 'dialog') {\n    return;\n  }\n  event.preventDefault();\n\n  if (value != null) {\n    // nb. we explicitly check against null/undefined\n    dialog.close(value);\n  } else {\n    dialog.close();\n  }\n}\n\n/**\n * @param {!HTMLDialogElement} dialog to upgrade\n * @constructor\n */\nfunction dialogPolyfillInfo(dialog) {\n  this.dialog_ = dialog;\n  this.replacedStyleTop_ = false;\n  this.openAsModal_ = false;\n\n  // Set a11y role. Browsers that support dialog implicitly know this already.\n  if (!dialog.hasAttribute('role')) {\n    dialog.setAttribute('role', 'dialog');\n  }\n\n  dialog.show = this.show.bind(this);\n  dialog.showModal = this.showModal.bind(this);\n  dialog.close = this.close.bind(this);\n\n  dialog.addEventListener('submit', maybeHandleSubmit, false);\n\n  if (!('returnValue' in dialog)) {\n    dialog.returnValue = '';\n  }\n\n  if ('MutationObserver' in window) {\n    var mo = new MutationObserver(this.maybeHideModal.bind(this));\n    mo.observe(dialog, {attributes: true, attributeFilter: ['open']});\n  } else {\n    // IE10 and below support. Note that DOMNodeRemoved etc fire _before_ removal. They also\n    // seem to fire even if the element was removed as part of a parent removal. Use the removed\n    // events to force downgrade (useful if removed/immediately added).\n    var removed = false;\n    var cb = function() {\n      removed ? this.downgradeModal() : this.maybeHideModal();\n      removed = false;\n    }.bind(this);\n    var timeout;\n    var delayModel = function(ev) {\n      if (ev.target !== dialog) { return; }  // not for a child element\n      var cand = 'DOMNodeRemoved';\n      removed |= (ev.type.substr(0, cand.length) === cand);\n      window.clearTimeout(timeout);\n      timeout = window.setTimeout(cb, 0);\n    };\n    ['DOMAttrModified', 'DOMNodeRemoved', 'DOMNodeRemovedFromDocument'].forEach(function(name) {\n      dialog.addEventListener(name, delayModel);\n    });\n  }\n  // Note that the DOM is observed inside DialogManager while any dialog\n  // is being displayed as a modal, to catch modal removal from the DOM.\n\n  Object.defineProperty(dialog, 'open', {\n    set: this.setOpen.bind(this),\n    get: dialog.hasAttribute.bind(dialog, 'open')\n  });\n\n  this.backdrop_ = document.createElement('div');\n  this.backdrop_.className = 'backdrop';\n  this.backdrop_.addEventListener('mouseup'  , this.backdropMouseEvent_.bind(this));\n  this.backdrop_.addEventListener('mousedown', this.backdropMouseEvent_.bind(this));\n  this.backdrop_.addEventListener('click'    , this.backdropMouseEvent_.bind(this));\n}\n\ndialogPolyfillInfo.prototype = /** @type {HTMLDialogElement.prototype} */ ({\n\n  get dialog() {\n    return this.dialog_;\n  },\n\n  /**\n   * Maybe remove this dialog from the modal top layer. This is called when\n   * a modal dialog may no longer be tenable, e.g., when the dialog is no\n   * longer open or is no longer part of the DOM.\n   */\n  maybeHideModal: function() {\n    if (this.dialog_.hasAttribute('open') && isConnected(this.dialog_)) { return; }\n    this.downgradeModal();\n  },\n\n  /**\n   * Remove this dialog from the modal top layer, leaving it as a non-modal.\n   */\n  downgradeModal: function() {\n    if (!this.openAsModal_) { return; }\n    this.openAsModal_ = false;\n    this.dialog_.style.zIndex = '';\n\n    // This won't match the native <dialog> exactly because if the user set top on a centered\n    // polyfill dialog, that top gets thrown away when the dialog is closed. Not sure it's\n    // possible to polyfill this perfectly.\n    if (this.replacedStyleTop_) {\n      this.dialog_.style.top = '';\n      this.replacedStyleTop_ = false;\n    }\n\n    // Clear the backdrop and remove from the manager.\n    this.backdrop_.parentNode && this.backdrop_.parentNode.removeChild(this.backdrop_);\n    dialogPolyfill.dm.removeDialog(this);\n  },\n\n  /**\n   * @param {boolean} value whether to open or close this dialog\n   */\n  setOpen: function(value) {\n    if (value) {\n      this.dialog_.hasAttribute('open') || this.dialog_.setAttribute('open', '');\n    } else {\n      this.dialog_.removeAttribute('open');\n      this.maybeHideModal();  // nb. redundant with MutationObserver\n    }\n  },\n\n  /**\n   * Handles mouse events ('mouseup', 'mousedown', 'click') on the fake .backdrop element, redirecting them as if\n   * they were on the dialog itself.\n   *\n   * @param {!Event} e to redirect\n   */\n  backdropMouseEvent_: function(e) {\n    if (!this.dialog_.hasAttribute('tabindex')) {\n      // Clicking on the backdrop should move the implicit cursor, even if dialog cannot be\n      // focused. Create a fake thing to focus on. If the backdrop was _before_ the dialog, this\n      // would not be needed - clicks would move the implicit cursor there.\n      var fake = document.createElement('div');\n      this.dialog_.insertBefore(fake, this.dialog_.firstChild);\n      fake.tabIndex = -1;\n      fake.focus();\n      this.dialog_.removeChild(fake);\n    } else {\n      this.dialog_.focus();\n    }\n\n    var redirectedEvent = document.createEvent('MouseEvents');\n    redirectedEvent.initMouseEvent(e.type, e.bubbles, e.cancelable, window,\n        e.detail, e.screenX, e.screenY, e.clientX, e.clientY, e.ctrlKey,\n        e.altKey, e.shiftKey, e.metaKey, e.button, e.relatedTarget);\n    this.dialog_.dispatchEvent(redirectedEvent);\n    e.stopPropagation();\n  },\n\n  /**\n   * Focuses on the first focusable element within the dialog. This will always blur the current\n   * focus, even if nothing within the dialog is found.\n   */\n  focus_: function() {\n    // Find element with `autofocus` attribute, or fall back to the first form/tabindex control.\n    var target = this.dialog_.querySelector('[autofocus]:not([disabled])');\n    if (!target && this.dialog_.tabIndex >= 0) {\n      target = this.dialog_;\n    }\n    if (!target) {\n      target = findFocusableElementWithin(this.dialog_);\n    }\n    safeBlur(document.activeElement);\n    target && target.focus();\n  },\n\n  /**\n   * Sets the zIndex for the backdrop and dialog.\n   *\n   * @param {number} dialogZ\n   * @param {number} backdropZ\n   */\n  updateZIndex: function(dialogZ, backdropZ) {\n    if (dialogZ < backdropZ) {\n      throw new Error('dialogZ should never be < backdropZ');\n    }\n    this.dialog_.style.zIndex = dialogZ;\n    this.backdrop_.style.zIndex = backdropZ;\n  },\n\n  /**\n   * Shows the dialog. If the dialog is already open, this does nothing.\n   */\n  show: function() {\n    if (!this.dialog_.open) {\n      this.setOpen(true);\n      this.focus_();\n    }\n  },\n\n  /**\n   * Show this dialog modally.\n   */\n  showModal: function() {\n    if (this.dialog_.hasAttribute('open')) {\n      throw new Error('Failed to execute \\'showModal\\' on dialog: The element is already open, and therefore cannot be opened modally.');\n    }\n    if (!isConnected(this.dialog_)) {\n      throw new Error('Failed to execute \\'showModal\\' on dialog: The element is not in a Document.');\n    }\n    if (!dialogPolyfill.dm.pushDialog(this)) {\n      throw new Error('Failed to execute \\'showModal\\' on dialog: There are too many open modal dialogs.');\n    }\n\n    if (createsStackingContext(this.dialog_.parentElement)) {\n      console.warn('A dialog is being shown inside a stacking context. ' +\n          'This may cause it to be unusable. For more information, see this link: ' +\n          'https://github.com/GoogleChrome/dialog-polyfill/#stacking-context');\n    }\n\n    this.setOpen(true);\n    this.openAsModal_ = true;\n\n    // Optionally center vertically, relative to the current viewport.\n    if (dialogPolyfill.needsCentering(this.dialog_)) {\n      dialogPolyfill.reposition(this.dialog_);\n      this.replacedStyleTop_ = true;\n    } else {\n      this.replacedStyleTop_ = false;\n    }\n\n    // Insert backdrop.\n    this.dialog_.parentNode.insertBefore(this.backdrop_, this.dialog_.nextSibling);\n\n    // Focus on whatever inside the dialog.\n    this.focus_();\n  },\n\n  /**\n   * Closes this HTMLDialogElement. This is optional vs clearing the open\n   * attribute, however this fires a 'close' event.\n   *\n   * @param {string=} opt_returnValue to use as the returnValue\n   */\n  close: function(opt_returnValue) {\n    if (!this.dialog_.hasAttribute('open')) {\n      throw new Error('Failed to execute \\'close\\' on dialog: The element does not have an \\'open\\' attribute, and therefore cannot be closed.');\n    }\n    this.setOpen(false);\n\n    // Leave returnValue untouched in case it was set directly on the element\n    if (opt_returnValue !== undefined) {\n      this.dialog_.returnValue = opt_returnValue;\n    }\n\n    // Triggering \"close\" event for any attached listeners on the <dialog>.\n    var closeEvent = new supportCustomEvent('close', {\n      bubbles: false,\n      cancelable: false\n    });\n    safeDispatchEvent(this.dialog_, closeEvent);\n  }\n\n});\n\nvar dialogPolyfill = {};\n\ndialogPolyfill.reposition = function(element) {\n  var scrollTop = document.body.scrollTop || document.documentElement.scrollTop;\n  var topValue = scrollTop + (window.innerHeight - element.offsetHeight) / 2;\n  element.style.top = Math.max(scrollTop, topValue) + 'px';\n};\n\ndialogPolyfill.isInlinePositionSetByStylesheet = function(element) {\n  for (var i = 0; i < document.styleSheets.length; ++i) {\n    var styleSheet = document.styleSheets[i];\n    var cssRules = null;\n    // Some browsers throw on cssRules.\n    try {\n      cssRules = styleSheet.cssRules;\n    } catch (e) {}\n    if (!cssRules) { continue; }\n    for (var j = 0; j < cssRules.length; ++j) {\n      var rule = cssRules[j];\n      var selectedNodes = null;\n      // Ignore errors on invalid selector texts.\n      try {\n        selectedNodes = document.querySelectorAll(rule.selectorText);\n      } catch(e) {}\n      if (!selectedNodes || !inNodeList(selectedNodes, element)) {\n        continue;\n      }\n      var cssTop = rule.style.getPropertyValue('top');\n      var cssBottom = rule.style.getPropertyValue('bottom');\n      if ((cssTop && cssTop !== 'auto') || (cssBottom && cssBottom !== 'auto')) {\n        return true;\n      }\n    }\n  }\n  return false;\n};\n\ndialogPolyfill.needsCentering = function(dialog) {\n  var computedStyle = window.getComputedStyle(dialog);\n  if (computedStyle.position !== 'absolute') {\n    return false;\n  }\n\n  // We must determine whether the top/bottom specified value is non-auto.  In\n  // WebKit/Blink, checking computedStyle.top == 'auto' is sufficient, but\n  // Firefox returns the used value. So we do this crazy thing instead: check\n  // the inline style and then go through CSS rules.\n  if ((dialog.style.top !== 'auto' && dialog.style.top !== '') ||\n      (dialog.style.bottom !== 'auto' && dialog.style.bottom !== '')) {\n    return false;\n  }\n  return !dialogPolyfill.isInlinePositionSetByStylesheet(dialog);\n};\n\n/**\n * @param {!Element} element to force upgrade\n */\ndialogPolyfill.forceRegisterDialog = function(element) {\n  if (window.HTMLDialogElement || element.showModal) {\n    console.warn('This browser already supports <dialog>, the polyfill ' +\n        'may not work correctly', element);\n  }\n  if (element.localName !== 'dialog') {\n    throw new Error('Failed to register dialog: The element is not a dialog.');\n  }\n  new dialogPolyfillInfo(/** @type {!HTMLDialogElement} */ (element));\n};\n\n/**\n * @param {!Element} element to upgrade, if necessary\n */\ndialogPolyfill.registerDialog = function(element) {\n  if (!element.showModal) {\n    dialogPolyfill.forceRegisterDialog(element);\n  }\n};\n\n/**\n * @constructor\n */\ndialogPolyfill.DialogManager = function() {\n  /** @type {!Array<!dialogPolyfillInfo>} */\n  this.pendingDialogStack = [];\n\n  var checkDOM = this.checkDOM_.bind(this);\n\n  // The overlay is used to simulate how a modal dialog blocks the document.\n  // The blocking dialog is positioned on top of the overlay, and the rest of\n  // the dialogs on the pending dialog stack are positioned below it. In the\n  // actual implementation, the modal dialog stacking is controlled by the\n  // top layer, where z-index has no effect.\n  this.overlay = document.createElement('div');\n  this.overlay.className = '_dialog_overlay';\n  this.overlay.addEventListener('click', function(e) {\n    this.forwardTab_ = undefined;\n    e.stopPropagation();\n    checkDOM([]);  // sanity-check DOM\n  }.bind(this));\n\n  this.handleKey_ = this.handleKey_.bind(this);\n  this.handleFocus_ = this.handleFocus_.bind(this);\n\n  this.zIndexLow_ = 100000;\n  this.zIndexHigh_ = 100000 + 150;\n\n  this.forwardTab_ = undefined;\n\n  if ('MutationObserver' in window) {\n    this.mo_ = new MutationObserver(function(records) {\n      var removed = [];\n      records.forEach(function(rec) {\n        for (var i = 0, c; c = rec.removedNodes[i]; ++i) {\n          if (!(c instanceof Element)) {\n            continue;\n          } else if (c.localName === 'dialog') {\n            removed.push(c);\n          }\n          removed = removed.concat(c.querySelectorAll('dialog'));\n        }\n      });\n      removed.length && checkDOM(removed);\n    });\n  }\n};\n\n/**\n * Called on the first modal dialog being shown. Adds the overlay and related\n * handlers.\n */\ndialogPolyfill.DialogManager.prototype.blockDocument = function() {\n  document.documentElement.addEventListener('focus', this.handleFocus_, true);\n  document.addEventListener('keydown', this.handleKey_);\n  this.mo_ && this.mo_.observe(document, {childList: true, subtree: true});\n};\n\n/**\n * Called on the first modal dialog being removed, i.e., when no more modal\n * dialogs are visible.\n */\ndialogPolyfill.DialogManager.prototype.unblockDocument = function() {\n  document.documentElement.removeEventListener('focus', this.handleFocus_, true);\n  document.removeEventListener('keydown', this.handleKey_);\n  this.mo_ && this.mo_.disconnect();\n};\n\n/**\n * Updates the stacking of all known dialogs.\n */\ndialogPolyfill.DialogManager.prototype.updateStacking = function() {\n  var zIndex = this.zIndexHigh_;\n\n  for (var i = 0, dpi; dpi = this.pendingDialogStack[i]; ++i) {\n    dpi.updateZIndex(--zIndex, --zIndex);\n    if (i === 0) {\n      this.overlay.style.zIndex = --zIndex;\n    }\n  }\n\n  // Make the overlay a sibling of the dialog itself.\n  var last = this.pendingDialogStack[0];\n  if (last) {\n    var p = last.dialog.parentNode || document.body;\n    p.appendChild(this.overlay);\n  } else if (this.overlay.parentNode) {\n    this.overlay.parentNode.removeChild(this.overlay);\n  }\n};\n\n/**\n * @param {Element} candidate to check if contained or is the top-most modal dialog\n * @return {boolean} whether candidate is contained in top dialog\n */\ndialogPolyfill.DialogManager.prototype.containedByTopDialog_ = function(candidate) {\n  while (candidate = findNearestDialog(candidate)) {\n    for (var i = 0, dpi; dpi = this.pendingDialogStack[i]; ++i) {\n      if (dpi.dialog === candidate) {\n        return i === 0;  // only valid if top-most\n      }\n    }\n    candidate = candidate.parentElement;\n  }\n  return false;\n};\n\ndialogPolyfill.DialogManager.prototype.handleFocus_ = function(event) {\n  var target = event.composedPath ? event.composedPath()[0] : event.target;\n\n  if (this.containedByTopDialog_(target)) { return; }\n\n  if (document.activeElement === document.documentElement) { return; }\n\n  event.preventDefault();\n  event.stopPropagation();\n  safeBlur(/** @type {Element} */ (target));\n\n  if (this.forwardTab_ === undefined) { return; }  // move focus only from a tab key\n\n  var dpi = this.pendingDialogStack[0];\n  var dialog = dpi.dialog;\n  var position = dialog.compareDocumentPosition(target);\n  if (position & Node.DOCUMENT_POSITION_PRECEDING) {\n    if (this.forwardTab_) {\n      // forward\n      dpi.focus_();\n    } else if (target !== document.documentElement) {\n      // backwards if we're not already focused on <html>\n      document.documentElement.focus();\n    }\n  }\n\n  return false;\n};\n\ndialogPolyfill.DialogManager.prototype.handleKey_ = function(event) {\n  this.forwardTab_ = undefined;\n  if (event.keyCode === 27) {\n    event.preventDefault();\n    event.stopPropagation();\n    var cancelEvent = new supportCustomEvent('cancel', {\n      bubbles: false,\n      cancelable: true\n    });\n    var dpi = this.pendingDialogStack[0];\n    if (dpi && safeDispatchEvent(dpi.dialog, cancelEvent)) {\n      dpi.dialog.close();\n    }\n  } else if (event.keyCode === 9) {\n    this.forwardTab_ = !event.shiftKey;\n  }\n};\n\n/**\n * Finds and downgrades any known modal dialogs that are no longer displayed. Dialogs that are\n * removed and immediately readded don't stay modal, they become normal.\n *\n * @param {!Array<!HTMLDialogElement>} removed that have definitely been removed\n */\ndialogPolyfill.DialogManager.prototype.checkDOM_ = function(removed) {\n  // This operates on a clone because it may cause it to change. Each change also calls\n  // updateStacking, which only actually needs to happen once. But who removes many modal dialogs\n  // at a time?!\n  var clone = this.pendingDialogStack.slice();\n  clone.forEach(function(dpi) {\n    if (removed.indexOf(dpi.dialog) !== -1) {\n      dpi.downgradeModal();\n    } else {\n      dpi.maybeHideModal();\n    }\n  });\n};\n\n/**\n * @param {!dialogPolyfillInfo} dpi\n * @return {boolean} whether the dialog was allowed\n */\ndialogPolyfill.DialogManager.prototype.pushDialog = function(dpi) {\n  var allowed = (this.zIndexHigh_ - this.zIndexLow_) / 2 - 1;\n  if (this.pendingDialogStack.length >= allowed) {\n    return false;\n  }\n  if (this.pendingDialogStack.unshift(dpi) === 1) {\n    this.blockDocument();\n  }\n  this.updateStacking();\n  return true;\n};\n\n/**\n * @param {!dialogPolyfillInfo} dpi\n */\ndialogPolyfill.DialogManager.prototype.removeDialog = function(dpi) {\n  var index = this.pendingDialogStack.indexOf(dpi);\n  if (index === -1) { return; }\n\n  this.pendingDialogStack.splice(index, 1);\n  if (this.pendingDialogStack.length === 0) {\n    this.unblockDocument();\n  }\n  this.updateStacking();\n};\n\ndialogPolyfill.dm = new dialogPolyfill.DialogManager();\ndialogPolyfill.formSubmitter = null;\ndialogPolyfill.imagemapUseValue = null;\n\n/**\n * Installs global handlers, such as click listers and native method overrides. These are needed\n * even if a no dialog is registered, as they deal with <form method=\"dialog\">.\n */\nif (window.HTMLDialogElement === undefined) {\n\n  /**\n   * If HTMLFormElement translates method=\"DIALOG\" into 'get', then replace the descriptor with\n   * one that returns the correct value.\n   */\n  var testForm = document.createElement('form');\n  testForm.setAttribute('method', 'dialog');\n  if (testForm.method !== 'dialog') {\n    var methodDescriptor = Object.getOwnPropertyDescriptor(HTMLFormElement.prototype, 'method');\n    if (methodDescriptor) {\n      // nb. Some older iOS and older PhantomJS fail to return the descriptor. Don't do anything\n      // and don't bother to update the element.\n      var realGet = methodDescriptor.get;\n      methodDescriptor.get = function() {\n        if (isFormMethodDialog(this)) {\n          return 'dialog';\n        }\n        return realGet.call(this);\n      };\n      var realSet = methodDescriptor.set;\n      /** @this {HTMLElement} */\n      methodDescriptor.set = function(v) {\n        if (typeof v === 'string' && v.toLowerCase() === 'dialog') {\n          return this.setAttribute('method', v);\n        }\n        return realSet.call(this, v);\n      };\n      Object.defineProperty(HTMLFormElement.prototype, 'method', methodDescriptor);\n    }\n  }\n\n  /**\n   * Global 'click' handler, to capture the <input type=\"submit\"> or <button> element which has\n   * submitted a <form method=\"dialog\">. Needed as Safari and others don't report this inside\n   * document.activeElement.\n   */\n  document.addEventListener('click', function(ev) {\n    dialogPolyfill.formSubmitter = null;\n    dialogPolyfill.imagemapUseValue = null;\n    if (ev.defaultPrevented) { return; }  // e.g. a submit which prevents default submission\n\n    var target = /** @type {Element} */ (ev.target);\n    if ('composedPath' in ev) {\n      var path = ev.composedPath();\n      target = path.shift() || target;\n    }\n    if (!target || !isFormMethodDialog(target.form)) { return; }\n\n    var valid = (target.type === 'submit' && ['button', 'input'].indexOf(target.localName) > -1);\n    if (!valid) {\n      if (!(target.localName === 'input' && target.type === 'image')) { return; }\n      // this is a <input type=\"image\">, which can submit forms\n      dialogPolyfill.imagemapUseValue = ev.offsetX + ',' + ev.offsetY;\n    }\n\n    var dialog = findNearestDialog(target);\n    if (!dialog) { return; }\n\n    dialogPolyfill.formSubmitter = target;\n\n  }, false);\n\n  /**\n   * Global 'submit' handler. This handles submits of `method=\"dialog\"` which are invalid, i.e.,\n   * outside a dialog. They get prevented.\n   */\n  document.addEventListener('submit', function(ev) {\n    var form = ev.target;\n    var dialog = findNearestDialog(form);\n    if (dialog) {\n      return;  // ignore, handle there\n    }\n\n    var submitter = findFormSubmitter(ev);\n    var formmethod = submitter && submitter.getAttribute('formmethod') || form.getAttribute('method');\n    if (formmethod === 'dialog') {\n      ev.preventDefault();\n    }\n  });\n\n  /**\n   * Replace the native HTMLFormElement.submit() method, as it won't fire the\n   * submit event and give us a chance to respond.\n   */\n  var nativeFormSubmit = HTMLFormElement.prototype.submit;\n  var replacementFormSubmit = function () {\n    if (!isFormMethodDialog(this)) {\n      return nativeFormSubmit.call(this);\n    }\n    var dialog = findNearestDialog(this);\n    dialog && dialog.close();\n  };\n  HTMLFormElement.prototype.submit = replacementFormSubmit;\n}\n\n/**\n * Module for creating modals for the DHIL\n * @author Joey Takeda\n */\n\nlet _;\nconst parser = new DOMParser();\nconst body = document.body;\n\n/** Class for creating modals */\nclass Modals {\n    /** Constructs the set of modals to use from the selector */\n    constructor(selector) {\n        this.selector = selector;\n        /** Index to store retrieved fragments */\n        this.el = body;\n        this.index = new Map();\n        this.debug = false;\n        this.linkClass = 'modal-link';\n        this.ignoreIndexes = true;\n        this.observerConfig =  {\n            attributes:true,\n            childList:false,\n            subtree:false\n        };\n        this.observer = new MutationObserver(this.checkDialog.bind(this));\n        this.active = false;\n        this.backdropClose = true;\n        this.filterParentsSelector = null;\n        this.fetching = false;\n    }\n\n    // Getters\n    get links(){\n        let allLinks = this.el.querySelectorAll(this.selector);\n        let filtered = Array.from(allLinks).filter(this.defaultLinkFilter.bind(this));\n        return filtered;\n    }\n\n    get dialogs(){\n        let values = [];\n        this.index.forEach((v, k, m) => values.push(v));\n        return [...values];\n    }\n\n    // Methods\n\n    /**\n     * Set the click event for each link\n     *\n     * @returns null\n     */\n    init(){\n        _ = this;\n        window.Modals = this;\n        this.log(this);\n        for (const link of this.links){\n            this.log(link);\n            link.classList.add(this.linkClass);\n            link.addEventListener('click', this.clickHandler.bind(this));\n        }\n    }\n\n    /**\n     * Handles click event for any modal link\n     *\n     * @param {Object} e - The event object\n     * @returns {Promise<void>}\n     */\n    async clickHandler(e){\n        this.caller = e.currentTarget;\n        try{\n            e.preventDefault();\n            // Don't do anything if we're already fetching\n            if (this.fetching){\n                console.log(`Tried to fetch again, so blocking `);\n                return;\n            }\n            this.fetching = true;\n            this.current = await this.getDialog(this.caller);\n            this.observer.observe(this.current, this.observerConfig);\n            this.current.showModal();\n            this.fetching = false;\n        } catch(err){\n            this.errorHandler(err).bind(this);\n        }\n    }\n\n    /**\n     * Retrieves the fragment either from the index or by fetching\n     * the content externally\n     *\n     * @param {HTMLAnchorElement} link - The link for that modal\n     * @returns {Promise<HTMLDialogElement|void>}\n     */\n    async getDialog(link){\n        let uri = this.modalURI(link);\n        return new Promise( (resolve, reject) => {\n            if (this.index.has(uri)) {\n                return resolve(this.index.get(uri));\n            }\n            fetch(uri)\n                .then(response => response.text())\n                .then(text => {\n                    let dialog = this.getDialogFromText(text);\n                    this.processDialog(dialog);\n                    // Register the dialog if necessary\n                    dialogPolyfill.registerDialog(dialog);\n                    if (!(typeof dialog.close === 'function')){\n                        dialog.close = function(){\n                            dialog.querySelector(\"form[method='close']\").submit();\n                        };\n                    }\n                    document.body.appendChild(dialog);\n                    this.index.set(uri, dialog);\n                    return resolve(dialog);\n                })\n                .catch(this.errorHandler.bind(this));\n        });\n    }\n\n    /**\n     * Retrieves the dialog from the text response\n     *\n     * @param text - String response\n     * @returns {HTMLDialogElement|void}\n     */\n    getDialogFromText(text){\n        let DOM = parser.parseFromString(text, 'text/html');\n        let dialog = DOM.querySelector('dialog');\n        return dialog\n    }\n\n    checkDialog(mutations){\n        for (const mutation of mutations){\n            if (mutation.attributeName === 'open'){\n                this.active = !this.active;\n                this.toggle();\n            }\n        }\n    }\n\n    toggle(){\n        // Toggle the aux classes for scrolling stuff\n        body.classList.toggle('dialog-active');\n        this.caller.classList.toggle('active');\n        // Set the event listener on the document to close on backdrop\n        if (this.active){\n            if (this.backdropClose) body.addEventListener('click', this.bodyClickHandler, true);\n            return;\n        }\n        if (this.backdropClose) body.removeEventListener('click', this.bodyClickHandler, true);\n        this.observer.disconnect();\n        this.caller = null;\n    }\n\n    bodyClickHandler(e){\n        // We can't bind this to the bodyClickHandler so that it can be removed,\n        // so use the Window.modals object (also known as _);\n        let el = (typeof e.path === 'object') ? e.path[0] : e.target;\n        if (el === _.current){\n            _.current.close();\n        }\n    }\n\n    /**\n     * Filters sets of links. By default, it only returns links that\n     * end with digits\n     *\n     * @param {HTMLAnchorElement} link - The link to use\n     * @returns {boolean}\n     */\n    defaultLinkFilter(link){\n\n\n        if (this.filterParentsSelector !== null){\n            if (link.closest(this.filterParentsSelector) !== null){\n                 return false;\n            }\n        }\n\n        if (typeof this.linkFilter === 'function'){\n            console.log(this.linkFilter(link));\n            if (!this.linkFilter(link)){\n                return false;\n            }        }\n\n        return /\\d+\\/?$/.test(link.getAttribute('href'));\n\n\n    }\n\n    /**\n     * Processes the dialog element; by default, this removes an open attribute\n     * (if it exists) but otherwise does nothing else\n     *\n     * @param dialog\n     * @returns {null}\n     */\n    processDialog(dialog){\n        if (dialog.hasAttribute('open')){\n            dialog.removeAttribute('open');\n        }\n    }\n\n    /**\n     * Utility function to retrieve get the URI for the modal\n     *\n     * @param link\n     * @returns {string}\n     */\n    modalURI(link){\n        return link.getAttribute('href') + '/modal';\n    }\n\n    /**\n     * Error handling function\n     *\n     * @param err\n     * @returns void\n     */\n    errorHandler(err){\n        console.trace(err);\n        window.location = this.caller.href;\n    }\n\n\n    log(msg){\n        if (this.debug){\n            console.log(msg);\n        }\n    }\n}\n\nexport default Modals;\n","/**\n * Set of Javascript to creates responsive, accessible tables; most of this is\n * taken from Adrian Rosseli's https://adrianroselli.com/2017/11/a-responsive-accessible-table.html\n * But with some slight adaptations\n *\n */\n\n\nexport default class A11YTables{\n    constructor(q = 'table'){\n        this.query = q;\n        this.tables = [];\n    }\n\n    init() {\n        document.querySelectorAll(this.query).forEach((tbl, i) => {\n            this.tables.push(new A11YTable(tbl, i));\n        });\n    }\n}\n\nclass A11YTable{\n    constructor(tbl, pos){\n        console.log(this);\n        this.table = tbl;\n        this.pos = pos;\n        this.stylesheet = null;\n        if (this.table.tagName != \"TABLE\"){\n            console.log('Not a table, bailing');\n            return;\n        }\n        this.init();\n    }\n\n    get ariaRoles(){\n        return {\n            'tbody, thead, tfoot': 'rowgroup',\n            'tr': 'row',\n            'td': 'cell',\n            'thead th': 'columnheader',\n            'tbody tr th': 'rowheader'\n        }\n    }\n\n    get headers(){\n        return [...this.table.querySelectorAll('thead th')].map(th => th.innerText);\n    }\n\n\n\n    addARIA(){\n        let _ = this;\n        const setRole = (el, role) => {\n            if (!el.getAttribute('role')) el.setAttribute('role', role);\n        }\n        setRole(this.table, 'table');\n        for (const q in this.ariaRoles){\n            const elements = [...this.table.querySelectorAll(q)];\n            const role = _.ariaRoles[q];\n            elements.forEach(el => {\n                setRole(el, _.ariaRoles[q]);\n                if (role == 'cell'){\n                    _.handleCell(el);\n                }\n            });\n        }\n    }\n\n    handleCell(cell){\n        if (cell.innerText.trim().length == 0){\n            cell.classList.add('empty-cell');\n        } else {\n            let wrapper = `<div class=\"cell-content\">${cell.innerHTML}</div>`;\n            cell.innerHTML = wrapper;\n        }\n        if (this.headers.length > 0){\n            cell.setAttribute('data-value', this.headers[cell.cellIndex]);\n        }\n    }\n\n    init(){\n        if (!this.table.id) {\n            this.table.id = `tbl_${this.pos}`;\n        }\n        this.addARIA();\n\n    }\n}","/* Accordion constructor that uses the Web Animations API for fast and smooth\ntransitions. Taken from: https://css-tricks.com/how-to-animate-the-details-element-using-waapi/\nand subsequently modified by Joey Takeda.\n */\n\n\"use strict\";\n\nexport default class Accordion {\n    constructor(el) {\n        try{\n            // Store the <details> element\n            this.el = el;\n\n            // Store the <summary> element\n            this.summary = el.querySelector('summary');\n\n            // Store the <div class=\"content\"> element\n            this.content = this.makeContent();\n\n            // Store the animation object (so we can cancel it if needed)\n            this.animation = null;\n\n            //It's not doing anything at the moment.\n            this.state = [0];\n\n            // Create configuration for easing function;\n            this.easing = this.getCustomProp('easing', 'ease-in-out');\n\n            // Create an option for timing\n            this.duration = this.convertDuration(this.getCustomProp('duration', '400').trim());\n\n            // Make the heights\n            this.startHeight = null;\n            this.endHeight = null;\n\n            // Now init the actual element stuff\n            this.init();\n\n        } catch(e){\n            console.log(`${e}`);\n        }\n    }\n\n    init() {\n        // Set the aria role\n        this.el.setAttribute('aria-expanded', this.el.open);\n        // Add a class to the element\n        this.el.classList.add('accordion');\n        // Detect user clicks on the summary element\n        this.summary.addEventListener('click', (e) => this.onClick(e));\n    }\n\n    // Function to get custom properties\n    // so to align any duration/easing stuff in the CSS\n    // This can be overridden by the object declaration, however\n    getCustomProp(prop, defaultVal) {\n        //Get the actual declaration;\n        let propDecl = `--accordion-${prop}`;\n        //Get the computed style\n        let style = getComputedStyle(this.el);\n        //Get the property value\n        let propVal = style.getPropertyValue(propDecl);\n        return (propVal) ? propVal : defaultVal;\n    }\n\n    // Create the click listener\n    onClick(e) {\n        // Stop default behaviour from the browser\n        e.preventDefault();\n\n        // Add an overflow on the <details> to avoid content overflowing\n        this.el.style.overflow = 'hidden';\n\n        //Prevent any further clicking from happening\n        this.el.style.pointerEvents = 'none';\n\n        // Check if the element is being closed or is already closed\n        if (!this.el.open) {\n            this.open();\n            // Check if the element is being opened or is already open\n        } else {\n            this.close();\n        }\n    }\n\n    makeContent() {\n        let nodes = [...this.el.childNodes].filter(n => !n.isSameNode(this.summary));\n        let div = document.createElement('div');\n        div.classList.add('accordion__content');\n        nodes.forEach(node => div.appendChild(node));\n        this.el.appendChild(div);\n        return div;\n    }\n\n    open() {\n        // Apply a fixed height on the element\n        this.el.style.height = `${this.el.offsetHeight}px`;\n        // Force the [open] attribute on the details element\n        this.el.open = true;\n        // Wait for the next frame to call the expand function\n        window.requestAnimationFrame(() => this.expand());\n    }\n\n    close() {\n        //Add the aria label\n        window.requestAnimationFrame(() => this.shrink());\n    }\n\n    expand() {\n        // Set the element as \"being expanding\"\n        this.state.push(1);\n        // Get the current fixed height of the element\n        this.startHeight = `${this.el.offsetHeight}px`;\n        // Calculate the open height of the element (summary height + content height)\n        this.endHeight = `${this.summary.offsetHeight + this.content.offsetHeight}px`;\n        this.el.setAttribute('aria-expanded', 'true');\n        //Now animate\n        this.animate();\n    }\n\n    shrink() {\n        // Set the element as \"being closed\"\n        this.state.push(-1);\n        // Store the current height of the element\n        this.startHeight = `${this.el.offsetHeight}px`;\n        // Calculate the height of the summary\n        this.endHeight = `${this.summary.offsetHeight}px`;\n        this.el.setAttribute('aria-expanded', 'false');\n        this.animate();\n    }\n\n    animate() {\n        // If there is already an animation running\n        if (this.animation) {\n            // Cancel the current animation\n            this.animation.cancel();\n        }\n\n        // Start a WAAPI animation\n        this.animation = this.el.animate({\n            // Set the keyframes from the startHeight to endHeight\n            height: [this.startHeight, this.endHeight]\n        }, {\n            duration: this.duration,\n            easing: this.easing\n        });\n\n        // When the animation is complete, call onAnimationFinish()\n        this.animation.onfinish = () => this.onAnimationFinish();\n        // If the animation is cancelled, isExpanding variable is set to false\n        this.animation.oncancel = () => this.state.slice(0, 1);\n    }\n\n    onAnimationFinish() {\n        // Set the open attribute based on the parameter\n        this.el.open = this.state[1] > 0;\n        // Clear the stored animation\n        this.animation = null;\n        // Reset state\n        this.state = [0];\n        this.startHeight = this.endHeight = null;\n        // Remove the overflow hidden and the fixed height\n        this.el.style.height = this.el.style.overflow = '';\n        this.el.style.pointerEvents = 'auto';\n    }\n\n    convertDuration(dur) {\n        if (/[\\d]s$/g.test(dur)){\n            return parseFloat(dur) * 1000;\n        } else {\n            parseInt(dur, 10);\n        }\n    }\n}\n\n\n\n\n\n\n\n\n","/**\n * SSR Window 4.0.2\n * Better handling for window object in SSR environment\n * https://github.com/nolimits4web/ssr-window\n *\n * Copyright 2021, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: December 13, 2021\n */\n/* eslint-disable no-param-reassign */\nfunction isObject(obj) {\n    return (obj !== null &&\n        typeof obj === 'object' &&\n        'constructor' in obj &&\n        obj.constructor === Object);\n}\nfunction extend(target = {}, src = {}) {\n    Object.keys(src).forEach((key) => {\n        if (typeof target[key] === 'undefined')\n            target[key] = src[key];\n        else if (isObject(src[key]) &&\n            isObject(target[key]) &&\n            Object.keys(src[key]).length > 0) {\n            extend(target[key], src[key]);\n        }\n    });\n}\n\nconst ssrDocument = {\n    body: {},\n    addEventListener() { },\n    removeEventListener() { },\n    activeElement: {\n        blur() { },\n        nodeName: '',\n    },\n    querySelector() {\n        return null;\n    },\n    querySelectorAll() {\n        return [];\n    },\n    getElementById() {\n        return null;\n    },\n    createEvent() {\n        return {\n            initEvent() { },\n        };\n    },\n    createElement() {\n        return {\n            children: [],\n            childNodes: [],\n            style: {},\n            setAttribute() { },\n            getElementsByTagName() {\n                return [];\n            },\n        };\n    },\n    createElementNS() {\n        return {};\n    },\n    importNode() {\n        return null;\n    },\n    location: {\n        hash: '',\n        host: '',\n        hostname: '',\n        href: '',\n        origin: '',\n        pathname: '',\n        protocol: '',\n        search: '',\n    },\n};\nfunction getDocument() {\n    const doc = typeof document !== 'undefined' ? document : {};\n    extend(doc, ssrDocument);\n    return doc;\n}\n\nconst ssrWindow = {\n    document: ssrDocument,\n    navigator: {\n        userAgent: '',\n    },\n    location: {\n        hash: '',\n        host: '',\n        hostname: '',\n        href: '',\n        origin: '',\n        pathname: '',\n        protocol: '',\n        search: '',\n    },\n    history: {\n        replaceState() { },\n        pushState() { },\n        go() { },\n        back() { },\n    },\n    CustomEvent: function CustomEvent() {\n        return this;\n    },\n    addEventListener() { },\n    removeEventListener() { },\n    getComputedStyle() {\n        return {\n            getPropertyValue() {\n                return '';\n            },\n        };\n    },\n    Image() { },\n    Date() { },\n    screen: {},\n    setTimeout() { },\n    clearTimeout() { },\n    matchMedia() {\n        return {};\n    },\n    requestAnimationFrame(callback) {\n        if (typeof setTimeout === 'undefined') {\n            callback();\n            return null;\n        }\n        return setTimeout(callback, 0);\n    },\n    cancelAnimationFrame(id) {\n        if (typeof setTimeout === 'undefined') {\n            return;\n        }\n        clearTimeout(id);\n    },\n};\nfunction getWindow() {\n    const win = typeof window !== 'undefined' ? window : {};\n    extend(win, ssrWindow);\n    return win;\n}\n\nexport { extend, getDocument, getWindow, ssrDocument, ssrWindow };\n","/**\n * Dom7 4.0.4\n * Minimalistic JavaScript library for DOM manipulation, with a jQuery-compatible API\n * https://framework7.io/docs/dom7.html\n *\n * Copyright 2022, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: January 11, 2022\n */\nimport { getWindow, getDocument } from 'ssr-window';\n\n/* eslint-disable no-proto */\nfunction makeReactive(obj) {\n  const proto = obj.__proto__;\n  Object.defineProperty(obj, '__proto__', {\n    get() {\n      return proto;\n    },\n\n    set(value) {\n      proto.__proto__ = value;\n    }\n\n  });\n}\n\nclass Dom7 extends Array {\n  constructor(items) {\n    if (typeof items === 'number') {\n      super(items);\n    } else {\n      super(...(items || []));\n      makeReactive(this);\n    }\n  }\n\n}\n\nfunction arrayFlat(arr = []) {\n  const res = [];\n  arr.forEach(el => {\n    if (Array.isArray(el)) {\n      res.push(...arrayFlat(el));\n    } else {\n      res.push(el);\n    }\n  });\n  return res;\n}\nfunction arrayFilter(arr, callback) {\n  return Array.prototype.filter.call(arr, callback);\n}\nfunction arrayUnique(arr) {\n  const uniqueArray = [];\n\n  for (let i = 0; i < arr.length; i += 1) {\n    if (uniqueArray.indexOf(arr[i]) === -1) uniqueArray.push(arr[i]);\n  }\n\n  return uniqueArray;\n}\nfunction toCamelCase(string) {\n  return string.toLowerCase().replace(/-(.)/g, (match, group) => group.toUpperCase());\n}\n\n// eslint-disable-next-line\n\nfunction qsa(selector, context) {\n  if (typeof selector !== 'string') {\n    return [selector];\n  }\n\n  const a = [];\n  const res = context.querySelectorAll(selector);\n\n  for (let i = 0; i < res.length; i += 1) {\n    a.push(res[i]);\n  }\n\n  return a;\n}\n\nfunction $(selector, context) {\n  const window = getWindow();\n  const document = getDocument();\n  let arr = [];\n\n  if (!context && selector instanceof Dom7) {\n    return selector;\n  }\n\n  if (!selector) {\n    return new Dom7(arr);\n  }\n\n  if (typeof selector === 'string') {\n    const html = selector.trim();\n\n    if (html.indexOf('<') >= 0 && html.indexOf('>') >= 0) {\n      let toCreate = 'div';\n      if (html.indexOf('<li') === 0) toCreate = 'ul';\n      if (html.indexOf('<tr') === 0) toCreate = 'tbody';\n      if (html.indexOf('<td') === 0 || html.indexOf('<th') === 0) toCreate = 'tr';\n      if (html.indexOf('<tbody') === 0) toCreate = 'table';\n      if (html.indexOf('<option') === 0) toCreate = 'select';\n      const tempParent = document.createElement(toCreate);\n      tempParent.innerHTML = html;\n\n      for (let i = 0; i < tempParent.childNodes.length; i += 1) {\n        arr.push(tempParent.childNodes[i]);\n      }\n    } else {\n      arr = qsa(selector.trim(), context || document);\n    } // arr = qsa(selector, document);\n\n  } else if (selector.nodeType || selector === window || selector === document) {\n    arr.push(selector);\n  } else if (Array.isArray(selector)) {\n    if (selector instanceof Dom7) return selector;\n    arr = selector;\n  }\n\n  return new Dom7(arrayUnique(arr));\n}\n\n$.fn = Dom7.prototype;\n\n// eslint-disable-next-line\n\nfunction addClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    el.classList.add(...classNames);\n  });\n  return this;\n}\n\nfunction removeClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    el.classList.remove(...classNames);\n  });\n  return this;\n}\n\nfunction toggleClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    classNames.forEach(className => {\n      el.classList.toggle(className);\n    });\n  });\n}\n\nfunction hasClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  return arrayFilter(this, el => {\n    return classNames.filter(className => el.classList.contains(className)).length > 0;\n  }).length > 0;\n}\n\nfunction attr(attrs, value) {\n  if (arguments.length === 1 && typeof attrs === 'string') {\n    // Get attr\n    if (this[0]) return this[0].getAttribute(attrs);\n    return undefined;\n  } // Set attrs\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (arguments.length === 2) {\n      // String\n      this[i].setAttribute(attrs, value);\n    } else {\n      // Object\n      for (const attrName in attrs) {\n        this[i][attrName] = attrs[attrName];\n        this[i].setAttribute(attrName, attrs[attrName]);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction removeAttr(attr) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].removeAttribute(attr);\n  }\n\n  return this;\n}\n\nfunction prop(props, value) {\n  if (arguments.length === 1 && typeof props === 'string') {\n    // Get prop\n    if (this[0]) return this[0][props];\n  } else {\n    // Set props\n    for (let i = 0; i < this.length; i += 1) {\n      if (arguments.length === 2) {\n        // String\n        this[i][props] = value;\n      } else {\n        // Object\n        for (const propName in props) {\n          this[i][propName] = props[propName];\n        }\n      }\n    }\n\n    return this;\n  }\n\n  return this;\n}\n\nfunction data(key, value) {\n  let el;\n\n  if (typeof value === 'undefined') {\n    el = this[0];\n    if (!el) return undefined; // Get value\n\n    if (el.dom7ElementDataStorage && key in el.dom7ElementDataStorage) {\n      return el.dom7ElementDataStorage[key];\n    }\n\n    const dataKey = el.getAttribute(`data-${key}`);\n\n    if (dataKey) {\n      return dataKey;\n    }\n\n    return undefined;\n  } // Set value\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    el = this[i];\n    if (!el.dom7ElementDataStorage) el.dom7ElementDataStorage = {};\n    el.dom7ElementDataStorage[key] = value;\n  }\n\n  return this;\n}\n\nfunction removeData(key) {\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.dom7ElementDataStorage && el.dom7ElementDataStorage[key]) {\n      el.dom7ElementDataStorage[key] = null;\n      delete el.dom7ElementDataStorage[key];\n    }\n  }\n}\n\nfunction dataset() {\n  const el = this[0];\n  if (!el) return undefined;\n  const dataset = {}; // eslint-disable-line\n\n  if (el.dataset) {\n    for (const dataKey in el.dataset) {\n      dataset[dataKey] = el.dataset[dataKey];\n    }\n  } else {\n    for (let i = 0; i < el.attributes.length; i += 1) {\n      const attr = el.attributes[i];\n\n      if (attr.name.indexOf('data-') >= 0) {\n        dataset[toCamelCase(attr.name.split('data-')[1])] = attr.value;\n      }\n    }\n  }\n\n  for (const key in dataset) {\n    if (dataset[key] === 'false') dataset[key] = false;else if (dataset[key] === 'true') dataset[key] = true;else if (parseFloat(dataset[key]) === dataset[key] * 1) dataset[key] *= 1;\n  }\n\n  return dataset;\n}\n\nfunction val(value) {\n  if (typeof value === 'undefined') {\n    // get value\n    const el = this[0];\n    if (!el) return undefined;\n\n    if (el.multiple && el.nodeName.toLowerCase() === 'select') {\n      const values = [];\n\n      for (let i = 0; i < el.selectedOptions.length; i += 1) {\n        values.push(el.selectedOptions[i].value);\n      }\n\n      return values;\n    }\n\n    return el.value;\n  } // set value\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (Array.isArray(value) && el.multiple && el.nodeName.toLowerCase() === 'select') {\n      for (let j = 0; j < el.options.length; j += 1) {\n        el.options[j].selected = value.indexOf(el.options[j].value) >= 0;\n      }\n    } else {\n      el.value = value;\n    }\n  }\n\n  return this;\n}\n\nfunction value(value) {\n  return this.val(value);\n}\n\nfunction transform(transform) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.transform = transform;\n  }\n\n  return this;\n}\n\nfunction transition(duration) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.transitionDuration = typeof duration !== 'string' ? `${duration}ms` : duration;\n  }\n\n  return this;\n}\n\nfunction on(...args) {\n  let [eventType, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventType, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  if (!capture) capture = false;\n\n  function handleLiveEvent(e) {\n    const target = e.target;\n    if (!target) return;\n    const eventData = e.target.dom7EventData || [];\n\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n\n    if ($(target).is(targetSelector)) listener.apply(target, eventData);else {\n      const parents = $(target).parents(); // eslint-disable-line\n\n      for (let k = 0; k < parents.length; k += 1) {\n        if ($(parents[k]).is(targetSelector)) listener.apply(parents[k], eventData);\n      }\n    }\n  }\n\n  function handleEvent(e) {\n    const eventData = e && e.target ? e.target.dom7EventData || [] : [];\n\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n\n    listener.apply(this, eventData);\n  }\n\n  const events = eventType.split(' ');\n  let j;\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (!targetSelector) {\n      for (j = 0; j < events.length; j += 1) {\n        const event = events[j];\n        if (!el.dom7Listeners) el.dom7Listeners = {};\n        if (!el.dom7Listeners[event]) el.dom7Listeners[event] = [];\n        el.dom7Listeners[event].push({\n          listener,\n          proxyListener: handleEvent\n        });\n        el.addEventListener(event, handleEvent, capture);\n      }\n    } else {\n      // Live events\n      for (j = 0; j < events.length; j += 1) {\n        const event = events[j];\n        if (!el.dom7LiveListeners) el.dom7LiveListeners = {};\n        if (!el.dom7LiveListeners[event]) el.dom7LiveListeners[event] = [];\n        el.dom7LiveListeners[event].push({\n          listener,\n          proxyListener: handleLiveEvent\n        });\n        el.addEventListener(event, handleLiveEvent, capture);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction off(...args) {\n  let [eventType, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventType, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  if (!capture) capture = false;\n  const events = eventType.split(' ');\n\n  for (let i = 0; i < events.length; i += 1) {\n    const event = events[i];\n\n    for (let j = 0; j < this.length; j += 1) {\n      const el = this[j];\n      let handlers;\n\n      if (!targetSelector && el.dom7Listeners) {\n        handlers = el.dom7Listeners[event];\n      } else if (targetSelector && el.dom7LiveListeners) {\n        handlers = el.dom7LiveListeners[event];\n      }\n\n      if (handlers && handlers.length) {\n        for (let k = handlers.length - 1; k >= 0; k -= 1) {\n          const handler = handlers[k];\n\n          if (listener && handler.listener === listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          } else if (listener && handler.listener && handler.listener.dom7proxy && handler.listener.dom7proxy === listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          } else if (!listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          }\n        }\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction once(...args) {\n  const dom = this;\n  let [eventName, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventName, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  function onceHandler(...eventArgs) {\n    listener.apply(this, eventArgs);\n    dom.off(eventName, targetSelector, onceHandler, capture);\n\n    if (onceHandler.dom7proxy) {\n      delete onceHandler.dom7proxy;\n    }\n  }\n\n  onceHandler.dom7proxy = listener;\n  return dom.on(eventName, targetSelector, onceHandler, capture);\n}\n\nfunction trigger(...args) {\n  const window = getWindow();\n  const events = args[0].split(' ');\n  const eventData = args[1];\n\n  for (let i = 0; i < events.length; i += 1) {\n    const event = events[i];\n\n    for (let j = 0; j < this.length; j += 1) {\n      const el = this[j];\n\n      if (window.CustomEvent) {\n        const evt = new window.CustomEvent(event, {\n          detail: eventData,\n          bubbles: true,\n          cancelable: true\n        });\n        el.dom7EventData = args.filter((data, dataIndex) => dataIndex > 0);\n        el.dispatchEvent(evt);\n        el.dom7EventData = [];\n        delete el.dom7EventData;\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction transitionEnd(callback) {\n  const dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('transitionend', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('transitionend', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction animationEnd(callback) {\n  const dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('animationend', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('animationend', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction width() {\n  const window = getWindow();\n\n  if (this[0] === window) {\n    return window.innerWidth;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('width'));\n  }\n\n  return null;\n}\n\nfunction outerWidth(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      const styles = this.styles();\n      return this[0].offsetWidth + parseFloat(styles.getPropertyValue('margin-right')) + parseFloat(styles.getPropertyValue('margin-left'));\n    }\n\n    return this[0].offsetWidth;\n  }\n\n  return null;\n}\n\nfunction height() {\n  const window = getWindow();\n\n  if (this[0] === window) {\n    return window.innerHeight;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('height'));\n  }\n\n  return null;\n}\n\nfunction outerHeight(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      const styles = this.styles();\n      return this[0].offsetHeight + parseFloat(styles.getPropertyValue('margin-top')) + parseFloat(styles.getPropertyValue('margin-bottom'));\n    }\n\n    return this[0].offsetHeight;\n  }\n\n  return null;\n}\n\nfunction offset() {\n  if (this.length > 0) {\n    const window = getWindow();\n    const document = getDocument();\n    const el = this[0];\n    const box = el.getBoundingClientRect();\n    const body = document.body;\n    const clientTop = el.clientTop || body.clientTop || 0;\n    const clientLeft = el.clientLeft || body.clientLeft || 0;\n    const scrollTop = el === window ? window.scrollY : el.scrollTop;\n    const scrollLeft = el === window ? window.scrollX : el.scrollLeft;\n    return {\n      top: box.top + scrollTop - clientTop,\n      left: box.left + scrollLeft - clientLeft\n    };\n  }\n\n  return null;\n}\n\nfunction hide() {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.display = 'none';\n  }\n\n  return this;\n}\n\nfunction show() {\n  const window = getWindow();\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.style.display === 'none') {\n      el.style.display = '';\n    }\n\n    if (window.getComputedStyle(el, null).getPropertyValue('display') === 'none') {\n      // Still not visible\n      el.style.display = 'block';\n    }\n  }\n\n  return this;\n}\n\nfunction styles() {\n  const window = getWindow();\n  if (this[0]) return window.getComputedStyle(this[0], null);\n  return {};\n}\n\nfunction css(props, value) {\n  const window = getWindow();\n  let i;\n\n  if (arguments.length === 1) {\n    if (typeof props === 'string') {\n      // .css('width')\n      if (this[0]) return window.getComputedStyle(this[0], null).getPropertyValue(props);\n    } else {\n      // .css({ width: '100px' })\n      for (i = 0; i < this.length; i += 1) {\n        for (const prop in props) {\n          this[i].style[prop] = props[prop];\n        }\n      }\n\n      return this;\n    }\n  }\n\n  if (arguments.length === 2 && typeof props === 'string') {\n    // .css('width', '100px')\n    for (i = 0; i < this.length; i += 1) {\n      this[i].style[props] = value;\n    }\n\n    return this;\n  }\n\n  return this;\n}\n\nfunction each(callback) {\n  if (!callback) return this;\n  this.forEach((el, index) => {\n    callback.apply(el, [el, index]);\n  });\n  return this;\n}\n\nfunction filter(callback) {\n  const result = arrayFilter(this, callback);\n  return $(result);\n}\n\nfunction html(html) {\n  if (typeof html === 'undefined') {\n    return this[0] ? this[0].innerHTML : null;\n  }\n\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].innerHTML = html;\n  }\n\n  return this;\n}\n\nfunction text(text) {\n  if (typeof text === 'undefined') {\n    return this[0] ? this[0].textContent.trim() : null;\n  }\n\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].textContent = text;\n  }\n\n  return this;\n}\n\nfunction is(selector) {\n  const window = getWindow();\n  const document = getDocument();\n  const el = this[0];\n  let compareWith;\n  let i;\n  if (!el || typeof selector === 'undefined') return false;\n\n  if (typeof selector === 'string') {\n    if (el.matches) return el.matches(selector);\n    if (el.webkitMatchesSelector) return el.webkitMatchesSelector(selector);\n    if (el.msMatchesSelector) return el.msMatchesSelector(selector);\n    compareWith = $(selector);\n\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n\n    return false;\n  }\n\n  if (selector === document) {\n    return el === document;\n  }\n\n  if (selector === window) {\n    return el === window;\n  }\n\n  if (selector.nodeType || selector instanceof Dom7) {\n    compareWith = selector.nodeType ? [selector] : selector;\n\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n\n    return false;\n  }\n\n  return false;\n}\n\nfunction index() {\n  let child = this[0];\n  let i;\n\n  if (child) {\n    i = 0; // eslint-disable-next-line\n\n    while ((child = child.previousSibling) !== null) {\n      if (child.nodeType === 1) i += 1;\n    }\n\n    return i;\n  }\n\n  return undefined;\n}\n\nfunction eq(index) {\n  if (typeof index === 'undefined') return this;\n  const length = this.length;\n\n  if (index > length - 1) {\n    return $([]);\n  }\n\n  if (index < 0) {\n    const returnIndex = length + index;\n    if (returnIndex < 0) return $([]);\n    return $([this[returnIndex]]);\n  }\n\n  return $([this[index]]);\n}\n\nfunction append(...els) {\n  let newChild;\n  const document = getDocument();\n\n  for (let k = 0; k < els.length; k += 1) {\n    newChild = els[k];\n\n    for (let i = 0; i < this.length; i += 1) {\n      if (typeof newChild === 'string') {\n        const tempDiv = document.createElement('div');\n        tempDiv.innerHTML = newChild;\n\n        while (tempDiv.firstChild) {\n          this[i].appendChild(tempDiv.firstChild);\n        }\n      } else if (newChild instanceof Dom7) {\n        for (let j = 0; j < newChild.length; j += 1) {\n          this[i].appendChild(newChild[j]);\n        }\n      } else {\n        this[i].appendChild(newChild);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction appendTo(parent) {\n  $(parent).append(this);\n  return this;\n}\n\nfunction prepend(newChild) {\n  const document = getDocument();\n  let i;\n  let j;\n\n  for (i = 0; i < this.length; i += 1) {\n    if (typeof newChild === 'string') {\n      const tempDiv = document.createElement('div');\n      tempDiv.innerHTML = newChild;\n\n      for (j = tempDiv.childNodes.length - 1; j >= 0; j -= 1) {\n        this[i].insertBefore(tempDiv.childNodes[j], this[i].childNodes[0]);\n      }\n    } else if (newChild instanceof Dom7) {\n      for (j = 0; j < newChild.length; j += 1) {\n        this[i].insertBefore(newChild[j], this[i].childNodes[0]);\n      }\n    } else {\n      this[i].insertBefore(newChild, this[i].childNodes[0]);\n    }\n  }\n\n  return this;\n}\n\nfunction prependTo(parent) {\n  $(parent).prepend(this);\n  return this;\n}\n\nfunction insertBefore(selector) {\n  const before = $(selector);\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (before.length === 1) {\n      before[0].parentNode.insertBefore(this[i], before[0]);\n    } else if (before.length > 1) {\n      for (let j = 0; j < before.length; j += 1) {\n        before[j].parentNode.insertBefore(this[i].cloneNode(true), before[j]);\n      }\n    }\n  }\n}\n\nfunction insertAfter(selector) {\n  const after = $(selector);\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (after.length === 1) {\n      after[0].parentNode.insertBefore(this[i], after[0].nextSibling);\n    } else if (after.length > 1) {\n      for (let j = 0; j < after.length; j += 1) {\n        after[j].parentNode.insertBefore(this[i].cloneNode(true), after[j].nextSibling);\n      }\n    }\n  }\n}\n\nfunction next(selector) {\n  if (this.length > 0) {\n    if (selector) {\n      if (this[0].nextElementSibling && $(this[0].nextElementSibling).is(selector)) {\n        return $([this[0].nextElementSibling]);\n      }\n\n      return $([]);\n    }\n\n    if (this[0].nextElementSibling) return $([this[0].nextElementSibling]);\n    return $([]);\n  }\n\n  return $([]);\n}\n\nfunction nextAll(selector) {\n  const nextEls = [];\n  let el = this[0];\n  if (!el) return $([]);\n\n  while (el.nextElementSibling) {\n    const next = el.nextElementSibling; // eslint-disable-line\n\n    if (selector) {\n      if ($(next).is(selector)) nextEls.push(next);\n    } else nextEls.push(next);\n\n    el = next;\n  }\n\n  return $(nextEls);\n}\n\nfunction prev(selector) {\n  if (this.length > 0) {\n    const el = this[0];\n\n    if (selector) {\n      if (el.previousElementSibling && $(el.previousElementSibling).is(selector)) {\n        return $([el.previousElementSibling]);\n      }\n\n      return $([]);\n    }\n\n    if (el.previousElementSibling) return $([el.previousElementSibling]);\n    return $([]);\n  }\n\n  return $([]);\n}\n\nfunction prevAll(selector) {\n  const prevEls = [];\n  let el = this[0];\n  if (!el) return $([]);\n\n  while (el.previousElementSibling) {\n    const prev = el.previousElementSibling; // eslint-disable-line\n\n    if (selector) {\n      if ($(prev).is(selector)) prevEls.push(prev);\n    } else prevEls.push(prev);\n\n    el = prev;\n  }\n\n  return $(prevEls);\n}\n\nfunction siblings(selector) {\n  return this.nextAll(selector).add(this.prevAll(selector));\n}\n\nfunction parent(selector) {\n  const parents = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode !== null) {\n      if (selector) {\n        if ($(this[i].parentNode).is(selector)) parents.push(this[i].parentNode);\n      } else {\n        parents.push(this[i].parentNode);\n      }\n    }\n  }\n\n  return $(parents);\n}\n\nfunction parents(selector) {\n  const parents = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    let parent = this[i].parentNode; // eslint-disable-line\n\n    while (parent) {\n      if (selector) {\n        if ($(parent).is(selector)) parents.push(parent);\n      } else {\n        parents.push(parent);\n      }\n\n      parent = parent.parentNode;\n    }\n  }\n\n  return $(parents);\n}\n\nfunction closest(selector) {\n  let closest = this; // eslint-disable-line\n\n  if (typeof selector === 'undefined') {\n    return $([]);\n  }\n\n  if (!closest.is(selector)) {\n    closest = closest.parents(selector).eq(0);\n  }\n\n  return closest;\n}\n\nfunction find(selector) {\n  const foundElements = [];\n\n  for (let i = 0; i < this.length; i += 1) {\n    const found = this[i].querySelectorAll(selector);\n\n    for (let j = 0; j < found.length; j += 1) {\n      foundElements.push(found[j]);\n    }\n  }\n\n  return $(foundElements);\n}\n\nfunction children(selector) {\n  const children = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    const childNodes = this[i].children;\n\n    for (let j = 0; j < childNodes.length; j += 1) {\n      if (!selector || $(childNodes[j]).is(selector)) {\n        children.push(childNodes[j]);\n      }\n    }\n  }\n\n  return $(children);\n}\n\nfunction remove() {\n  for (let i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode) this[i].parentNode.removeChild(this[i]);\n  }\n\n  return this;\n}\n\nfunction detach() {\n  return this.remove();\n}\n\nfunction add(...els) {\n  const dom = this;\n  let i;\n  let j;\n\n  for (i = 0; i < els.length; i += 1) {\n    const toAdd = $(els[i]);\n\n    for (j = 0; j < toAdd.length; j += 1) {\n      dom.push(toAdd[j]);\n    }\n  }\n\n  return dom;\n}\n\nfunction empty() {\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.nodeType === 1) {\n      for (let j = 0; j < el.childNodes.length; j += 1) {\n        if (el.childNodes[j].parentNode) {\n          el.childNodes[j].parentNode.removeChild(el.childNodes[j]);\n        }\n      }\n\n      el.textContent = '';\n    }\n  }\n\n  return this;\n}\n\n// eslint-disable-next-line\n\nfunction scrollTo(...args) {\n  const window = getWindow();\n  let [left, top, duration, easing, callback] = args;\n\n  if (args.length === 4 && typeof easing === 'function') {\n    callback = easing;\n    [left, top, duration, callback, easing] = args;\n  }\n\n  if (typeof easing === 'undefined') easing = 'swing';\n  return this.each(function animate() {\n    const el = this;\n    let currentTop;\n    let currentLeft;\n    let maxTop;\n    let maxLeft;\n    let newTop;\n    let newLeft;\n    let scrollTop; // eslint-disable-line\n\n    let scrollLeft; // eslint-disable-line\n\n    let animateTop = top > 0 || top === 0;\n    let animateLeft = left > 0 || left === 0;\n\n    if (typeof easing === 'undefined') {\n      easing = 'swing';\n    }\n\n    if (animateTop) {\n      currentTop = el.scrollTop;\n\n      if (!duration) {\n        el.scrollTop = top;\n      }\n    }\n\n    if (animateLeft) {\n      currentLeft = el.scrollLeft;\n\n      if (!duration) {\n        el.scrollLeft = left;\n      }\n    }\n\n    if (!duration) return;\n\n    if (animateTop) {\n      maxTop = el.scrollHeight - el.offsetHeight;\n      newTop = Math.max(Math.min(top, maxTop), 0);\n    }\n\n    if (animateLeft) {\n      maxLeft = el.scrollWidth - el.offsetWidth;\n      newLeft = Math.max(Math.min(left, maxLeft), 0);\n    }\n\n    let startTime = null;\n    if (animateTop && newTop === currentTop) animateTop = false;\n    if (animateLeft && newLeft === currentLeft) animateLeft = false;\n\n    function render(time = new Date().getTime()) {\n      if (startTime === null) {\n        startTime = time;\n      }\n\n      const progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n      const easeProgress = easing === 'linear' ? progress : 0.5 - Math.cos(progress * Math.PI) / 2;\n      let done;\n      if (animateTop) scrollTop = currentTop + easeProgress * (newTop - currentTop);\n      if (animateLeft) scrollLeft = currentLeft + easeProgress * (newLeft - currentLeft);\n\n      if (animateTop && newTop > currentTop && scrollTop >= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n\n      if (animateTop && newTop < currentTop && scrollTop <= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n\n      if (animateLeft && newLeft > currentLeft && scrollLeft >= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (animateLeft && newLeft < currentLeft && scrollLeft <= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (done) {\n        if (callback) callback();\n        return;\n      }\n\n      if (animateTop) el.scrollTop = scrollTop;\n      if (animateLeft) el.scrollLeft = scrollLeft;\n      window.requestAnimationFrame(render);\n    }\n\n    window.requestAnimationFrame(render);\n  });\n} // scrollTop(top, duration, easing, callback) {\n\n\nfunction scrollTop(...args) {\n  let [top, duration, easing, callback] = args;\n\n  if (args.length === 3 && typeof easing === 'function') {\n    [top, duration, callback, easing] = args;\n  }\n\n  const dom = this;\n\n  if (typeof top === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollTop;\n    return null;\n  }\n\n  return dom.scrollTo(undefined, top, duration, easing, callback);\n}\n\nfunction scrollLeft(...args) {\n  let [left, duration, easing, callback] = args;\n\n  if (args.length === 3 && typeof easing === 'function') {\n    [left, duration, callback, easing] = args;\n  }\n\n  const dom = this;\n\n  if (typeof left === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollLeft;\n    return null;\n  }\n\n  return dom.scrollTo(left, undefined, duration, easing, callback);\n}\n\n// eslint-disable-next-line\n\nfunction animate(initialProps, initialParams) {\n  const window = getWindow();\n  const els = this;\n  const a = {\n    props: Object.assign({}, initialProps),\n    params: Object.assign({\n      duration: 300,\n      easing: 'swing' // or 'linear'\n\n      /* Callbacks\n      begin(elements)\n      complete(elements)\n      progress(elements, complete, remaining, start, tweenValue)\n      */\n\n    }, initialParams),\n    elements: els,\n    animating: false,\n    que: [],\n\n    easingProgress(easing, progress) {\n      if (easing === 'swing') {\n        return 0.5 - Math.cos(progress * Math.PI) / 2;\n      }\n\n      if (typeof easing === 'function') {\n        return easing(progress);\n      }\n\n      return progress;\n    },\n\n    stop() {\n      if (a.frameId) {\n        window.cancelAnimationFrame(a.frameId);\n      }\n\n      a.animating = false;\n      a.elements.each(el => {\n        const element = el;\n        delete element.dom7AnimateInstance;\n      });\n      a.que = [];\n    },\n\n    done(complete) {\n      a.animating = false;\n      a.elements.each(el => {\n        const element = el;\n        delete element.dom7AnimateInstance;\n      });\n      if (complete) complete(els);\n\n      if (a.que.length > 0) {\n        const que = a.que.shift();\n        a.animate(que[0], que[1]);\n      }\n    },\n\n    animate(props, params) {\n      if (a.animating) {\n        a.que.push([props, params]);\n        return a;\n      }\n\n      const elements = []; // Define & Cache Initials & Units\n\n      a.elements.each((el, index) => {\n        let initialFullValue;\n        let initialValue;\n        let unit;\n        let finalValue;\n        let finalFullValue;\n        if (!el.dom7AnimateInstance) a.elements[index].dom7AnimateInstance = a;\n        elements[index] = {\n          container: el\n        };\n        Object.keys(props).forEach(prop => {\n          initialFullValue = window.getComputedStyle(el, null).getPropertyValue(prop).replace(',', '.');\n          initialValue = parseFloat(initialFullValue);\n          unit = initialFullValue.replace(initialValue, '');\n          finalValue = parseFloat(props[prop]);\n          finalFullValue = props[prop] + unit;\n          elements[index][prop] = {\n            initialFullValue,\n            initialValue,\n            unit,\n            finalValue,\n            finalFullValue,\n            currentValue: initialValue\n          };\n        });\n      });\n      let startTime = null;\n      let time;\n      let elementsDone = 0;\n      let propsDone = 0;\n      let done;\n      let began = false;\n      a.animating = true;\n\n      function render() {\n        time = new Date().getTime();\n        let progress;\n        let easeProgress; // let el;\n\n        if (!began) {\n          began = true;\n          if (params.begin) params.begin(els);\n        }\n\n        if (startTime === null) {\n          startTime = time;\n        }\n\n        if (params.progress) {\n          // eslint-disable-next-line\n          params.progress(els, Math.max(Math.min((time - startTime) / params.duration, 1), 0), startTime + params.duration - time < 0 ? 0 : startTime + params.duration - time, startTime);\n        }\n\n        elements.forEach(element => {\n          const el = element;\n          if (done || el.done) return;\n          Object.keys(props).forEach(prop => {\n            if (done || el.done) return;\n            progress = Math.max(Math.min((time - startTime) / params.duration, 1), 0);\n            easeProgress = a.easingProgress(params.easing, progress);\n            const {\n              initialValue,\n              finalValue,\n              unit\n            } = el[prop];\n            el[prop].currentValue = initialValue + easeProgress * (finalValue - initialValue);\n            const currentValue = el[prop].currentValue;\n\n            if (finalValue > initialValue && currentValue >= finalValue || finalValue < initialValue && currentValue <= finalValue) {\n              el.container.style[prop] = finalValue + unit;\n              propsDone += 1;\n\n              if (propsDone === Object.keys(props).length) {\n                el.done = true;\n                elementsDone += 1;\n              }\n\n              if (elementsDone === elements.length) {\n                done = true;\n              }\n            }\n\n            if (done) {\n              a.done(params.complete);\n              return;\n            }\n\n            el.container.style[prop] = currentValue + unit;\n          });\n        });\n        if (done) return; // Then call\n\n        a.frameId = window.requestAnimationFrame(render);\n      }\n\n      a.frameId = window.requestAnimationFrame(render);\n      return a;\n    }\n\n  };\n\n  if (a.elements.length === 0) {\n    return els;\n  }\n\n  let animateInstance;\n\n  for (let i = 0; i < a.elements.length; i += 1) {\n    if (a.elements[i].dom7AnimateInstance) {\n      animateInstance = a.elements[i].dom7AnimateInstance;\n    } else a.elements[i].dom7AnimateInstance = a;\n  }\n\n  if (!animateInstance) {\n    animateInstance = a;\n  }\n\n  if (initialProps === 'stop') {\n    animateInstance.stop();\n  } else {\n    animateInstance.animate(a.props, a.params);\n  }\n\n  return els;\n}\n\nfunction stop() {\n  const els = this;\n\n  for (let i = 0; i < els.length; i += 1) {\n    if (els[i].dom7AnimateInstance) {\n      els[i].dom7AnimateInstance.stop();\n    }\n  }\n}\n\nconst noTrigger = 'resize scroll'.split(' ');\n\nfunction shortcut(name) {\n  function eventHandler(...args) {\n    if (typeof args[0] === 'undefined') {\n      for (let i = 0; i < this.length; i += 1) {\n        if (noTrigger.indexOf(name) < 0) {\n          if (name in this[i]) this[i][name]();else {\n            $(this[i]).trigger(name);\n          }\n        }\n      }\n\n      return this;\n    }\n\n    return this.on(name, ...args);\n  }\n\n  return eventHandler;\n}\n\nconst click = shortcut('click');\nconst blur = shortcut('blur');\nconst focus = shortcut('focus');\nconst focusin = shortcut('focusin');\nconst focusout = shortcut('focusout');\nconst keyup = shortcut('keyup');\nconst keydown = shortcut('keydown');\nconst keypress = shortcut('keypress');\nconst submit = shortcut('submit');\nconst change = shortcut('change');\nconst mousedown = shortcut('mousedown');\nconst mousemove = shortcut('mousemove');\nconst mouseup = shortcut('mouseup');\nconst mouseenter = shortcut('mouseenter');\nconst mouseleave = shortcut('mouseleave');\nconst mouseout = shortcut('mouseout');\nconst mouseover = shortcut('mouseover');\nconst touchstart = shortcut('touchstart');\nconst touchend = shortcut('touchend');\nconst touchmove = shortcut('touchmove');\nconst resize = shortcut('resize');\nconst scroll = shortcut('scroll');\n\nexport default $;\nexport { $, add, addClass, animate, animationEnd, append, appendTo, attr, blur, change, children, click, closest, css, data, dataset, detach, each, empty, eq, filter, find, focus, focusin, focusout, hasClass, height, hide, html, index, insertAfter, insertBefore, is, keydown, keypress, keyup, mousedown, mouseenter, mouseleave, mousemove, mouseout, mouseover, mouseup, next, nextAll, off, offset, on, once, outerHeight, outerWidth, parent, parents, prepend, prependTo, prev, prevAll, prop, remove, removeAttr, removeClass, removeData, resize, scroll, scrollLeft, scrollTo, scrollTop, show, siblings, stop, styles, submit, text, toggleClass, touchend, touchmove, touchstart, transform, transition, transitionEnd, trigger, val, value, width };\n","import { $, addClass, removeClass, hasClass, toggleClass, attr, removeAttr, transform, transition, on, off, trigger, transitionEnd, outerWidth, outerHeight, styles, offset, css, each, html, text, is, index, eq, append, prepend, next, nextAll, prev, prevAll, parent, parents, closest, find, children, filter, remove } from 'dom7';\nconst Methods = {\n  addClass,\n  removeClass,\n  hasClass,\n  toggleClass,\n  attr,\n  removeAttr,\n  transform,\n  transition,\n  on,\n  off,\n  trigger,\n  transitionEnd,\n  outerWidth,\n  outerHeight,\n  styles,\n  offset,\n  css,\n  each,\n  html,\n  text,\n  is,\n  index,\n  eq,\n  append,\n  prepend,\n  next,\n  nextAll,\n  prev,\n  prevAll,\n  parent,\n  parents,\n  closest,\n  find,\n  children,\n  filter,\n  remove\n};\nObject.keys(Methods).forEach(methodName => {\n  Object.defineProperty($.fn, methodName, {\n    value: Methods[methodName],\n    writable: true\n  });\n});\nexport default $;","import { getWindow } from 'ssr-window';\n\nfunction deleteProps(obj) {\n  const object = obj;\n  Object.keys(object).forEach(key => {\n    try {\n      object[key] = null;\n    } catch (e) {// no getter for object\n    }\n\n    try {\n      delete object[key];\n    } catch (e) {// something got wrong\n    }\n  });\n}\n\nfunction nextTick(callback, delay = 0) {\n  return setTimeout(callback, delay);\n}\n\nfunction now() {\n  return Date.now();\n}\n\nfunction getComputedStyle(el) {\n  const window = getWindow();\n  let style;\n\n  if (window.getComputedStyle) {\n    style = window.getComputedStyle(el, null);\n  }\n\n  if (!style && el.currentStyle) {\n    style = el.currentStyle;\n  }\n\n  if (!style) {\n    style = el.style;\n  }\n\n  return style;\n}\n\nfunction getTranslate(el, axis = 'x') {\n  const window = getWindow();\n  let matrix;\n  let curTransform;\n  let transformMatrix;\n  const curStyle = getComputedStyle(el, null);\n\n  if (window.WebKitCSSMatrix) {\n    curTransform = curStyle.transform || curStyle.webkitTransform;\n\n    if (curTransform.split(',').length > 6) {\n      curTransform = curTransform.split(', ').map(a => a.replace(',', '.')).join(', ');\n    } // Some old versions of Webkit choke when 'none' is passed; pass\n    // empty string instead in this case\n\n\n    transformMatrix = new window.WebKitCSSMatrix(curTransform === 'none' ? '' : curTransform);\n  } else {\n    transformMatrix = curStyle.MozTransform || curStyle.OTransform || curStyle.MsTransform || curStyle.msTransform || curStyle.transform || curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');\n    matrix = transformMatrix.toString().split(',');\n  }\n\n  if (axis === 'x') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m41; // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[12]); // Normal Browsers\n    else curTransform = parseFloat(matrix[4]);\n  }\n\n  if (axis === 'y') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m42; // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[13]); // Normal Browsers\n    else curTransform = parseFloat(matrix[5]);\n  }\n\n  return curTransform || 0;\n}\n\nfunction isObject(o) {\n  return typeof o === 'object' && o !== null && o.constructor && Object.prototype.toString.call(o).slice(8, -1) === 'Object';\n}\n\nfunction isNode(node) {\n  // eslint-disable-next-line\n  if (typeof window !== 'undefined' && typeof window.HTMLElement !== 'undefined') {\n    return node instanceof HTMLElement;\n  }\n\n  return node && (node.nodeType === 1 || node.nodeType === 11);\n}\n\nfunction extend(...args) {\n  const to = Object(args[0]);\n  const noExtend = ['__proto__', 'constructor', 'prototype'];\n\n  for (let i = 1; i < args.length; i += 1) {\n    const nextSource = args[i];\n\n    if (nextSource !== undefined && nextSource !== null && !isNode(nextSource)) {\n      const keysArray = Object.keys(Object(nextSource)).filter(key => noExtend.indexOf(key) < 0);\n\n      for (let nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex += 1) {\n        const nextKey = keysArray[nextIndex];\n        const desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n\n        if (desc !== undefined && desc.enumerable) {\n          if (isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            if (nextSource[nextKey].__swiper__) {\n              to[nextKey] = nextSource[nextKey];\n            } else {\n              extend(to[nextKey], nextSource[nextKey]);\n            }\n          } else if (!isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            to[nextKey] = {};\n\n            if (nextSource[nextKey].__swiper__) {\n              to[nextKey] = nextSource[nextKey];\n            } else {\n              extend(to[nextKey], nextSource[nextKey]);\n            }\n          } else {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n    }\n  }\n\n  return to;\n}\n\nfunction setCSSProperty(el, varName, varValue) {\n  el.style.setProperty(varName, varValue);\n}\n\nfunction animateCSSModeScroll({\n  swiper,\n  targetPosition,\n  side\n}) {\n  const window = getWindow();\n  const startPosition = -swiper.translate;\n  let startTime = null;\n  let time;\n  const duration = swiper.params.speed;\n  swiper.wrapperEl.style.scrollSnapType = 'none';\n  window.cancelAnimationFrame(swiper.cssModeFrameID);\n  const dir = targetPosition > startPosition ? 'next' : 'prev';\n\n  const isOutOfBound = (current, target) => {\n    return dir === 'next' && current >= target || dir === 'prev' && current <= target;\n  };\n\n  const animate = () => {\n    time = new Date().getTime();\n\n    if (startTime === null) {\n      startTime = time;\n    }\n\n    const progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n    const easeProgress = 0.5 - Math.cos(progress * Math.PI) / 2;\n    let currentPosition = startPosition + easeProgress * (targetPosition - startPosition);\n\n    if (isOutOfBound(currentPosition, targetPosition)) {\n      currentPosition = targetPosition;\n    }\n\n    swiper.wrapperEl.scrollTo({\n      [side]: currentPosition\n    });\n\n    if (isOutOfBound(currentPosition, targetPosition)) {\n      swiper.wrapperEl.style.overflow = 'hidden';\n      swiper.wrapperEl.style.scrollSnapType = '';\n      setTimeout(() => {\n        swiper.wrapperEl.style.overflow = '';\n        swiper.wrapperEl.scrollTo({\n          [side]: currentPosition\n        });\n      });\n      window.cancelAnimationFrame(swiper.cssModeFrameID);\n      return;\n    }\n\n    swiper.cssModeFrameID = window.requestAnimationFrame(animate);\n  };\n\n  animate();\n}\n\nexport { animateCSSModeScroll, deleteProps, nextTick, now, getTranslate, isObject, extend, getComputedStyle, setCSSProperty };","import { getWindow, getDocument } from 'ssr-window';\nlet support;\n\nfunction calcSupport() {\n  const window = getWindow();\n  const document = getDocument();\n  return {\n    smoothScroll: document.documentElement && 'scrollBehavior' in document.documentElement.style,\n    touch: !!('ontouchstart' in window || window.DocumentTouch && document instanceof window.DocumentTouch),\n    passiveListener: function checkPassiveListener() {\n      let supportsPassive = false;\n\n      try {\n        const opts = Object.defineProperty({}, 'passive', {\n          // eslint-disable-next-line\n          get() {\n            supportsPassive = true;\n          }\n\n        });\n        window.addEventListener('testPassiveListener', null, opts);\n      } catch (e) {// No support\n      }\n\n      return supportsPassive;\n    }(),\n    gestures: function checkGestures() {\n      return 'ongesturestart' in window;\n    }()\n  };\n}\n\nfunction getSupport() {\n  if (!support) {\n    support = calcSupport();\n  }\n\n  return support;\n}\n\nexport { getSupport };","import { getWindow } from 'ssr-window';\nimport { getSupport } from './get-support.js';\nlet deviceCached;\n\nfunction calcDevice({\n  userAgent\n} = {}) {\n  const support = getSupport();\n  const window = getWindow();\n  const platform = window.navigator.platform;\n  const ua = userAgent || window.navigator.userAgent;\n  const device = {\n    ios: false,\n    android: false\n  };\n  const screenWidth = window.screen.width;\n  const screenHeight = window.screen.height;\n  const android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/); // eslint-disable-line\n\n  let ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n  const ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n  const iphone = !ipad && ua.match(/(iPhone\\sOS|iOS)\\s([\\d_]+)/);\n  const windows = platform === 'Win32';\n  let macos = platform === 'MacIntel'; // iPadOs 13 fix\n\n  const iPadScreens = ['1024x1366', '1366x1024', '834x1194', '1194x834', '834x1112', '1112x834', '768x1024', '1024x768', '820x1180', '1180x820', '810x1080', '1080x810'];\n\n  if (!ipad && macos && support.touch && iPadScreens.indexOf(`${screenWidth}x${screenHeight}`) >= 0) {\n    ipad = ua.match(/(Version)\\/([\\d.]+)/);\n    if (!ipad) ipad = [0, 1, '13_0_0'];\n    macos = false;\n  } // Android\n\n\n  if (android && !windows) {\n    device.os = 'android';\n    device.android = true;\n  }\n\n  if (ipad || iphone || ipod) {\n    device.os = 'ios';\n    device.ios = true;\n  } // Export object\n\n\n  return device;\n}\n\nfunction getDevice(overrides = {}) {\n  if (!deviceCached) {\n    deviceCached = calcDevice(overrides);\n  }\n\n  return deviceCached;\n}\n\nexport { getDevice };","import { getWindow } from 'ssr-window';\nlet browser;\n\nfunction calcBrowser() {\n  const window = getWindow();\n\n  function isSafari() {\n    const ua = window.navigator.userAgent.toLowerCase();\n    return ua.indexOf('safari') >= 0 && ua.indexOf('chrome') < 0 && ua.indexOf('android') < 0;\n  }\n\n  return {\n    isSafari: isSafari(),\n    isWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent)\n  };\n}\n\nfunction getBrowser() {\n  if (!browser) {\n    browser = calcBrowser();\n  }\n\n  return browser;\n}\n\nexport { getBrowser };","/* eslint-disable no-underscore-dangle */\nexport default {\n  on(events, handler, priority) {\n    const self = this;\n    if (typeof handler !== 'function') return self;\n    const method = priority ? 'unshift' : 'push';\n    events.split(' ').forEach(event => {\n      if (!self.eventsListeners[event]) self.eventsListeners[event] = [];\n      self.eventsListeners[event][method](handler);\n    });\n    return self;\n  },\n\n  once(events, handler, priority) {\n    const self = this;\n    if (typeof handler !== 'function') return self;\n\n    function onceHandler(...args) {\n      self.off(events, onceHandler);\n\n      if (onceHandler.__emitterProxy) {\n        delete onceHandler.__emitterProxy;\n      }\n\n      handler.apply(self, args);\n    }\n\n    onceHandler.__emitterProxy = handler;\n    return self.on(events, onceHandler, priority);\n  },\n\n  onAny(handler, priority) {\n    const self = this;\n    if (typeof handler !== 'function') return self;\n    const method = priority ? 'unshift' : 'push';\n\n    if (self.eventsAnyListeners.indexOf(handler) < 0) {\n      self.eventsAnyListeners[method](handler);\n    }\n\n    return self;\n  },\n\n  offAny(handler) {\n    const self = this;\n    if (!self.eventsAnyListeners) return self;\n    const index = self.eventsAnyListeners.indexOf(handler);\n\n    if (index >= 0) {\n      self.eventsAnyListeners.splice(index, 1);\n    }\n\n    return self;\n  },\n\n  off(events, handler) {\n    const self = this;\n    if (!self.eventsListeners) return self;\n    events.split(' ').forEach(event => {\n      if (typeof handler === 'undefined') {\n        self.eventsListeners[event] = [];\n      } else if (self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach((eventHandler, index) => {\n          if (eventHandler === handler || eventHandler.__emitterProxy && eventHandler.__emitterProxy === handler) {\n            self.eventsListeners[event].splice(index, 1);\n          }\n        });\n      }\n    });\n    return self;\n  },\n\n  emit(...args) {\n    const self = this;\n    if (!self.eventsListeners) return self;\n    let events;\n    let data;\n    let context;\n\n    if (typeof args[0] === 'string' || Array.isArray(args[0])) {\n      events = args[0];\n      data = args.slice(1, args.length);\n      context = self;\n    } else {\n      events = args[0].events;\n      data = args[0].data;\n      context = args[0].context || self;\n    }\n\n    data.unshift(context);\n    const eventsArray = Array.isArray(events) ? events : events.split(' ');\n    eventsArray.forEach(event => {\n      if (self.eventsAnyListeners && self.eventsAnyListeners.length) {\n        self.eventsAnyListeners.forEach(eventHandler => {\n          eventHandler.apply(context, [event, ...data]);\n        });\n      }\n\n      if (self.eventsListeners && self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach(eventHandler => {\n          eventHandler.apply(context, data);\n        });\n      }\n    });\n    return self;\n  }\n\n};","import updateSize from './updateSize.js';\nimport updateSlides from './updateSlides.js';\nimport updateAutoHeight from './updateAutoHeight.js';\nimport updateSlidesOffset from './updateSlidesOffset.js';\nimport updateSlidesProgress from './updateSlidesProgress.js';\nimport updateProgress from './updateProgress.js';\nimport updateSlidesClasses from './updateSlidesClasses.js';\nimport updateActiveIndex from './updateActiveIndex.js';\nimport updateClickedSlide from './updateClickedSlide.js';\nexport default {\n  updateSize,\n  updateSlides,\n  updateAutoHeight,\n  updateSlidesOffset,\n  updateSlidesProgress,\n  updateProgress,\n  updateSlidesClasses,\n  updateActiveIndex,\n  updateClickedSlide\n};","export default function updateSize() {\n  const swiper = this;\n  let width;\n  let height;\n  const $el = swiper.$el;\n\n  if (typeof swiper.params.width !== 'undefined' && swiper.params.width !== null) {\n    width = swiper.params.width;\n  } else {\n    width = $el[0].clientWidth;\n  }\n\n  if (typeof swiper.params.height !== 'undefined' && swiper.params.height !== null) {\n    height = swiper.params.height;\n  } else {\n    height = $el[0].clientHeight;\n  }\n\n  if (width === 0 && swiper.isHorizontal() || height === 0 && swiper.isVertical()) {\n    return;\n  } // Subtract paddings\n\n\n  width = width - parseInt($el.css('padding-left') || 0, 10) - parseInt($el.css('padding-right') || 0, 10);\n  height = height - parseInt($el.css('padding-top') || 0, 10) - parseInt($el.css('padding-bottom') || 0, 10);\n  if (Number.isNaN(width)) width = 0;\n  if (Number.isNaN(height)) height = 0;\n  Object.assign(swiper, {\n    width,\n    height,\n    size: swiper.isHorizontal() ? width : height\n  });\n}","import { setCSSProperty } from '../../shared/utils.js';\nexport default function updateSlides() {\n  const swiper = this;\n\n  function getDirectionLabel(property) {\n    if (swiper.isHorizontal()) {\n      return property;\n    } // prettier-ignore\n\n\n    return {\n      'width': 'height',\n      'margin-top': 'margin-left',\n      'margin-bottom ': 'margin-right',\n      'margin-left': 'margin-top',\n      'margin-right': 'margin-bottom',\n      'padding-left': 'padding-top',\n      'padding-right': 'padding-bottom',\n      'marginRight': 'marginBottom'\n    }[property];\n  }\n\n  function getDirectionPropertyValue(node, label) {\n    return parseFloat(node.getPropertyValue(getDirectionLabel(label)) || 0);\n  }\n\n  const params = swiper.params;\n  const {\n    $wrapperEl,\n    size: swiperSize,\n    rtlTranslate: rtl,\n    wrongRTL\n  } = swiper;\n  const isVirtual = swiper.virtual && params.virtual.enabled;\n  const previousSlidesLength = isVirtual ? swiper.virtual.slides.length : swiper.slides.length;\n  const slides = $wrapperEl.children(`.${swiper.params.slideClass}`);\n  const slidesLength = isVirtual ? swiper.virtual.slides.length : slides.length;\n  let snapGrid = [];\n  const slidesGrid = [];\n  const slidesSizesGrid = [];\n  let offsetBefore = params.slidesOffsetBefore;\n\n  if (typeof offsetBefore === 'function') {\n    offsetBefore = params.slidesOffsetBefore.call(swiper);\n  }\n\n  let offsetAfter = params.slidesOffsetAfter;\n\n  if (typeof offsetAfter === 'function') {\n    offsetAfter = params.slidesOffsetAfter.call(swiper);\n  }\n\n  const previousSnapGridLength = swiper.snapGrid.length;\n  const previousSlidesGridLength = swiper.slidesGrid.length;\n  let spaceBetween = params.spaceBetween;\n  let slidePosition = -offsetBefore;\n  let prevSlideSize = 0;\n  let index = 0;\n\n  if (typeof swiperSize === 'undefined') {\n    return;\n  }\n\n  if (typeof spaceBetween === 'string' && spaceBetween.indexOf('%') >= 0) {\n    spaceBetween = parseFloat(spaceBetween.replace('%', '')) / 100 * swiperSize;\n  }\n\n  swiper.virtualSize = -spaceBetween; // reset margins\n\n  if (rtl) slides.css({\n    marginLeft: '',\n    marginBottom: '',\n    marginTop: ''\n  });else slides.css({\n    marginRight: '',\n    marginBottom: '',\n    marginTop: ''\n  }); // reset cssMode offsets\n\n  if (params.centeredSlides && params.cssMode) {\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-before', '');\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-after', '');\n  }\n\n  const gridEnabled = params.grid && params.grid.rows > 1 && swiper.grid;\n\n  if (gridEnabled) {\n    swiper.grid.initSlides(slidesLength);\n  } // Calc slides\n\n\n  let slideSize;\n  const shouldResetSlideSize = params.slidesPerView === 'auto' && params.breakpoints && Object.keys(params.breakpoints).filter(key => {\n    return typeof params.breakpoints[key].slidesPerView !== 'undefined';\n  }).length > 0;\n\n  for (let i = 0; i < slidesLength; i += 1) {\n    slideSize = 0;\n    const slide = slides.eq(i);\n\n    if (gridEnabled) {\n      swiper.grid.updateSlide(i, slide, slidesLength, getDirectionLabel);\n    }\n\n    if (slide.css('display') === 'none') continue; // eslint-disable-line\n\n    if (params.slidesPerView === 'auto') {\n      if (shouldResetSlideSize) {\n        slides[i].style[getDirectionLabel('width')] = ``;\n      }\n\n      const slideStyles = getComputedStyle(slide[0]);\n      const currentTransform = slide[0].style.transform;\n      const currentWebKitTransform = slide[0].style.webkitTransform;\n\n      if (currentTransform) {\n        slide[0].style.transform = 'none';\n      }\n\n      if (currentWebKitTransform) {\n        slide[0].style.webkitTransform = 'none';\n      }\n\n      if (params.roundLengths) {\n        slideSize = swiper.isHorizontal() ? slide.outerWidth(true) : slide.outerHeight(true);\n      } else {\n        // eslint-disable-next-line\n        const width = getDirectionPropertyValue(slideStyles, 'width');\n        const paddingLeft = getDirectionPropertyValue(slideStyles, 'padding-left');\n        const paddingRight = getDirectionPropertyValue(slideStyles, 'padding-right');\n        const marginLeft = getDirectionPropertyValue(slideStyles, 'margin-left');\n        const marginRight = getDirectionPropertyValue(slideStyles, 'margin-right');\n        const boxSizing = slideStyles.getPropertyValue('box-sizing');\n\n        if (boxSizing && boxSizing === 'border-box') {\n          slideSize = width + marginLeft + marginRight;\n        } else {\n          const {\n            clientWidth,\n            offsetWidth\n          } = slide[0];\n          slideSize = width + paddingLeft + paddingRight + marginLeft + marginRight + (offsetWidth - clientWidth);\n        }\n      }\n\n      if (currentTransform) {\n        slide[0].style.transform = currentTransform;\n      }\n\n      if (currentWebKitTransform) {\n        slide[0].style.webkitTransform = currentWebKitTransform;\n      }\n\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n    } else {\n      slideSize = (swiperSize - (params.slidesPerView - 1) * spaceBetween) / params.slidesPerView;\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n\n      if (slides[i]) {\n        slides[i].style[getDirectionLabel('width')] = `${slideSize}px`;\n      }\n    }\n\n    if (slides[i]) {\n      slides[i].swiperSlideSize = slideSize;\n    }\n\n    slidesSizesGrid.push(slideSize);\n\n    if (params.centeredSlides) {\n      slidePosition = slidePosition + slideSize / 2 + prevSlideSize / 2 + spaceBetween;\n      if (prevSlideSize === 0 && i !== 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n      if (i === 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n      if (Math.abs(slidePosition) < 1 / 1000) slidePosition = 0;\n      if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n      if (index % params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n    } else {\n      if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n      if ((index - Math.min(swiper.params.slidesPerGroupSkip, index)) % swiper.params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n      slidePosition = slidePosition + slideSize + spaceBetween;\n    }\n\n    swiper.virtualSize += slideSize + spaceBetween;\n    prevSlideSize = slideSize;\n    index += 1;\n  }\n\n  swiper.virtualSize = Math.max(swiper.virtualSize, swiperSize) + offsetAfter;\n\n  if (rtl && wrongRTL && (params.effect === 'slide' || params.effect === 'coverflow')) {\n    $wrapperEl.css({\n      width: `${swiper.virtualSize + params.spaceBetween}px`\n    });\n  }\n\n  if (params.setWrapperSize) {\n    $wrapperEl.css({\n      [getDirectionLabel('width')]: `${swiper.virtualSize + params.spaceBetween}px`\n    });\n  }\n\n  if (gridEnabled) {\n    swiper.grid.updateWrapperSize(slideSize, snapGrid, getDirectionLabel);\n  } // Remove last grid elements depending on width\n\n\n  if (!params.centeredSlides) {\n    const newSlidesGrid = [];\n\n    for (let i = 0; i < snapGrid.length; i += 1) {\n      let slidesGridItem = snapGrid[i];\n      if (params.roundLengths) slidesGridItem = Math.floor(slidesGridItem);\n\n      if (snapGrid[i] <= swiper.virtualSize - swiperSize) {\n        newSlidesGrid.push(slidesGridItem);\n      }\n    }\n\n    snapGrid = newSlidesGrid;\n\n    if (Math.floor(swiper.virtualSize - swiperSize) - Math.floor(snapGrid[snapGrid.length - 1]) > 1) {\n      snapGrid.push(swiper.virtualSize - swiperSize);\n    }\n  }\n\n  if (snapGrid.length === 0) snapGrid = [0];\n\n  if (params.spaceBetween !== 0) {\n    const key = swiper.isHorizontal() && rtl ? 'marginLeft' : getDirectionLabel('marginRight');\n    slides.filter((_, slideIndex) => {\n      if (!params.cssMode) return true;\n\n      if (slideIndex === slides.length - 1) {\n        return false;\n      }\n\n      return true;\n    }).css({\n      [key]: `${spaceBetween}px`\n    });\n  }\n\n  if (params.centeredSlides && params.centeredSlidesBounds) {\n    let allSlidesSize = 0;\n    slidesSizesGrid.forEach(slideSizeValue => {\n      allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);\n    });\n    allSlidesSize -= params.spaceBetween;\n    const maxSnap = allSlidesSize - swiperSize;\n    snapGrid = snapGrid.map(snap => {\n      if (snap < 0) return -offsetBefore;\n      if (snap > maxSnap) return maxSnap + offsetAfter;\n      return snap;\n    });\n  }\n\n  if (params.centerInsufficientSlides) {\n    let allSlidesSize = 0;\n    slidesSizesGrid.forEach(slideSizeValue => {\n      allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);\n    });\n    allSlidesSize -= params.spaceBetween;\n\n    if (allSlidesSize < swiperSize) {\n      const allSlidesOffset = (swiperSize - allSlidesSize) / 2;\n      snapGrid.forEach((snap, snapIndex) => {\n        snapGrid[snapIndex] = snap - allSlidesOffset;\n      });\n      slidesGrid.forEach((snap, snapIndex) => {\n        slidesGrid[snapIndex] = snap + allSlidesOffset;\n      });\n    }\n  }\n\n  Object.assign(swiper, {\n    slides,\n    snapGrid,\n    slidesGrid,\n    slidesSizesGrid\n  });\n\n  if (params.centeredSlides && params.cssMode && !params.centeredSlidesBounds) {\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-before', `${-snapGrid[0]}px`);\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-after', `${swiper.size / 2 - slidesSizesGrid[slidesSizesGrid.length - 1] / 2}px`);\n    const addToSnapGrid = -swiper.snapGrid[0];\n    const addToSlidesGrid = -swiper.slidesGrid[0];\n    swiper.snapGrid = swiper.snapGrid.map(v => v + addToSnapGrid);\n    swiper.slidesGrid = swiper.slidesGrid.map(v => v + addToSlidesGrid);\n  }\n\n  if (slidesLength !== previousSlidesLength) {\n    swiper.emit('slidesLengthChange');\n  }\n\n  if (snapGrid.length !== previousSnapGridLength) {\n    if (swiper.params.watchOverflow) swiper.checkOverflow();\n    swiper.emit('snapGridLengthChange');\n  }\n\n  if (slidesGrid.length !== previousSlidesGridLength) {\n    swiper.emit('slidesGridLengthChange');\n  }\n\n  if (params.watchSlidesProgress) {\n    swiper.updateSlidesOffset();\n  }\n}","export default function updateAutoHeight(speed) {\n  const swiper = this;\n  const activeSlides = [];\n  const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n  let newHeight = 0;\n  let i;\n\n  if (typeof speed === 'number') {\n    swiper.setTransition(speed);\n  } else if (speed === true) {\n    swiper.setTransition(swiper.params.speed);\n  }\n\n  const getSlideByIndex = index => {\n    if (isVirtual) {\n      return swiper.slides.filter(el => parseInt(el.getAttribute('data-swiper-slide-index'), 10) === index)[0];\n    }\n\n    return swiper.slides.eq(index)[0];\n  }; // Find slides currently in view\n\n\n  if (swiper.params.slidesPerView !== 'auto' && swiper.params.slidesPerView > 1) {\n    if (swiper.params.centeredSlides) {\n      swiper.visibleSlides.each(slide => {\n        activeSlides.push(slide);\n      });\n    } else {\n      for (i = 0; i < Math.ceil(swiper.params.slidesPerView); i += 1) {\n        const index = swiper.activeIndex + i;\n        if (index > swiper.slides.length && !isVirtual) break;\n        activeSlides.push(getSlideByIndex(index));\n      }\n    }\n  } else {\n    activeSlides.push(getSlideByIndex(swiper.activeIndex));\n  } // Find new height from highest slide in view\n\n\n  for (i = 0; i < activeSlides.length; i += 1) {\n    if (typeof activeSlides[i] !== 'undefined') {\n      const height = activeSlides[i].offsetHeight;\n      newHeight = height > newHeight ? height : newHeight;\n    }\n  } // Update Height\n\n\n  if (newHeight || newHeight === 0) swiper.$wrapperEl.css('height', `${newHeight}px`);\n}","export default function updateSlidesOffset() {\n  const swiper = this;\n  const slides = swiper.slides;\n\n  for (let i = 0; i < slides.length; i += 1) {\n    slides[i].swiperSlideOffset = swiper.isHorizontal() ? slides[i].offsetLeft : slides[i].offsetTop;\n  }\n}","import $ from '../../shared/dom.js';\nexport default function updateSlidesProgress(translate = this && this.translate || 0) {\n  const swiper = this;\n  const params = swiper.params;\n  const {\n    slides,\n    rtlTranslate: rtl,\n    snapGrid\n  } = swiper;\n  if (slides.length === 0) return;\n  if (typeof slides[0].swiperSlideOffset === 'undefined') swiper.updateSlidesOffset();\n  let offsetCenter = -translate;\n  if (rtl) offsetCenter = translate; // Visible Slides\n\n  slides.removeClass(params.slideVisibleClass);\n  swiper.visibleSlidesIndexes = [];\n  swiper.visibleSlides = [];\n\n  for (let i = 0; i < slides.length; i += 1) {\n    const slide = slides[i];\n    let slideOffset = slide.swiperSlideOffset;\n\n    if (params.cssMode && params.centeredSlides) {\n      slideOffset -= slides[0].swiperSlideOffset;\n    }\n\n    const slideProgress = (offsetCenter + (params.centeredSlides ? swiper.minTranslate() : 0) - slideOffset) / (slide.swiperSlideSize + params.spaceBetween);\n    const originalSlideProgress = (offsetCenter - snapGrid[0] + (params.centeredSlides ? swiper.minTranslate() : 0) - slideOffset) / (slide.swiperSlideSize + params.spaceBetween);\n    const slideBefore = -(offsetCenter - slideOffset);\n    const slideAfter = slideBefore + swiper.slidesSizesGrid[i];\n    const isVisible = slideBefore >= 0 && slideBefore < swiper.size - 1 || slideAfter > 1 && slideAfter <= swiper.size || slideBefore <= 0 && slideAfter >= swiper.size;\n\n    if (isVisible) {\n      swiper.visibleSlides.push(slide);\n      swiper.visibleSlidesIndexes.push(i);\n      slides.eq(i).addClass(params.slideVisibleClass);\n    }\n\n    slide.progress = rtl ? -slideProgress : slideProgress;\n    slide.originalProgress = rtl ? -originalSlideProgress : originalSlideProgress;\n  }\n\n  swiper.visibleSlides = $(swiper.visibleSlides);\n}","export default function updateProgress(translate) {\n  const swiper = this;\n\n  if (typeof translate === 'undefined') {\n    const multiplier = swiper.rtlTranslate ? -1 : 1; // eslint-disable-next-line\n\n    translate = swiper && swiper.translate && swiper.translate * multiplier || 0;\n  }\n\n  const params = swiper.params;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n  let {\n    progress,\n    isBeginning,\n    isEnd\n  } = swiper;\n  const wasBeginning = isBeginning;\n  const wasEnd = isEnd;\n\n  if (translatesDiff === 0) {\n    progress = 0;\n    isBeginning = true;\n    isEnd = true;\n  } else {\n    progress = (translate - swiper.minTranslate()) / translatesDiff;\n    isBeginning = progress <= 0;\n    isEnd = progress >= 1;\n  }\n\n  Object.assign(swiper, {\n    progress,\n    isBeginning,\n    isEnd\n  });\n  if (params.watchSlidesProgress || params.centeredSlides && params.autoHeight) swiper.updateSlidesProgress(translate);\n\n  if (isBeginning && !wasBeginning) {\n    swiper.emit('reachBeginning toEdge');\n  }\n\n  if (isEnd && !wasEnd) {\n    swiper.emit('reachEnd toEdge');\n  }\n\n  if (wasBeginning && !isBeginning || wasEnd && !isEnd) {\n    swiper.emit('fromEdge');\n  }\n\n  swiper.emit('progress', progress);\n}","export default function updateSlidesClasses() {\n  const swiper = this;\n  const {\n    slides,\n    params,\n    $wrapperEl,\n    activeIndex,\n    realIndex\n  } = swiper;\n  const isVirtual = swiper.virtual && params.virtual.enabled;\n  slides.removeClass(`${params.slideActiveClass} ${params.slideNextClass} ${params.slidePrevClass} ${params.slideDuplicateActiveClass} ${params.slideDuplicateNextClass} ${params.slideDuplicatePrevClass}`);\n  let activeSlide;\n\n  if (isVirtual) {\n    activeSlide = swiper.$wrapperEl.find(`.${params.slideClass}[data-swiper-slide-index=\"${activeIndex}\"]`);\n  } else {\n    activeSlide = slides.eq(activeIndex);\n  } // Active classes\n\n\n  activeSlide.addClass(params.slideActiveClass);\n\n  if (params.loop) {\n    // Duplicate to all looped slides\n    if (activeSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${realIndex}\"]`).addClass(params.slideDuplicateActiveClass);\n    } else {\n      $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${realIndex}\"]`).addClass(params.slideDuplicateActiveClass);\n    }\n  } // Next Slide\n\n\n  let nextSlide = activeSlide.nextAll(`.${params.slideClass}`).eq(0).addClass(params.slideNextClass);\n\n  if (params.loop && nextSlide.length === 0) {\n    nextSlide = slides.eq(0);\n    nextSlide.addClass(params.slideNextClass);\n  } // Prev Slide\n\n\n  let prevSlide = activeSlide.prevAll(`.${params.slideClass}`).eq(0).addClass(params.slidePrevClass);\n\n  if (params.loop && prevSlide.length === 0) {\n    prevSlide = slides.eq(-1);\n    prevSlide.addClass(params.slidePrevClass);\n  }\n\n  if (params.loop) {\n    // Duplicate to all looped slides\n    if (nextSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${nextSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicateNextClass);\n    } else {\n      $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${nextSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicateNextClass);\n    }\n\n    if (prevSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${prevSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicatePrevClass);\n    } else {\n      $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${prevSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicatePrevClass);\n    }\n  }\n\n  swiper.emitSlidesClasses();\n}","export default function updateActiveIndex(newActiveIndex) {\n  const swiper = this;\n  const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n  const {\n    slidesGrid,\n    snapGrid,\n    params,\n    activeIndex: previousIndex,\n    realIndex: previousRealIndex,\n    snapIndex: previousSnapIndex\n  } = swiper;\n  let activeIndex = newActiveIndex;\n  let snapIndex;\n\n  if (typeof activeIndex === 'undefined') {\n    for (let i = 0; i < slidesGrid.length; i += 1) {\n      if (typeof slidesGrid[i + 1] !== 'undefined') {\n        if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1] - (slidesGrid[i + 1] - slidesGrid[i]) / 2) {\n          activeIndex = i;\n        } else if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1]) {\n          activeIndex = i + 1;\n        }\n      } else if (translate >= slidesGrid[i]) {\n        activeIndex = i;\n      }\n    } // Normalize slideIndex\n\n\n    if (params.normalizeSlideIndex) {\n      if (activeIndex < 0 || typeof activeIndex === 'undefined') activeIndex = 0;\n    }\n  }\n\n  if (snapGrid.indexOf(translate) >= 0) {\n    snapIndex = snapGrid.indexOf(translate);\n  } else {\n    const skip = Math.min(params.slidesPerGroupSkip, activeIndex);\n    snapIndex = skip + Math.floor((activeIndex - skip) / params.slidesPerGroup);\n  }\n\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n\n  if (activeIndex === previousIndex) {\n    if (snapIndex !== previousSnapIndex) {\n      swiper.snapIndex = snapIndex;\n      swiper.emit('snapIndexChange');\n    }\n\n    return;\n  } // Get real index\n\n\n  const realIndex = parseInt(swiper.slides.eq(activeIndex).attr('data-swiper-slide-index') || activeIndex, 10);\n  Object.assign(swiper, {\n    snapIndex,\n    realIndex,\n    previousIndex,\n    activeIndex\n  });\n  swiper.emit('activeIndexChange');\n  swiper.emit('snapIndexChange');\n\n  if (previousRealIndex !== realIndex) {\n    swiper.emit('realIndexChange');\n  }\n\n  if (swiper.initialized || swiper.params.runCallbacksOnInit) {\n    swiper.emit('slideChange');\n  }\n}","import $ from '../../shared/dom.js';\nexport default function updateClickedSlide(e) {\n  const swiper = this;\n  const params = swiper.params;\n  const slide = $(e).closest(`.${params.slideClass}`)[0];\n  let slideFound = false;\n  let slideIndex;\n\n  if (slide) {\n    for (let i = 0; i < swiper.slides.length; i += 1) {\n      if (swiper.slides[i] === slide) {\n        slideFound = true;\n        slideIndex = i;\n        break;\n      }\n    }\n  }\n\n  if (slide && slideFound) {\n    swiper.clickedSlide = slide;\n\n    if (swiper.virtual && swiper.params.virtual.enabled) {\n      swiper.clickedIndex = parseInt($(slide).attr('data-swiper-slide-index'), 10);\n    } else {\n      swiper.clickedIndex = slideIndex;\n    }\n  } else {\n    swiper.clickedSlide = undefined;\n    swiper.clickedIndex = undefined;\n    return;\n  }\n\n  if (params.slideToClickedSlide && swiper.clickedIndex !== undefined && swiper.clickedIndex !== swiper.activeIndex) {\n    swiper.slideToClickedSlide();\n  }\n}","export default function transitionEmit({\n  swiper,\n  runCallbacks,\n  direction,\n  step\n}) {\n  const {\n    activeIndex,\n    previousIndex\n  } = swiper;\n  let dir = direction;\n\n  if (!dir) {\n    if (activeIndex > previousIndex) dir = 'next';else if (activeIndex < previousIndex) dir = 'prev';else dir = 'reset';\n  }\n\n  swiper.emit(`transition${step}`);\n\n  if (runCallbacks && activeIndex !== previousIndex) {\n    if (dir === 'reset') {\n      swiper.emit(`slideResetTransition${step}`);\n      return;\n    }\n\n    swiper.emit(`slideChangeTransition${step}`);\n\n    if (dir === 'next') {\n      swiper.emit(`slideNextTransition${step}`);\n    } else {\n      swiper.emit(`slidePrevTransition${step}`);\n    }\n  }\n}","import slideTo from './slideTo.js';\nimport slideToLoop from './slideToLoop.js';\nimport slideNext from './slideNext.js';\nimport slidePrev from './slidePrev.js';\nimport slideReset from './slideReset.js';\nimport slideToClosest from './slideToClosest.js';\nimport slideToClickedSlide from './slideToClickedSlide.js';\nexport default {\n  slideTo,\n  slideToLoop,\n  slideNext,\n  slidePrev,\n  slideReset,\n  slideToClosest,\n  slideToClickedSlide\n};","import { animateCSSModeScroll } from '../../shared/utils.js';\nexport default function slideTo(index = 0, speed = this.params.speed, runCallbacks = true, internal, initial) {\n  if (typeof index !== 'number' && typeof index !== 'string') {\n    throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof index}] given.`);\n  }\n\n  if (typeof index === 'string') {\n    /**\n     * The `index` argument converted from `string` to `number`.\n     * @type {number}\n     */\n    const indexAsNumber = parseInt(index, 10);\n    /**\n     * Determines whether the `index` argument is a valid `number`\n     * after being converted from the `string` type.\n     * @type {boolean}\n     */\n\n    const isValidNumber = isFinite(indexAsNumber);\n\n    if (!isValidNumber) {\n      throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${index}] given.`);\n    } // Knowing that the converted `index` is a valid number,\n    // we can update the original argument's value.\n\n\n    index = indexAsNumber;\n  }\n\n  const swiper = this;\n  let slideIndex = index;\n  if (slideIndex < 0) slideIndex = 0;\n  const {\n    params,\n    snapGrid,\n    slidesGrid,\n    previousIndex,\n    activeIndex,\n    rtlTranslate: rtl,\n    wrapperEl,\n    enabled\n  } = swiper;\n\n  if (swiper.animating && params.preventInteractionOnTransition || !enabled && !internal && !initial) {\n    return false;\n  }\n\n  const skip = Math.min(swiper.params.slidesPerGroupSkip, slideIndex);\n  let snapIndex = skip + Math.floor((slideIndex - skip) / swiper.params.slidesPerGroup);\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n\n  if ((activeIndex || params.initialSlide || 0) === (previousIndex || 0) && runCallbacks) {\n    swiper.emit('beforeSlideChangeStart');\n  }\n\n  const translate = -snapGrid[snapIndex]; // Update progress\n\n  swiper.updateProgress(translate); // Normalize slideIndex\n\n  if (params.normalizeSlideIndex) {\n    for (let i = 0; i < slidesGrid.length; i += 1) {\n      const normalizedTranslate = -Math.floor(translate * 100);\n      const normalizedGrid = Math.floor(slidesGrid[i] * 100);\n      const normalizedGridNext = Math.floor(slidesGrid[i + 1] * 100);\n\n      if (typeof slidesGrid[i + 1] !== 'undefined') {\n        if (normalizedTranslate >= normalizedGrid && normalizedTranslate < normalizedGridNext - (normalizedGridNext - normalizedGrid) / 2) {\n          slideIndex = i;\n        } else if (normalizedTranslate >= normalizedGrid && normalizedTranslate < normalizedGridNext) {\n          slideIndex = i + 1;\n        }\n      } else if (normalizedTranslate >= normalizedGrid) {\n        slideIndex = i;\n      }\n    }\n  } // Directions locks\n\n\n  if (swiper.initialized && slideIndex !== activeIndex) {\n    if (!swiper.allowSlideNext && translate < swiper.translate && translate < swiper.minTranslate()) {\n      return false;\n    }\n\n    if (!swiper.allowSlidePrev && translate > swiper.translate && translate > swiper.maxTranslate()) {\n      if ((activeIndex || 0) !== slideIndex) return false;\n    }\n  }\n\n  let direction;\n  if (slideIndex > activeIndex) direction = 'next';else if (slideIndex < activeIndex) direction = 'prev';else direction = 'reset'; // Update Index\n\n  if (rtl && -translate === swiper.translate || !rtl && translate === swiper.translate) {\n    swiper.updateActiveIndex(slideIndex); // Update Height\n\n    if (params.autoHeight) {\n      swiper.updateAutoHeight();\n    }\n\n    swiper.updateSlidesClasses();\n\n    if (params.effect !== 'slide') {\n      swiper.setTranslate(translate);\n    }\n\n    if (direction !== 'reset') {\n      swiper.transitionStart(runCallbacks, direction);\n      swiper.transitionEnd(runCallbacks, direction);\n    }\n\n    return false;\n  }\n\n  if (params.cssMode) {\n    const isH = swiper.isHorizontal();\n    const t = rtl ? translate : -translate;\n\n    if (speed === 0) {\n      const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n\n      if (isVirtual) {\n        swiper.wrapperEl.style.scrollSnapType = 'none';\n        swiper._immediateVirtual = true;\n      }\n\n      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = t;\n\n      if (isVirtual) {\n        requestAnimationFrame(() => {\n          swiper.wrapperEl.style.scrollSnapType = '';\n          swiper._swiperImmediateVirtual = false;\n        });\n      }\n    } else {\n      if (!swiper.support.smoothScroll) {\n        animateCSSModeScroll({\n          swiper,\n          targetPosition: t,\n          side: isH ? 'left' : 'top'\n        });\n        return true;\n      }\n\n      wrapperEl.scrollTo({\n        [isH ? 'left' : 'top']: t,\n        behavior: 'smooth'\n      });\n    }\n\n    return true;\n  }\n\n  swiper.setTransition(speed);\n  swiper.setTranslate(translate);\n  swiper.updateActiveIndex(slideIndex);\n  swiper.updateSlidesClasses();\n  swiper.emit('beforeTransitionStart', speed, internal);\n  swiper.transitionStart(runCallbacks, direction);\n\n  if (speed === 0) {\n    swiper.transitionEnd(runCallbacks, direction);\n  } else if (!swiper.animating) {\n    swiper.animating = true;\n\n    if (!swiper.onSlideToWrapperTransitionEnd) {\n      swiper.onSlideToWrapperTransitionEnd = function transitionEnd(e) {\n        if (!swiper || swiper.destroyed) return;\n        if (e.target !== this) return;\n        swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n        swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);\n        swiper.onSlideToWrapperTransitionEnd = null;\n        delete swiper.onSlideToWrapperTransitionEnd;\n        swiper.transitionEnd(runCallbacks, direction);\n      };\n    }\n\n    swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n    swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);\n  }\n\n  return true;\n}","export default function slideToLoop(index = 0, speed = this.params.speed, runCallbacks = true, internal) {\n  const swiper = this;\n  let newIndex = index;\n\n  if (swiper.params.loop) {\n    newIndex += swiper.loopedSlides;\n  }\n\n  return swiper.slideTo(newIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideNext(speed = this.params.speed, runCallbacks = true, internal) {\n  const swiper = this;\n  const {\n    animating,\n    enabled,\n    params\n  } = swiper;\n  if (!enabled) return swiper;\n  let perGroup = params.slidesPerGroup;\n\n  if (params.slidesPerView === 'auto' && params.slidesPerGroup === 1 && params.slidesPerGroupAuto) {\n    perGroup = Math.max(swiper.slidesPerViewDynamic('current', true), 1);\n  }\n\n  const increment = swiper.activeIndex < params.slidesPerGroupSkip ? 1 : perGroup;\n\n  if (params.loop) {\n    if (animating && params.loopPreventsSlide) return false;\n    swiper.loopFix(); // eslint-disable-next-line\n\n    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n  }\n\n  if (params.rewind && swiper.isEnd) {\n    return swiper.slideTo(0, speed, runCallbacks, internal);\n  }\n\n  return swiper.slideTo(swiper.activeIndex + increment, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slidePrev(speed = this.params.speed, runCallbacks = true, internal) {\n  const swiper = this;\n  const {\n    params,\n    animating,\n    snapGrid,\n    slidesGrid,\n    rtlTranslate,\n    enabled\n  } = swiper;\n  if (!enabled) return swiper;\n\n  if (params.loop) {\n    if (animating && params.loopPreventsSlide) return false;\n    swiper.loopFix(); // eslint-disable-next-line\n\n    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n  }\n\n  const translate = rtlTranslate ? swiper.translate : -swiper.translate;\n\n  function normalize(val) {\n    if (val < 0) return -Math.floor(Math.abs(val));\n    return Math.floor(val);\n  }\n\n  const normalizedTranslate = normalize(translate);\n  const normalizedSnapGrid = snapGrid.map(val => normalize(val));\n  let prevSnap = snapGrid[normalizedSnapGrid.indexOf(normalizedTranslate) - 1];\n\n  if (typeof prevSnap === 'undefined' && params.cssMode) {\n    let prevSnapIndex;\n    snapGrid.forEach((snap, snapIndex) => {\n      if (normalizedTranslate >= snap) {\n        // prevSnap = snap;\n        prevSnapIndex = snapIndex;\n      }\n    });\n\n    if (typeof prevSnapIndex !== 'undefined') {\n      prevSnap = snapGrid[prevSnapIndex > 0 ? prevSnapIndex - 1 : prevSnapIndex];\n    }\n  }\n\n  let prevIndex = 0;\n\n  if (typeof prevSnap !== 'undefined') {\n    prevIndex = slidesGrid.indexOf(prevSnap);\n    if (prevIndex < 0) prevIndex = swiper.activeIndex - 1;\n\n    if (params.slidesPerView === 'auto' && params.slidesPerGroup === 1 && params.slidesPerGroupAuto) {\n      prevIndex = prevIndex - swiper.slidesPerViewDynamic('previous', true) + 1;\n      prevIndex = Math.max(prevIndex, 0);\n    }\n  }\n\n  if (params.rewind && swiper.isBeginning) {\n    return swiper.slideTo(swiper.slides.length - 1, speed, runCallbacks, internal);\n  }\n\n  return swiper.slideTo(prevIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideReset(speed = this.params.speed, runCallbacks = true, internal) {\n  const swiper = this;\n  return swiper.slideTo(swiper.activeIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideToClosest(speed = this.params.speed, runCallbacks = true, internal, threshold = 0.5) {\n  const swiper = this;\n  let index = swiper.activeIndex;\n  const skip = Math.min(swiper.params.slidesPerGroupSkip, index);\n  const snapIndex = skip + Math.floor((index - skip) / swiper.params.slidesPerGroup);\n  const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n\n  if (translate >= swiper.snapGrid[snapIndex]) {\n    // The current translate is on or after the current snap index, so the choice\n    // is between the current index and the one after it.\n    const currentSnap = swiper.snapGrid[snapIndex];\n    const nextSnap = swiper.snapGrid[snapIndex + 1];\n\n    if (translate - currentSnap > (nextSnap - currentSnap) * threshold) {\n      index += swiper.params.slidesPerGroup;\n    }\n  } else {\n    // The current translate is before the current snap index, so the choice\n    // is between the current index and the one before it.\n    const prevSnap = swiper.snapGrid[snapIndex - 1];\n    const currentSnap = swiper.snapGrid[snapIndex];\n\n    if (translate - prevSnap <= (currentSnap - prevSnap) * threshold) {\n      index -= swiper.params.slidesPerGroup;\n    }\n  }\n\n  index = Math.max(index, 0);\n  index = Math.min(index, swiper.slidesGrid.length - 1);\n  return swiper.slideTo(index, speed, runCallbacks, internal);\n}","import $ from '../../shared/dom.js';\nimport { nextTick } from '../../shared/utils.js';\nexport default function slideToClickedSlide() {\n  const swiper = this;\n  const {\n    params,\n    $wrapperEl\n  } = swiper;\n  const slidesPerView = params.slidesPerView === 'auto' ? swiper.slidesPerViewDynamic() : params.slidesPerView;\n  let slideToIndex = swiper.clickedIndex;\n  let realIndex;\n\n  if (params.loop) {\n    if (swiper.animating) return;\n    realIndex = parseInt($(swiper.clickedSlide).attr('data-swiper-slide-index'), 10);\n\n    if (params.centeredSlides) {\n      if (slideToIndex < swiper.loopedSlides - slidesPerView / 2 || slideToIndex > swiper.slides.length - swiper.loopedSlides + slidesPerView / 2) {\n        swiper.loopFix();\n        slideToIndex = $wrapperEl.children(`.${params.slideClass}[data-swiper-slide-index=\"${realIndex}\"]:not(.${params.slideDuplicateClass})`).eq(0).index();\n        nextTick(() => {\n          swiper.slideTo(slideToIndex);\n        });\n      } else {\n        swiper.slideTo(slideToIndex);\n      }\n    } else if (slideToIndex > swiper.slides.length - slidesPerView) {\n      swiper.loopFix();\n      slideToIndex = $wrapperEl.children(`.${params.slideClass}[data-swiper-slide-index=\"${realIndex}\"]:not(.${params.slideDuplicateClass})`).eq(0).index();\n      nextTick(() => {\n        swiper.slideTo(slideToIndex);\n      });\n    } else {\n      swiper.slideTo(slideToIndex);\n    }\n  } else {\n    swiper.slideTo(slideToIndex);\n  }\n}","import loopCreate from './loopCreate.js';\nimport loopFix from './loopFix.js';\nimport loopDestroy from './loopDestroy.js';\nexport default {\n  loopCreate,\n  loopFix,\n  loopDestroy\n};","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function loopCreate() {\n  const swiper = this;\n  const document = getDocument();\n  const {\n    params,\n    $wrapperEl\n  } = swiper; // Remove duplicated slides\n\n  const $selector = $wrapperEl.children().length > 0 ? $($wrapperEl.children()[0].parentNode) : $wrapperEl;\n  $selector.children(`.${params.slideClass}.${params.slideDuplicateClass}`).remove();\n  let slides = $selector.children(`.${params.slideClass}`);\n\n  if (params.loopFillGroupWithBlank) {\n    const blankSlidesNum = params.slidesPerGroup - slides.length % params.slidesPerGroup;\n\n    if (blankSlidesNum !== params.slidesPerGroup) {\n      for (let i = 0; i < blankSlidesNum; i += 1) {\n        const blankNode = $(document.createElement('div')).addClass(`${params.slideClass} ${params.slideBlankClass}`);\n        $selector.append(blankNode);\n      }\n\n      slides = $selector.children(`.${params.slideClass}`);\n    }\n  }\n\n  if (params.slidesPerView === 'auto' && !params.loopedSlides) params.loopedSlides = slides.length;\n  swiper.loopedSlides = Math.ceil(parseFloat(params.loopedSlides || params.slidesPerView, 10));\n  swiper.loopedSlides += params.loopAdditionalSlides;\n\n  if (swiper.loopedSlides > slides.length) {\n    swiper.loopedSlides = slides.length;\n  }\n\n  const prependSlides = [];\n  const appendSlides = [];\n  slides.each((el, index) => {\n    const slide = $(el);\n\n    if (index < swiper.loopedSlides) {\n      appendSlides.push(el);\n    }\n\n    if (index < slides.length && index >= slides.length - swiper.loopedSlides) {\n      prependSlides.push(el);\n    }\n\n    slide.attr('data-swiper-slide-index', index);\n  });\n\n  for (let i = 0; i < appendSlides.length; i += 1) {\n    $selector.append($(appendSlides[i].cloneNode(true)).addClass(params.slideDuplicateClass));\n  }\n\n  for (let i = prependSlides.length - 1; i >= 0; i -= 1) {\n    $selector.prepend($(prependSlides[i].cloneNode(true)).addClass(params.slideDuplicateClass));\n  }\n}","export default function loopFix() {\n  const swiper = this;\n  swiper.emit('beforeLoopFix');\n  const {\n    activeIndex,\n    slides,\n    loopedSlides,\n    allowSlidePrev,\n    allowSlideNext,\n    snapGrid,\n    rtlTranslate: rtl\n  } = swiper;\n  let newIndex;\n  swiper.allowSlidePrev = true;\n  swiper.allowSlideNext = true;\n  const snapTranslate = -snapGrid[activeIndex];\n  const diff = snapTranslate - swiper.getTranslate(); // Fix For Negative Oversliding\n\n  if (activeIndex < loopedSlides) {\n    newIndex = slides.length - loopedSlides * 3 + activeIndex;\n    newIndex += loopedSlides;\n    const slideChanged = swiper.slideTo(newIndex, 0, false, true);\n\n    if (slideChanged && diff !== 0) {\n      swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);\n    }\n  } else if (activeIndex >= slides.length - loopedSlides) {\n    // Fix For Positive Oversliding\n    newIndex = -slides.length + activeIndex + loopedSlides;\n    newIndex += loopedSlides;\n    const slideChanged = swiper.slideTo(newIndex, 0, false, true);\n\n    if (slideChanged && diff !== 0) {\n      swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);\n    }\n  }\n\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n  swiper.emit('loopFix');\n}","export default function loopDestroy() {\n  const swiper = this;\n  const {\n    $wrapperEl,\n    params,\n    slides\n  } = swiper;\n  $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass},.${params.slideClass}.${params.slideBlankClass}`).remove();\n  slides.removeAttr('data-swiper-slide-index');\n}","import { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { now } from '../../shared/utils.js'; // Modified from https://stackoverflow.com/questions/54520554/custom-element-getrootnode-closest-function-crossing-multiple-parent-shadowd\n\nfunction closestElement(selector, base = this) {\n  function __closestFrom(el) {\n    if (!el || el === getDocument() || el === getWindow()) return null;\n    if (el.assignedSlot) el = el.assignedSlot;\n    const found = el.closest(selector);\n    return found || __closestFrom(el.getRootNode().host);\n  }\n\n  return __closestFrom(base);\n}\n\nexport default function onTouchStart(event) {\n  const swiper = this;\n  const document = getDocument();\n  const window = getWindow();\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return;\n  }\n\n  if (!swiper.animating && params.cssMode && params.loop) {\n    swiper.loopFix();\n  }\n\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n  let $targetEl = $(e.target);\n\n  if (params.touchEventsTarget === 'wrapper') {\n    if (!$targetEl.closest(swiper.wrapperEl).length) return;\n  }\n\n  data.isTouchEvent = e.type === 'touchstart';\n  if (!data.isTouchEvent && 'which' in e && e.which === 3) return;\n  if (!data.isTouchEvent && 'button' in e && e.button > 0) return;\n  if (data.isTouched && data.isMoved) return; // change target el for shadow root component\n\n  const swipingClassHasValue = !!params.noSwipingClass && params.noSwipingClass !== '';\n\n  if (swipingClassHasValue && e.target && e.target.shadowRoot && event.path && event.path[0]) {\n    $targetEl = $(event.path[0]);\n  }\n\n  const noSwipingSelector = params.noSwipingSelector ? params.noSwipingSelector : `.${params.noSwipingClass}`;\n  const isTargetShadow = !!(e.target && e.target.shadowRoot); // use closestElement for shadow root element to get the actual closest for nested shadow root element\n\n  if (params.noSwiping && (isTargetShadow ? closestElement(noSwipingSelector, e.target) : $targetEl.closest(noSwipingSelector)[0])) {\n    swiper.allowClick = true;\n    return;\n  }\n\n  if (params.swipeHandler) {\n    if (!$targetEl.closest(params.swipeHandler)[0]) return;\n  }\n\n  touches.currentX = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n  touches.currentY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n  const startX = touches.currentX;\n  const startY = touches.currentY; // Do NOT start if iOS edge swipe is detected. Otherwise iOS app cannot swipe-to-go-back anymore\n\n  const edgeSwipeDetection = params.edgeSwipeDetection || params.iOSEdgeSwipeDetection;\n  const edgeSwipeThreshold = params.edgeSwipeThreshold || params.iOSEdgeSwipeThreshold;\n\n  if (edgeSwipeDetection && (startX <= edgeSwipeThreshold || startX >= window.innerWidth - edgeSwipeThreshold)) {\n    if (edgeSwipeDetection === 'prevent') {\n      event.preventDefault();\n    } else {\n      return;\n    }\n  }\n\n  Object.assign(data, {\n    isTouched: true,\n    isMoved: false,\n    allowTouchCallbacks: true,\n    isScrolling: undefined,\n    startMoving: undefined\n  });\n  touches.startX = startX;\n  touches.startY = startY;\n  data.touchStartTime = now();\n  swiper.allowClick = true;\n  swiper.updateSize();\n  swiper.swipeDirection = undefined;\n  if (params.threshold > 0) data.allowThresholdMove = false;\n\n  if (e.type !== 'touchstart') {\n    let preventDefault = true;\n    if ($targetEl.is(data.focusableElements)) preventDefault = false;\n\n    if (document.activeElement && $(document.activeElement).is(data.focusableElements) && document.activeElement !== $targetEl[0]) {\n      document.activeElement.blur();\n    }\n\n    const shouldPreventDefault = preventDefault && swiper.allowTouchMove && params.touchStartPreventDefault;\n\n    if ((params.touchStartForcePreventDefault || shouldPreventDefault) && !$targetEl[0].isContentEditable) {\n      e.preventDefault();\n    }\n  }\n\n  swiper.emit('touchStart', e);\n}","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { now } from '../../shared/utils.js';\nexport default function onTouchMove(event) {\n  const document = getDocument();\n  const swiper = this;\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    rtlTranslate: rtl,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n\n  if (!data.isTouched) {\n    if (data.startMoving && data.isScrolling) {\n      swiper.emit('touchMoveOpposite', e);\n    }\n\n    return;\n  }\n\n  if (data.isTouchEvent && e.type !== 'touchmove') return;\n  const targetTouch = e.type === 'touchmove' && e.targetTouches && (e.targetTouches[0] || e.changedTouches[0]);\n  const pageX = e.type === 'touchmove' ? targetTouch.pageX : e.pageX;\n  const pageY = e.type === 'touchmove' ? targetTouch.pageY : e.pageY;\n\n  if (e.preventedByNestedSwiper) {\n    touches.startX = pageX;\n    touches.startY = pageY;\n    return;\n  }\n\n  if (!swiper.allowTouchMove) {\n    // isMoved = true;\n    swiper.allowClick = false;\n\n    if (data.isTouched) {\n      Object.assign(touches, {\n        startX: pageX,\n        startY: pageY,\n        currentX: pageX,\n        currentY: pageY\n      });\n      data.touchStartTime = now();\n    }\n\n    return;\n  }\n\n  if (data.isTouchEvent && params.touchReleaseOnEdges && !params.loop) {\n    if (swiper.isVertical()) {\n      // Vertical\n      if (pageY < touches.startY && swiper.translate <= swiper.maxTranslate() || pageY > touches.startY && swiper.translate >= swiper.minTranslate()) {\n        data.isTouched = false;\n        data.isMoved = false;\n        return;\n      }\n    } else if (pageX < touches.startX && swiper.translate <= swiper.maxTranslate() || pageX > touches.startX && swiper.translate >= swiper.minTranslate()) {\n      return;\n    }\n  }\n\n  if (data.isTouchEvent && document.activeElement) {\n    if (e.target === document.activeElement && $(e.target).is(data.focusableElements)) {\n      data.isMoved = true;\n      swiper.allowClick = false;\n      return;\n    }\n  }\n\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchMove', e);\n  }\n\n  if (e.targetTouches && e.targetTouches.length > 1) return;\n  touches.currentX = pageX;\n  touches.currentY = pageY;\n  const diffX = touches.currentX - touches.startX;\n  const diffY = touches.currentY - touches.startY;\n  if (swiper.params.threshold && Math.sqrt(diffX ** 2 + diffY ** 2) < swiper.params.threshold) return;\n\n  if (typeof data.isScrolling === 'undefined') {\n    let touchAngle;\n\n    if (swiper.isHorizontal() && touches.currentY === touches.startY || swiper.isVertical() && touches.currentX === touches.startX) {\n      data.isScrolling = false;\n    } else {\n      // eslint-disable-next-line\n      if (diffX * diffX + diffY * diffY >= 25) {\n        touchAngle = Math.atan2(Math.abs(diffY), Math.abs(diffX)) * 180 / Math.PI;\n        data.isScrolling = swiper.isHorizontal() ? touchAngle > params.touchAngle : 90 - touchAngle > params.touchAngle;\n      }\n    }\n  }\n\n  if (data.isScrolling) {\n    swiper.emit('touchMoveOpposite', e);\n  }\n\n  if (typeof data.startMoving === 'undefined') {\n    if (touches.currentX !== touches.startX || touches.currentY !== touches.startY) {\n      data.startMoving = true;\n    }\n  }\n\n  if (data.isScrolling) {\n    data.isTouched = false;\n    return;\n  }\n\n  if (!data.startMoving) {\n    return;\n  }\n\n  swiper.allowClick = false;\n\n  if (!params.cssMode && e.cancelable) {\n    e.preventDefault();\n  }\n\n  if (params.touchMoveStopPropagation && !params.nested) {\n    e.stopPropagation();\n  }\n\n  if (!data.isMoved) {\n    if (params.loop && !params.cssMode) {\n      swiper.loopFix();\n    }\n\n    data.startTranslate = swiper.getTranslate();\n    swiper.setTransition(0);\n\n    if (swiper.animating) {\n      swiper.$wrapperEl.trigger('webkitTransitionEnd transitionend');\n    }\n\n    data.allowMomentumBounce = false; // Grab Cursor\n\n    if (params.grabCursor && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n      swiper.setGrabCursor(true);\n    }\n\n    swiper.emit('sliderFirstMove', e);\n  }\n\n  swiper.emit('sliderMove', e);\n  data.isMoved = true;\n  let diff = swiper.isHorizontal() ? diffX : diffY;\n  touches.diff = diff;\n  diff *= params.touchRatio;\n  if (rtl) diff = -diff;\n  swiper.swipeDirection = diff > 0 ? 'prev' : 'next';\n  data.currentTranslate = diff + data.startTranslate;\n  let disableParentSwiper = true;\n  let resistanceRatio = params.resistanceRatio;\n\n  if (params.touchReleaseOnEdges) {\n    resistanceRatio = 0;\n  }\n\n  if (diff > 0 && data.currentTranslate > swiper.minTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) data.currentTranslate = swiper.minTranslate() - 1 + (-swiper.minTranslate() + data.startTranslate + diff) ** resistanceRatio;\n  } else if (diff < 0 && data.currentTranslate < swiper.maxTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) data.currentTranslate = swiper.maxTranslate() + 1 - (swiper.maxTranslate() - data.startTranslate - diff) ** resistanceRatio;\n  }\n\n  if (disableParentSwiper) {\n    e.preventedByNestedSwiper = true;\n  } // Directions locks\n\n\n  if (!swiper.allowSlideNext && swiper.swipeDirection === 'next' && data.currentTranslate < data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  if (!swiper.allowSlidePrev && swiper.swipeDirection === 'prev' && data.currentTranslate > data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  if (!swiper.allowSlidePrev && !swiper.allowSlideNext) {\n    data.currentTranslate = data.startTranslate;\n  } // Threshold\n\n\n  if (params.threshold > 0) {\n    if (Math.abs(diff) > params.threshold || data.allowThresholdMove) {\n      if (!data.allowThresholdMove) {\n        data.allowThresholdMove = true;\n        touches.startX = touches.currentX;\n        touches.startY = touches.currentY;\n        data.currentTranslate = data.startTranslate;\n        touches.diff = swiper.isHorizontal() ? touches.currentX - touches.startX : touches.currentY - touches.startY;\n        return;\n      }\n    } else {\n      data.currentTranslate = data.startTranslate;\n      return;\n    }\n  }\n\n  if (!params.followFinger || params.cssMode) return; // Update active index in free mode\n\n  if (params.freeMode && params.freeMode.enabled && swiper.freeMode || params.watchSlidesProgress) {\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  if (swiper.params.freeMode && params.freeMode.enabled && swiper.freeMode) {\n    swiper.freeMode.onTouchMove();\n  } // Update progress\n\n\n  swiper.updateProgress(data.currentTranslate); // Update translate\n\n  swiper.setTranslate(data.currentTranslate);\n}","import { now, nextTick } from '../../shared/utils.js';\nexport default function onTouchEnd(event) {\n  const swiper = this;\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    rtlTranslate: rtl,\n    slidesGrid,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchEnd', e);\n  }\n\n  data.allowTouchCallbacks = false;\n\n  if (!data.isTouched) {\n    if (data.isMoved && params.grabCursor) {\n      swiper.setGrabCursor(false);\n    }\n\n    data.isMoved = false;\n    data.startMoving = false;\n    return;\n  } // Return Grab Cursor\n\n\n  if (params.grabCursor && data.isMoved && data.isTouched && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n    swiper.setGrabCursor(false);\n  } // Time diff\n\n\n  const touchEndTime = now();\n  const timeDiff = touchEndTime - data.touchStartTime; // Tap, doubleTap, Click\n\n  if (swiper.allowClick) {\n    const pathTree = e.path || e.composedPath && e.composedPath();\n    swiper.updateClickedSlide(pathTree && pathTree[0] || e.target);\n    swiper.emit('tap click', e);\n\n    if (timeDiff < 300 && touchEndTime - data.lastClickTime < 300) {\n      swiper.emit('doubleTap doubleClick', e);\n    }\n  }\n\n  data.lastClickTime = now();\n  nextTick(() => {\n    if (!swiper.destroyed) swiper.allowClick = true;\n  });\n\n  if (!data.isTouched || !data.isMoved || !swiper.swipeDirection || touches.diff === 0 || data.currentTranslate === data.startTranslate) {\n    data.isTouched = false;\n    data.isMoved = false;\n    data.startMoving = false;\n    return;\n  }\n\n  data.isTouched = false;\n  data.isMoved = false;\n  data.startMoving = false;\n  let currentPos;\n\n  if (params.followFinger) {\n    currentPos = rtl ? swiper.translate : -swiper.translate;\n  } else {\n    currentPos = -data.currentTranslate;\n  }\n\n  if (params.cssMode) {\n    return;\n  }\n\n  if (swiper.params.freeMode && params.freeMode.enabled) {\n    swiper.freeMode.onTouchEnd({\n      currentPos\n    });\n    return;\n  } // Find current slide\n\n\n  let stopIndex = 0;\n  let groupSize = swiper.slidesSizesGrid[0];\n\n  for (let i = 0; i < slidesGrid.length; i += i < params.slidesPerGroupSkip ? 1 : params.slidesPerGroup) {\n    const increment = i < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n\n    if (typeof slidesGrid[i + increment] !== 'undefined') {\n      if (currentPos >= slidesGrid[i] && currentPos < slidesGrid[i + increment]) {\n        stopIndex = i;\n        groupSize = slidesGrid[i + increment] - slidesGrid[i];\n      }\n    } else if (currentPos >= slidesGrid[i]) {\n      stopIndex = i;\n      groupSize = slidesGrid[slidesGrid.length - 1] - slidesGrid[slidesGrid.length - 2];\n    }\n  } // Find current slide size\n\n\n  const ratio = (currentPos - slidesGrid[stopIndex]) / groupSize;\n  const increment = stopIndex < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n\n  if (timeDiff > params.longSwipesMs) {\n    // Long touches\n    if (!params.longSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    if (swiper.swipeDirection === 'next') {\n      if (ratio >= params.longSwipesRatio) swiper.slideTo(stopIndex + increment);else swiper.slideTo(stopIndex);\n    }\n\n    if (swiper.swipeDirection === 'prev') {\n      if (ratio > 1 - params.longSwipesRatio) swiper.slideTo(stopIndex + increment);else swiper.slideTo(stopIndex);\n    }\n  } else {\n    // Short swipes\n    if (!params.shortSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    const isNavButtonTarget = swiper.navigation && (e.target === swiper.navigation.nextEl || e.target === swiper.navigation.prevEl);\n\n    if (!isNavButtonTarget) {\n      if (swiper.swipeDirection === 'next') {\n        swiper.slideTo(stopIndex + increment);\n      }\n\n      if (swiper.swipeDirection === 'prev') {\n        swiper.slideTo(stopIndex);\n      }\n    } else if (e.target === swiper.navigation.nextEl) {\n      swiper.slideTo(stopIndex + increment);\n    } else {\n      swiper.slideTo(stopIndex);\n    }\n  }\n}","export default function onResize() {\n  const swiper = this;\n  const {\n    params,\n    el\n  } = swiper;\n  if (el && el.offsetWidth === 0) return; // Breakpoints\n\n  if (params.breakpoints) {\n    swiper.setBreakpoint();\n  } // Save locks\n\n\n  const {\n    allowSlideNext,\n    allowSlidePrev,\n    snapGrid\n  } = swiper; // Disable locks on resize\n\n  swiper.allowSlideNext = true;\n  swiper.allowSlidePrev = true;\n  swiper.updateSize();\n  swiper.updateSlides();\n  swiper.updateSlidesClasses();\n\n  if ((params.slidesPerView === 'auto' || params.slidesPerView > 1) && swiper.isEnd && !swiper.isBeginning && !swiper.params.centeredSlides) {\n    swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n  } else {\n    swiper.slideTo(swiper.activeIndex, 0, false, true);\n  }\n\n  if (swiper.autoplay && swiper.autoplay.running && swiper.autoplay.paused) {\n    swiper.autoplay.run();\n  } // Return locks after resize\n\n\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n\n  if (swiper.params.watchOverflow && snapGrid !== swiper.snapGrid) {\n    swiper.checkOverflow();\n  }\n}","export default function onClick(e) {\n  const swiper = this;\n  if (!swiper.enabled) return;\n\n  if (!swiper.allowClick) {\n    if (swiper.params.preventClicks) e.preventDefault();\n\n    if (swiper.params.preventClicksPropagation && swiper.animating) {\n      e.stopPropagation();\n      e.stopImmediatePropagation();\n    }\n  }\n}","export default function onScroll() {\n  const swiper = this;\n  const {\n    wrapperEl,\n    rtlTranslate,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  swiper.previousTranslate = swiper.translate;\n\n  if (swiper.isHorizontal()) {\n    swiper.translate = -wrapperEl.scrollLeft;\n  } else {\n    swiper.translate = -wrapperEl.scrollTop;\n  } // eslint-disable-next-line\n\n\n  if (swiper.translate === -0) swiper.translate = 0;\n  swiper.updateActiveIndex();\n  swiper.updateSlidesClasses();\n  let newProgress;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (swiper.translate - swiper.minTranslate()) / translatesDiff;\n  }\n\n  if (newProgress !== swiper.progress) {\n    swiper.updateProgress(rtlTranslate ? -swiper.translate : swiper.translate);\n  }\n\n  swiper.emit('setTranslate', swiper.translate, false);\n}","import { getDocument } from 'ssr-window';\nimport onTouchStart from './onTouchStart.js';\nimport onTouchMove from './onTouchMove.js';\nimport onTouchEnd from './onTouchEnd.js';\nimport onResize from './onResize.js';\nimport onClick from './onClick.js';\nimport onScroll from './onScroll.js';\nlet dummyEventAttached = false;\n\nfunction dummyEventListener() {}\n\nconst events = (swiper, method) => {\n  const document = getDocument();\n  const {\n    params,\n    touchEvents,\n    el,\n    wrapperEl,\n    device,\n    support\n  } = swiper;\n  const capture = !!params.nested;\n  const domMethod = method === 'on' ? 'addEventListener' : 'removeEventListener';\n  const swiperMethod = method; // Touch Events\n\n  if (!support.touch) {\n    el[domMethod](touchEvents.start, swiper.onTouchStart, false);\n    document[domMethod](touchEvents.move, swiper.onTouchMove, capture);\n    document[domMethod](touchEvents.end, swiper.onTouchEnd, false);\n  } else {\n    const passiveListener = touchEvents.start === 'touchstart' && support.passiveListener && params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    el[domMethod](touchEvents.start, swiper.onTouchStart, passiveListener);\n    el[domMethod](touchEvents.move, swiper.onTouchMove, support.passiveListener ? {\n      passive: false,\n      capture\n    } : capture);\n    el[domMethod](touchEvents.end, swiper.onTouchEnd, passiveListener);\n\n    if (touchEvents.cancel) {\n      el[domMethod](touchEvents.cancel, swiper.onTouchEnd, passiveListener);\n    }\n  } // Prevent Links Clicks\n\n\n  if (params.preventClicks || params.preventClicksPropagation) {\n    el[domMethod]('click', swiper.onClick, true);\n  }\n\n  if (params.cssMode) {\n    wrapperEl[domMethod]('scroll', swiper.onScroll);\n  } // Resize handler\n\n\n  if (params.updateOnWindowResize) {\n    swiper[swiperMethod](device.ios || device.android ? 'resize orientationchange observerUpdate' : 'resize observerUpdate', onResize, true);\n  } else {\n    swiper[swiperMethod]('observerUpdate', onResize, true);\n  }\n};\n\nfunction attachEvents() {\n  const swiper = this;\n  const document = getDocument();\n  const {\n    params,\n    support\n  } = swiper;\n  swiper.onTouchStart = onTouchStart.bind(swiper);\n  swiper.onTouchMove = onTouchMove.bind(swiper);\n  swiper.onTouchEnd = onTouchEnd.bind(swiper);\n\n  if (params.cssMode) {\n    swiper.onScroll = onScroll.bind(swiper);\n  }\n\n  swiper.onClick = onClick.bind(swiper);\n\n  if (support.touch && !dummyEventAttached) {\n    document.addEventListener('touchstart', dummyEventListener);\n    dummyEventAttached = true;\n  }\n\n  events(swiper, 'on');\n}\n\nfunction detachEvents() {\n  const swiper = this;\n  events(swiper, 'off');\n}\n\nexport default {\n  attachEvents,\n  detachEvents\n};","import { extend } from '../../shared/utils.js';\n\nconst isGridEnabled = (swiper, params) => {\n  return swiper.grid && params.grid && params.grid.rows > 1;\n};\n\nexport default function setBreakpoint() {\n  const swiper = this;\n  const {\n    activeIndex,\n    initialized,\n    loopedSlides = 0,\n    params,\n    $el\n  } = swiper;\n  const breakpoints = params.breakpoints;\n  if (!breakpoints || breakpoints && Object.keys(breakpoints).length === 0) return; // Get breakpoint for window width and update parameters\n\n  const breakpoint = swiper.getBreakpoint(breakpoints, swiper.params.breakpointsBase, swiper.el);\n  if (!breakpoint || swiper.currentBreakpoint === breakpoint) return;\n  const breakpointOnlyParams = breakpoint in breakpoints ? breakpoints[breakpoint] : undefined;\n  const breakpointParams = breakpointOnlyParams || swiper.originalParams;\n  const wasMultiRow = isGridEnabled(swiper, params);\n  const isMultiRow = isGridEnabled(swiper, breakpointParams);\n  const wasEnabled = params.enabled;\n\n  if (wasMultiRow && !isMultiRow) {\n    $el.removeClass(`${params.containerModifierClass}grid ${params.containerModifierClass}grid-column`);\n    swiper.emitContainerClasses();\n  } else if (!wasMultiRow && isMultiRow) {\n    $el.addClass(`${params.containerModifierClass}grid`);\n\n    if (breakpointParams.grid.fill && breakpointParams.grid.fill === 'column' || !breakpointParams.grid.fill && params.grid.fill === 'column') {\n      $el.addClass(`${params.containerModifierClass}grid-column`);\n    }\n\n    swiper.emitContainerClasses();\n  }\n\n  const directionChanged = breakpointParams.direction && breakpointParams.direction !== params.direction;\n  const needsReLoop = params.loop && (breakpointParams.slidesPerView !== params.slidesPerView || directionChanged);\n\n  if (directionChanged && initialized) {\n    swiper.changeDirection();\n  }\n\n  extend(swiper.params, breakpointParams);\n  const isEnabled = swiper.params.enabled;\n  Object.assign(swiper, {\n    allowTouchMove: swiper.params.allowTouchMove,\n    allowSlideNext: swiper.params.allowSlideNext,\n    allowSlidePrev: swiper.params.allowSlidePrev\n  });\n\n  if (wasEnabled && !isEnabled) {\n    swiper.disable();\n  } else if (!wasEnabled && isEnabled) {\n    swiper.enable();\n  }\n\n  swiper.currentBreakpoint = breakpoint;\n  swiper.emit('_beforeBreakpoint', breakpointParams);\n\n  if (needsReLoop && initialized) {\n    swiper.loopDestroy();\n    swiper.loopCreate();\n    swiper.updateSlides();\n    swiper.slideTo(activeIndex - loopedSlides + swiper.loopedSlides, 0, false);\n  }\n\n  swiper.emit('breakpoint', breakpointParams);\n}","import addClasses from './addClasses.js';\nimport removeClasses from './removeClasses.js';\nexport default {\n  addClasses,\n  removeClasses\n};","function prepareClasses(entries, prefix) {\n  const resultClasses = [];\n  entries.forEach(item => {\n    if (typeof item === 'object') {\n      Object.keys(item).forEach(classNames => {\n        if (item[classNames]) {\n          resultClasses.push(prefix + classNames);\n        }\n      });\n    } else if (typeof item === 'string') {\n      resultClasses.push(prefix + item);\n    }\n  });\n  return resultClasses;\n}\n\nexport default function addClasses() {\n  const swiper = this;\n  const {\n    classNames,\n    params,\n    rtl,\n    $el,\n    device,\n    support\n  } = swiper; // prettier-ignore\n\n  const suffixes = prepareClasses(['initialized', params.direction, {\n    'pointer-events': !support.touch\n  }, {\n    'free-mode': swiper.params.freeMode && params.freeMode.enabled\n  }, {\n    'autoheight': params.autoHeight\n  }, {\n    'rtl': rtl\n  }, {\n    'grid': params.grid && params.grid.rows > 1\n  }, {\n    'grid-column': params.grid && params.grid.rows > 1 && params.grid.fill === 'column'\n  }, {\n    'android': device.android\n  }, {\n    'ios': device.ios\n  }, {\n    'css-mode': params.cssMode\n  }, {\n    'centered': params.cssMode && params.centeredSlides\n  }], params.containerModifierClass);\n  classNames.push(...suffixes);\n  $el.addClass([...classNames].join(' '));\n  swiper.emitContainerClasses();\n}","export default function removeClasses() {\n  const swiper = this;\n  const {\n    $el,\n    classNames\n  } = swiper;\n  $el.removeClass(classNames.join(' '));\n  swiper.emitContainerClasses();\n}","export default {\n  init: true,\n  direction: 'horizontal',\n  touchEventsTarget: 'wrapper',\n  initialSlide: 0,\n  speed: 300,\n  cssMode: false,\n  updateOnWindowResize: true,\n  resizeObserver: true,\n  nested: false,\n  createElements: false,\n  enabled: true,\n  focusableElements: 'input, select, option, textarea, button, video, label',\n  // Overrides\n  width: null,\n  height: null,\n  //\n  preventInteractionOnTransition: false,\n  // ssr\n  userAgent: null,\n  url: null,\n  // To support iOS's swipe-to-go-back gesture (when being used in-app).\n  edgeSwipeDetection: false,\n  edgeSwipeThreshold: 20,\n  // Autoheight\n  autoHeight: false,\n  // Set wrapper width\n  setWrapperSize: false,\n  // Virtual Translate\n  virtualTranslate: false,\n  // Effects\n  effect: 'slide',\n  // 'slide' or 'fade' or 'cube' or 'coverflow' or 'flip'\n  // Breakpoints\n  breakpoints: undefined,\n  breakpointsBase: 'window',\n  // Slides grid\n  spaceBetween: 0,\n  slidesPerView: 1,\n  slidesPerGroup: 1,\n  slidesPerGroupSkip: 0,\n  slidesPerGroupAuto: false,\n  centeredSlides: false,\n  centeredSlidesBounds: false,\n  slidesOffsetBefore: 0,\n  // in px\n  slidesOffsetAfter: 0,\n  // in px\n  normalizeSlideIndex: true,\n  centerInsufficientSlides: false,\n  // Disable swiper and hide navigation when container not overflow\n  watchOverflow: true,\n  // Round length\n  roundLengths: false,\n  // Touches\n  touchRatio: 1,\n  touchAngle: 45,\n  simulateTouch: true,\n  shortSwipes: true,\n  longSwipes: true,\n  longSwipesRatio: 0.5,\n  longSwipesMs: 300,\n  followFinger: true,\n  allowTouchMove: true,\n  threshold: 0,\n  touchMoveStopPropagation: false,\n  touchStartPreventDefault: true,\n  touchStartForcePreventDefault: false,\n  touchReleaseOnEdges: false,\n  // Unique Navigation Elements\n  uniqueNavElements: true,\n  // Resistance\n  resistance: true,\n  resistanceRatio: 0.85,\n  // Progress\n  watchSlidesProgress: false,\n  // Cursor\n  grabCursor: false,\n  // Clicks\n  preventClicks: true,\n  preventClicksPropagation: true,\n  slideToClickedSlide: false,\n  // Images\n  preloadImages: true,\n  updateOnImagesReady: true,\n  // loop\n  loop: false,\n  loopAdditionalSlides: 0,\n  loopedSlides: null,\n  loopFillGroupWithBlank: false,\n  loopPreventsSlide: true,\n  // rewind\n  rewind: false,\n  // Swiping/no swiping\n  allowSlidePrev: true,\n  allowSlideNext: true,\n  swipeHandler: null,\n  // '.swipe-handler',\n  noSwiping: true,\n  noSwipingClass: 'swiper-no-swiping',\n  noSwipingSelector: null,\n  // Passive Listeners\n  passiveListeners: true,\n  // NS\n  containerModifierClass: 'swiper-',\n  // NEW\n  slideClass: 'swiper-slide',\n  slideBlankClass: 'swiper-slide-invisible-blank',\n  slideActiveClass: 'swiper-slide-active',\n  slideDuplicateActiveClass: 'swiper-slide-duplicate-active',\n  slideVisibleClass: 'swiper-slide-visible',\n  slideDuplicateClass: 'swiper-slide-duplicate',\n  slideNextClass: 'swiper-slide-next',\n  slideDuplicateNextClass: 'swiper-slide-duplicate-next',\n  slidePrevClass: 'swiper-slide-prev',\n  slideDuplicatePrevClass: 'swiper-slide-duplicate-prev',\n  wrapperClass: 'swiper-wrapper',\n  // Callbacks\n  runCallbacksOnInit: true,\n  // Internals\n  _emitClasses: false\n};","import { extend } from '../shared/utils.js';\nexport default function moduleExtendParams(params, allModulesParams) {\n  return function extendParams(obj = {}) {\n    const moduleParamName = Object.keys(obj)[0];\n    const moduleParams = obj[moduleParamName];\n\n    if (typeof moduleParams !== 'object' || moduleParams === null) {\n      extend(allModulesParams, obj);\n      return;\n    }\n\n    if (['navigation', 'pagination', 'scrollbar'].indexOf(moduleParamName) >= 0 && params[moduleParamName] === true) {\n      params[moduleParamName] = {\n        auto: true\n      };\n    }\n\n    if (!(moduleParamName in params && 'enabled' in moduleParams)) {\n      extend(allModulesParams, obj);\n      return;\n    }\n\n    if (params[moduleParamName] === true) {\n      params[moduleParamName] = {\n        enabled: true\n      };\n    }\n\n    if (typeof params[moduleParamName] === 'object' && !('enabled' in params[moduleParamName])) {\n      params[moduleParamName].enabled = true;\n    }\n\n    if (!params[moduleParamName]) params[moduleParamName] = {\n      enabled: false\n    };\n    extend(allModulesParams, obj);\n  };\n}","/* eslint no-param-reassign: \"off\" */\nimport { getDocument } from 'ssr-window';\nimport $ from '../shared/dom.js';\nimport { extend, now, deleteProps } from '../shared/utils.js';\nimport { getSupport } from '../shared/get-support.js';\nimport { getDevice } from '../shared/get-device.js';\nimport { getBrowser } from '../shared/get-browser.js';\nimport Resize from './modules/resize/resize.js';\nimport Observer from './modules/observer/observer.js';\nimport eventsEmitter from './events-emitter.js';\nimport update from './update/index.js';\nimport translate from './translate/index.js';\nimport transition from './transition/index.js';\nimport slide from './slide/index.js';\nimport loop from './loop/index.js';\nimport grabCursor from './grab-cursor/index.js';\nimport events from './events/index.js';\nimport breakpoints from './breakpoints/index.js';\nimport classes from './classes/index.js';\nimport images from './images/index.js';\nimport checkOverflow from './check-overflow/index.js';\nimport defaults from './defaults.js';\nimport moduleExtendParams from './moduleExtendParams.js';\nconst prototypes = {\n  eventsEmitter,\n  update,\n  translate,\n  transition,\n  slide,\n  loop,\n  grabCursor,\n  events,\n  breakpoints,\n  checkOverflow,\n  classes,\n  images\n};\nconst extendedDefaults = {};\n\nclass Swiper {\n  constructor(...args) {\n    let el;\n    let params;\n\n    if (args.length === 1 && args[0].constructor && Object.prototype.toString.call(args[0]).slice(8, -1) === 'Object') {\n      params = args[0];\n    } else {\n      [el, params] = args;\n    }\n\n    if (!params) params = {};\n    params = extend({}, params);\n    if (el && !params.el) params.el = el;\n\n    if (params.el && $(params.el).length > 1) {\n      const swipers = [];\n      $(params.el).each(containerEl => {\n        const newParams = extend({}, params, {\n          el: containerEl\n        });\n        swipers.push(new Swiper(newParams));\n      });\n      return swipers;\n    } // Swiper Instance\n\n\n    const swiper = this;\n    swiper.__swiper__ = true;\n    swiper.support = getSupport();\n    swiper.device = getDevice({\n      userAgent: params.userAgent\n    });\n    swiper.browser = getBrowser();\n    swiper.eventsListeners = {};\n    swiper.eventsAnyListeners = [];\n    swiper.modules = [...swiper.__modules__];\n\n    if (params.modules && Array.isArray(params.modules)) {\n      swiper.modules.push(...params.modules);\n    }\n\n    const allModulesParams = {};\n    swiper.modules.forEach(mod => {\n      mod({\n        swiper,\n        extendParams: moduleExtendParams(params, allModulesParams),\n        on: swiper.on.bind(swiper),\n        once: swiper.once.bind(swiper),\n        off: swiper.off.bind(swiper),\n        emit: swiper.emit.bind(swiper)\n      });\n    }); // Extend defaults with modules params\n\n    const swiperParams = extend({}, defaults, allModulesParams); // Extend defaults with passed params\n\n    swiper.params = extend({}, swiperParams, extendedDefaults, params);\n    swiper.originalParams = extend({}, swiper.params);\n    swiper.passedParams = extend({}, params); // add event listeners\n\n    if (swiper.params && swiper.params.on) {\n      Object.keys(swiper.params.on).forEach(eventName => {\n        swiper.on(eventName, swiper.params.on[eventName]);\n      });\n    }\n\n    if (swiper.params && swiper.params.onAny) {\n      swiper.onAny(swiper.params.onAny);\n    } // Save Dom lib\n\n\n    swiper.$ = $; // Extend Swiper\n\n    Object.assign(swiper, {\n      enabled: swiper.params.enabled,\n      el,\n      // Classes\n      classNames: [],\n      // Slides\n      slides: $(),\n      slidesGrid: [],\n      snapGrid: [],\n      slidesSizesGrid: [],\n\n      // isDirection\n      isHorizontal() {\n        return swiper.params.direction === 'horizontal';\n      },\n\n      isVertical() {\n        return swiper.params.direction === 'vertical';\n      },\n\n      // Indexes\n      activeIndex: 0,\n      realIndex: 0,\n      //\n      isBeginning: true,\n      isEnd: false,\n      // Props\n      translate: 0,\n      previousTranslate: 0,\n      progress: 0,\n      velocity: 0,\n      animating: false,\n      // Locks\n      allowSlideNext: swiper.params.allowSlideNext,\n      allowSlidePrev: swiper.params.allowSlidePrev,\n      // Touch Events\n      touchEvents: function touchEvents() {\n        const touch = ['touchstart', 'touchmove', 'touchend', 'touchcancel'];\n        const desktop = ['pointerdown', 'pointermove', 'pointerup'];\n        swiper.touchEventsTouch = {\n          start: touch[0],\n          move: touch[1],\n          end: touch[2],\n          cancel: touch[3]\n        };\n        swiper.touchEventsDesktop = {\n          start: desktop[0],\n          move: desktop[1],\n          end: desktop[2]\n        };\n        return swiper.support.touch || !swiper.params.simulateTouch ? swiper.touchEventsTouch : swiper.touchEventsDesktop;\n      }(),\n      touchEventsData: {\n        isTouched: undefined,\n        isMoved: undefined,\n        allowTouchCallbacks: undefined,\n        touchStartTime: undefined,\n        isScrolling: undefined,\n        currentTranslate: undefined,\n        startTranslate: undefined,\n        allowThresholdMove: undefined,\n        // Form elements to match\n        focusableElements: swiper.params.focusableElements,\n        // Last click time\n        lastClickTime: now(),\n        clickTimeout: undefined,\n        // Velocities\n        velocities: [],\n        allowMomentumBounce: undefined,\n        isTouchEvent: undefined,\n        startMoving: undefined\n      },\n      // Clicks\n      allowClick: true,\n      // Touches\n      allowTouchMove: swiper.params.allowTouchMove,\n      touches: {\n        startX: 0,\n        startY: 0,\n        currentX: 0,\n        currentY: 0,\n        diff: 0\n      },\n      // Images\n      imagesToLoad: [],\n      imagesLoaded: 0\n    });\n    swiper.emit('_swiper'); // Init\n\n    if (swiper.params.init) {\n      swiper.init();\n    } // Return app instance\n\n\n    return swiper;\n  }\n\n  enable() {\n    const swiper = this;\n    if (swiper.enabled) return;\n    swiper.enabled = true;\n\n    if (swiper.params.grabCursor) {\n      swiper.setGrabCursor();\n    }\n\n    swiper.emit('enable');\n  }\n\n  disable() {\n    const swiper = this;\n    if (!swiper.enabled) return;\n    swiper.enabled = false;\n\n    if (swiper.params.grabCursor) {\n      swiper.unsetGrabCursor();\n    }\n\n    swiper.emit('disable');\n  }\n\n  setProgress(progress, speed) {\n    const swiper = this;\n    progress = Math.min(Math.max(progress, 0), 1);\n    const min = swiper.minTranslate();\n    const max = swiper.maxTranslate();\n    const current = (max - min) * progress + min;\n    swiper.translateTo(current, typeof speed === 'undefined' ? 0 : speed);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  emitContainerClasses() {\n    const swiper = this;\n    if (!swiper.params._emitClasses || !swiper.el) return;\n    const cls = swiper.el.className.split(' ').filter(className => {\n      return className.indexOf('swiper') === 0 || className.indexOf(swiper.params.containerModifierClass) === 0;\n    });\n    swiper.emit('_containerClasses', cls.join(' '));\n  }\n\n  getSlideClasses(slideEl) {\n    const swiper = this;\n    return slideEl.className.split(' ').filter(className => {\n      return className.indexOf('swiper-slide') === 0 || className.indexOf(swiper.params.slideClass) === 0;\n    }).join(' ');\n  }\n\n  emitSlidesClasses() {\n    const swiper = this;\n    if (!swiper.params._emitClasses || !swiper.el) return;\n    const updates = [];\n    swiper.slides.each(slideEl => {\n      const classNames = swiper.getSlideClasses(slideEl);\n      updates.push({\n        slideEl,\n        classNames\n      });\n      swiper.emit('_slideClass', slideEl, classNames);\n    });\n    swiper.emit('_slideClasses', updates);\n  }\n\n  slidesPerViewDynamic(view = 'current', exact = false) {\n    const swiper = this;\n    const {\n      params,\n      slides,\n      slidesGrid,\n      slidesSizesGrid,\n      size: swiperSize,\n      activeIndex\n    } = swiper;\n    let spv = 1;\n\n    if (params.centeredSlides) {\n      let slideSize = slides[activeIndex].swiperSlideSize;\n      let breakLoop;\n\n      for (let i = activeIndex + 1; i < slides.length; i += 1) {\n        if (slides[i] && !breakLoop) {\n          slideSize += slides[i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n\n      for (let i = activeIndex - 1; i >= 0; i -= 1) {\n        if (slides[i] && !breakLoop) {\n          slideSize += slides[i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n    } else {\n      // eslint-disable-next-line\n      if (view === 'current') {\n        for (let i = activeIndex + 1; i < slides.length; i += 1) {\n          const slideInView = exact ? slidesGrid[i] + slidesSizesGrid[i] - slidesGrid[activeIndex] < swiperSize : slidesGrid[i] - slidesGrid[activeIndex] < swiperSize;\n\n          if (slideInView) {\n            spv += 1;\n          }\n        }\n      } else {\n        // previous\n        for (let i = activeIndex - 1; i >= 0; i -= 1) {\n          const slideInView = slidesGrid[activeIndex] - slidesGrid[i] < swiperSize;\n\n          if (slideInView) {\n            spv += 1;\n          }\n        }\n      }\n    }\n\n    return spv;\n  }\n\n  update() {\n    const swiper = this;\n    if (!swiper || swiper.destroyed) return;\n    const {\n      snapGrid,\n      params\n    } = swiper; // Breakpoints\n\n    if (params.breakpoints) {\n      swiper.setBreakpoint();\n    }\n\n    swiper.updateSize();\n    swiper.updateSlides();\n    swiper.updateProgress();\n    swiper.updateSlidesClasses();\n\n    function setTranslate() {\n      const translateValue = swiper.rtlTranslate ? swiper.translate * -1 : swiper.translate;\n      const newTranslate = Math.min(Math.max(translateValue, swiper.maxTranslate()), swiper.minTranslate());\n      swiper.setTranslate(newTranslate);\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n\n    let translated;\n\n    if (swiper.params.freeMode && swiper.params.freeMode.enabled) {\n      setTranslate();\n\n      if (swiper.params.autoHeight) {\n        swiper.updateAutoHeight();\n      }\n    } else {\n      if ((swiper.params.slidesPerView === 'auto' || swiper.params.slidesPerView > 1) && swiper.isEnd && !swiper.params.centeredSlides) {\n        translated = swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n      } else {\n        translated = swiper.slideTo(swiper.activeIndex, 0, false, true);\n      }\n\n      if (!translated) {\n        setTranslate();\n      }\n    }\n\n    if (params.watchOverflow && snapGrid !== swiper.snapGrid) {\n      swiper.checkOverflow();\n    }\n\n    swiper.emit('update');\n  }\n\n  changeDirection(newDirection, needUpdate = true) {\n    const swiper = this;\n    const currentDirection = swiper.params.direction;\n\n    if (!newDirection) {\n      // eslint-disable-next-line\n      newDirection = currentDirection === 'horizontal' ? 'vertical' : 'horizontal';\n    }\n\n    if (newDirection === currentDirection || newDirection !== 'horizontal' && newDirection !== 'vertical') {\n      return swiper;\n    }\n\n    swiper.$el.removeClass(`${swiper.params.containerModifierClass}${currentDirection}`).addClass(`${swiper.params.containerModifierClass}${newDirection}`);\n    swiper.emitContainerClasses();\n    swiper.params.direction = newDirection;\n    swiper.slides.each(slideEl => {\n      if (newDirection === 'vertical') {\n        slideEl.style.width = '';\n      } else {\n        slideEl.style.height = '';\n      }\n    });\n    swiper.emit('changeDirection');\n    if (needUpdate) swiper.update();\n    return swiper;\n  }\n\n  mount(el) {\n    const swiper = this;\n    if (swiper.mounted) return true; // Find el\n\n    const $el = $(el || swiper.params.el);\n    el = $el[0];\n\n    if (!el) {\n      return false;\n    }\n\n    el.swiper = swiper;\n\n    const getWrapperSelector = () => {\n      return `.${(swiper.params.wrapperClass || '').trim().split(' ').join('.')}`;\n    };\n\n    const getWrapper = () => {\n      if (el && el.shadowRoot && el.shadowRoot.querySelector) {\n        const res = $(el.shadowRoot.querySelector(getWrapperSelector())); // Children needs to return slot items\n\n        res.children = options => $el.children(options);\n\n        return res;\n      }\n\n      return $el.children(getWrapperSelector());\n    }; // Find Wrapper\n\n\n    let $wrapperEl = getWrapper();\n\n    if ($wrapperEl.length === 0 && swiper.params.createElements) {\n      const document = getDocument();\n      const wrapper = document.createElement('div');\n      $wrapperEl = $(wrapper);\n      wrapper.className = swiper.params.wrapperClass;\n      $el.append(wrapper);\n      $el.children(`.${swiper.params.slideClass}`).each(slideEl => {\n        $wrapperEl.append(slideEl);\n      });\n    }\n\n    Object.assign(swiper, {\n      $el,\n      el,\n      $wrapperEl,\n      wrapperEl: $wrapperEl[0],\n      mounted: true,\n      // RTL\n      rtl: el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl',\n      rtlTranslate: swiper.params.direction === 'horizontal' && (el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl'),\n      wrongRTL: $wrapperEl.css('display') === '-webkit-box'\n    });\n    return true;\n  }\n\n  init(el) {\n    const swiper = this;\n    if (swiper.initialized) return swiper;\n    const mounted = swiper.mount(el);\n    if (mounted === false) return swiper;\n    swiper.emit('beforeInit'); // Set breakpoint\n\n    if (swiper.params.breakpoints) {\n      swiper.setBreakpoint();\n    } // Add Classes\n\n\n    swiper.addClasses(); // Create loop\n\n    if (swiper.params.loop) {\n      swiper.loopCreate();\n    } // Update size\n\n\n    swiper.updateSize(); // Update slides\n\n    swiper.updateSlides();\n\n    if (swiper.params.watchOverflow) {\n      swiper.checkOverflow();\n    } // Set Grab Cursor\n\n\n    if (swiper.params.grabCursor && swiper.enabled) {\n      swiper.setGrabCursor();\n    }\n\n    if (swiper.params.preloadImages) {\n      swiper.preloadImages();\n    } // Slide To Initial Slide\n\n\n    if (swiper.params.loop) {\n      swiper.slideTo(swiper.params.initialSlide + swiper.loopedSlides, 0, swiper.params.runCallbacksOnInit, false, true);\n    } else {\n      swiper.slideTo(swiper.params.initialSlide, 0, swiper.params.runCallbacksOnInit, false, true);\n    } // Attach events\n\n\n    swiper.attachEvents(); // Init Flag\n\n    swiper.initialized = true; // Emit\n\n    swiper.emit('init');\n    swiper.emit('afterInit');\n    return swiper;\n  }\n\n  destroy(deleteInstance = true, cleanStyles = true) {\n    const swiper = this;\n    const {\n      params,\n      $el,\n      $wrapperEl,\n      slides\n    } = swiper;\n\n    if (typeof swiper.params === 'undefined' || swiper.destroyed) {\n      return null;\n    }\n\n    swiper.emit('beforeDestroy'); // Init Flag\n\n    swiper.initialized = false; // Detach events\n\n    swiper.detachEvents(); // Destroy loop\n\n    if (params.loop) {\n      swiper.loopDestroy();\n    } // Cleanup styles\n\n\n    if (cleanStyles) {\n      swiper.removeClasses();\n      $el.removeAttr('style');\n      $wrapperEl.removeAttr('style');\n\n      if (slides && slides.length) {\n        slides.removeClass([params.slideVisibleClass, params.slideActiveClass, params.slideNextClass, params.slidePrevClass].join(' ')).removeAttr('style').removeAttr('data-swiper-slide-index');\n      }\n    }\n\n    swiper.emit('destroy'); // Detach emitter events\n\n    Object.keys(swiper.eventsListeners).forEach(eventName => {\n      swiper.off(eventName);\n    });\n\n    if (deleteInstance !== false) {\n      swiper.$el[0].swiper = null;\n      deleteProps(swiper);\n    }\n\n    swiper.destroyed = true;\n    return null;\n  }\n\n  static extendDefaults(newDefaults) {\n    extend(extendedDefaults, newDefaults);\n  }\n\n  static get extendedDefaults() {\n    return extendedDefaults;\n  }\n\n  static get defaults() {\n    return defaults;\n  }\n\n  static installModule(mod) {\n    if (!Swiper.prototype.__modules__) Swiper.prototype.__modules__ = [];\n    const modules = Swiper.prototype.__modules__;\n\n    if (typeof mod === 'function' && modules.indexOf(mod) < 0) {\n      modules.push(mod);\n    }\n  }\n\n  static use(module) {\n    if (Array.isArray(module)) {\n      module.forEach(m => Swiper.installModule(m));\n      return Swiper;\n    }\n\n    Swiper.installModule(module);\n    return Swiper;\n  }\n\n}\n\nObject.keys(prototypes).forEach(prototypeGroup => {\n  Object.keys(prototypes[prototypeGroup]).forEach(protoMethod => {\n    Swiper.prototype[protoMethod] = prototypes[prototypeGroup][protoMethod];\n  });\n});\nSwiper.use([Resize, Observer]);\nexport default Swiper;","import getTranslate from './getTranslate.js';\nimport setTranslate from './setTranslate.js';\nimport minTranslate from './minTranslate.js';\nimport maxTranslate from './maxTranslate.js';\nimport translateTo from './translateTo.js';\nexport default {\n  getTranslate,\n  setTranslate,\n  minTranslate,\n  maxTranslate,\n  translateTo\n};","import { getTranslate } from '../../shared/utils.js';\nexport default function getSwiperTranslate(axis = this.isHorizontal() ? 'x' : 'y') {\n  const swiper = this;\n  const {\n    params,\n    rtlTranslate: rtl,\n    translate,\n    $wrapperEl\n  } = swiper;\n\n  if (params.virtualTranslate) {\n    return rtl ? -translate : translate;\n  }\n\n  if (params.cssMode) {\n    return translate;\n  }\n\n  let currentTranslate = getTranslate($wrapperEl[0], axis);\n  if (rtl) currentTranslate = -currentTranslate;\n  return currentTranslate || 0;\n}","export default function setTranslate(translate, byController) {\n  const swiper = this;\n  const {\n    rtlTranslate: rtl,\n    params,\n    $wrapperEl,\n    wrapperEl,\n    progress\n  } = swiper;\n  let x = 0;\n  let y = 0;\n  const z = 0;\n\n  if (swiper.isHorizontal()) {\n    x = rtl ? -translate : translate;\n  } else {\n    y = translate;\n  }\n\n  if (params.roundLengths) {\n    x = Math.floor(x);\n    y = Math.floor(y);\n  }\n\n  if (params.cssMode) {\n    wrapperEl[swiper.isHorizontal() ? 'scrollLeft' : 'scrollTop'] = swiper.isHorizontal() ? -x : -y;\n  } else if (!params.virtualTranslate) {\n    $wrapperEl.transform(`translate3d(${x}px, ${y}px, ${z}px)`);\n  }\n\n  swiper.previousTranslate = swiper.translate;\n  swiper.translate = swiper.isHorizontal() ? x : y; // Check if we need to update progress\n\n  let newProgress;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (translate - swiper.minTranslate()) / translatesDiff;\n  }\n\n  if (newProgress !== progress) {\n    swiper.updateProgress(translate);\n  }\n\n  swiper.emit('setTranslate', swiper.translate, byController);\n}","export default function minTranslate() {\n  return -this.snapGrid[0];\n}","export default function maxTranslate() {\n  return -this.snapGrid[this.snapGrid.length - 1];\n}","import { animateCSSModeScroll } from '../../shared/utils.js';\nexport default function translateTo(translate = 0, speed = this.params.speed, runCallbacks = true, translateBounds = true, internal) {\n  const swiper = this;\n  const {\n    params,\n    wrapperEl\n  } = swiper;\n\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return false;\n  }\n\n  const minTranslate = swiper.minTranslate();\n  const maxTranslate = swiper.maxTranslate();\n  let newTranslate;\n  if (translateBounds && translate > minTranslate) newTranslate = minTranslate;else if (translateBounds && translate < maxTranslate) newTranslate = maxTranslate;else newTranslate = translate; // Update progress\n\n  swiper.updateProgress(newTranslate);\n\n  if (params.cssMode) {\n    const isH = swiper.isHorizontal();\n\n    if (speed === 0) {\n      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = -newTranslate;\n    } else {\n      if (!swiper.support.smoothScroll) {\n        animateCSSModeScroll({\n          swiper,\n          targetPosition: -newTranslate,\n          side: isH ? 'left' : 'top'\n        });\n        return true;\n      }\n\n      wrapperEl.scrollTo({\n        [isH ? 'left' : 'top']: -newTranslate,\n        behavior: 'smooth'\n      });\n    }\n\n    return true;\n  }\n\n  if (speed === 0) {\n    swiper.setTransition(0);\n    swiper.setTranslate(newTranslate);\n\n    if (runCallbacks) {\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.emit('transitionEnd');\n    }\n  } else {\n    swiper.setTransition(speed);\n    swiper.setTranslate(newTranslate);\n\n    if (runCallbacks) {\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.emit('transitionStart');\n    }\n\n    if (!swiper.animating) {\n      swiper.animating = true;\n\n      if (!swiper.onTranslateToWrapperTransitionEnd) {\n        swiper.onTranslateToWrapperTransitionEnd = function transitionEnd(e) {\n          if (!swiper || swiper.destroyed) return;\n          if (e.target !== this) return;\n          swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n          swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);\n          swiper.onTranslateToWrapperTransitionEnd = null;\n          delete swiper.onTranslateToWrapperTransitionEnd;\n\n          if (runCallbacks) {\n            swiper.emit('transitionEnd');\n          }\n        };\n      }\n\n      swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n      swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);\n    }\n  }\n\n  return true;\n}","import setTransition from './setTransition.js';\nimport transitionStart from './transitionStart.js';\nimport transitionEnd from './transitionEnd.js';\nexport default {\n  setTransition,\n  transitionStart,\n  transitionEnd\n};","export default function setTransition(duration, byController) {\n  const swiper = this;\n\n  if (!swiper.params.cssMode) {\n    swiper.$wrapperEl.transition(duration);\n  }\n\n  swiper.emit('setTransition', duration, byController);\n}","import transitionEmit from './transitionEmit.js';\nexport default function transitionStart(runCallbacks = true, direction) {\n  const swiper = this;\n  const {\n    params\n  } = swiper;\n  if (params.cssMode) return;\n\n  if (params.autoHeight) {\n    swiper.updateAutoHeight();\n  }\n\n  transitionEmit({\n    swiper,\n    runCallbacks,\n    direction,\n    step: 'Start'\n  });\n}","import transitionEmit from './transitionEmit.js';\nexport default function transitionEnd(runCallbacks = true, direction) {\n  const swiper = this;\n  const {\n    params\n  } = swiper;\n  swiper.animating = false;\n  if (params.cssMode) return;\n  swiper.setTransition(0);\n  transitionEmit({\n    swiper,\n    runCallbacks,\n    direction,\n    step: 'End'\n  });\n}","import setGrabCursor from './setGrabCursor.js';\nimport unsetGrabCursor from './unsetGrabCursor.js';\nexport default {\n  setGrabCursor,\n  unsetGrabCursor\n};","export default function setGrabCursor(moving) {\n  const swiper = this;\n  if (swiper.support.touch || !swiper.params.simulateTouch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) return;\n  const el = swiper.params.touchEventsTarget === 'container' ? swiper.el : swiper.wrapperEl;\n  el.style.cursor = 'move';\n  el.style.cursor = moving ? '-webkit-grabbing' : '-webkit-grab';\n  el.style.cursor = moving ? '-moz-grabbin' : '-moz-grab';\n  el.style.cursor = moving ? 'grabbing' : 'grab';\n}","export default function unsetGrabCursor() {\n  const swiper = this;\n\n  if (swiper.support.touch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) {\n    return;\n  }\n\n  swiper[swiper.params.touchEventsTarget === 'container' ? 'el' : 'wrapperEl'].style.cursor = '';\n}","import setBreakpoint from './setBreakpoint.js';\nimport getBreakpoint from './getBreakpoint.js';\nexport default {\n  setBreakpoint,\n  getBreakpoint\n};","import { getWindow } from 'ssr-window';\nexport default function getBreakpoint(breakpoints, base = 'window', containerEl) {\n  if (!breakpoints || base === 'container' && !containerEl) return undefined;\n  let breakpoint = false;\n  const window = getWindow();\n  const currentHeight = base === 'window' ? window.innerHeight : containerEl.clientHeight;\n  const points = Object.keys(breakpoints).map(point => {\n    if (typeof point === 'string' && point.indexOf('@') === 0) {\n      const minRatio = parseFloat(point.substr(1));\n      const value = currentHeight * minRatio;\n      return {\n        value,\n        point\n      };\n    }\n\n    return {\n      value: point,\n      point\n    };\n  });\n  points.sort((a, b) => parseInt(a.value, 10) - parseInt(b.value, 10));\n\n  for (let i = 0; i < points.length; i += 1) {\n    const {\n      point,\n      value\n    } = points[i];\n\n    if (base === 'window') {\n      if (window.matchMedia(`(min-width: ${value}px)`).matches) {\n        breakpoint = point;\n      }\n    } else if (value <= containerEl.clientWidth) {\n      breakpoint = point;\n    }\n  }\n\n  return breakpoint || 'max';\n}","function checkOverflow() {\n  const swiper = this;\n  const {\n    isLocked: wasLocked,\n    params\n  } = swiper;\n  const {\n    slidesOffsetBefore\n  } = params;\n\n  if (slidesOffsetBefore) {\n    const lastSlideIndex = swiper.slides.length - 1;\n    const lastSlideRightEdge = swiper.slidesGrid[lastSlideIndex] + swiper.slidesSizesGrid[lastSlideIndex] + slidesOffsetBefore * 2;\n    swiper.isLocked = swiper.size > lastSlideRightEdge;\n  } else {\n    swiper.isLocked = swiper.snapGrid.length === 1;\n  }\n\n  if (params.allowSlideNext === true) {\n    swiper.allowSlideNext = !swiper.isLocked;\n  }\n\n  if (params.allowSlidePrev === true) {\n    swiper.allowSlidePrev = !swiper.isLocked;\n  }\n\n  if (wasLocked && wasLocked !== swiper.isLocked) {\n    swiper.isEnd = false;\n  }\n\n  if (wasLocked !== swiper.isLocked) {\n    swiper.emit(swiper.isLocked ? 'lock' : 'unlock');\n  }\n}\n\nexport default {\n  checkOverflow\n};","import loadImage from './loadImage.js';\nimport preloadImages from './preloadImages.js';\nexport default {\n  loadImage,\n  preloadImages\n};","import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function loadImage(imageEl, src, srcset, sizes, checkForComplete, callback) {\n  const window = getWindow();\n  let image;\n\n  function onReady() {\n    if (callback) callback();\n  }\n\n  const isPicture = $(imageEl).parent('picture')[0];\n\n  if (!isPicture && (!imageEl.complete || !checkForComplete)) {\n    if (src) {\n      image = new window.Image();\n      image.onload = onReady;\n      image.onerror = onReady;\n\n      if (sizes) {\n        image.sizes = sizes;\n      }\n\n      if (srcset) {\n        image.srcset = srcset;\n      }\n\n      if (src) {\n        image.src = src;\n      }\n    } else {\n      onReady();\n    }\n  } else {\n    // image already loaded...\n    onReady();\n  }\n}","export default function preloadImages() {\n  const swiper = this;\n  swiper.imagesToLoad = swiper.$el.find('img');\n\n  function onReady() {\n    if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper.destroyed) return;\n    if (swiper.imagesLoaded !== undefined) swiper.imagesLoaded += 1;\n\n    if (swiper.imagesLoaded === swiper.imagesToLoad.length) {\n      if (swiper.params.updateOnImagesReady) swiper.update();\n      swiper.emit('imagesReady');\n    }\n  }\n\n  for (let i = 0; i < swiper.imagesToLoad.length; i += 1) {\n    const imageEl = swiper.imagesToLoad[i];\n    swiper.loadImage(imageEl, imageEl.currentSrc || imageEl.getAttribute('src'), imageEl.srcset || imageEl.getAttribute('srcset'), imageEl.sizes || imageEl.getAttribute('sizes'), true, onReady);\n  }\n}","import { getWindow } from 'ssr-window';\nexport default function Resize({\n  swiper,\n  on,\n  emit\n}) {\n  const window = getWindow();\n  let observer = null;\n\n  const resizeHandler = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    emit('beforeResize');\n    emit('resize');\n  };\n\n  const createObserver = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    observer = new ResizeObserver(entries => {\n      const {\n        width,\n        height\n      } = swiper;\n      let newWidth = width;\n      let newHeight = height;\n      entries.forEach(({\n        contentBoxSize,\n        contentRect,\n        target\n      }) => {\n        if (target && target !== swiper.el) return;\n        newWidth = contentRect ? contentRect.width : (contentBoxSize[0] || contentBoxSize).inlineSize;\n        newHeight = contentRect ? contentRect.height : (contentBoxSize[0] || contentBoxSize).blockSize;\n      });\n\n      if (newWidth !== width || newHeight !== height) {\n        resizeHandler();\n      }\n    });\n    observer.observe(swiper.el);\n  };\n\n  const removeObserver = () => {\n    if (observer && observer.unobserve && swiper.el) {\n      observer.unobserve(swiper.el);\n      observer = null;\n    }\n  };\n\n  const orientationChangeHandler = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    emit('orientationchange');\n  };\n\n  on('init', () => {\n    if (swiper.params.resizeObserver && typeof window.ResizeObserver !== 'undefined') {\n      createObserver();\n      return;\n    }\n\n    window.addEventListener('resize', resizeHandler);\n    window.addEventListener('orientationchange', orientationChangeHandler);\n  });\n  on('destroy', () => {\n    removeObserver();\n    window.removeEventListener('resize', resizeHandler);\n    window.removeEventListener('orientationchange', orientationChangeHandler);\n  });\n}","import { getWindow } from 'ssr-window';\nexport default function Observer({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const observers = [];\n  const window = getWindow();\n\n  const attach = (target, options = {}) => {\n    const ObserverFunc = window.MutationObserver || window.WebkitMutationObserver;\n    const observer = new ObserverFunc(mutations => {\n      // The observerUpdate event should only be triggered\n      // once despite the number of mutations.  Additional\n      // triggers are redundant and are very costly\n      if (mutations.length === 1) {\n        emit('observerUpdate', mutations[0]);\n        return;\n      }\n\n      const observerUpdate = function observerUpdate() {\n        emit('observerUpdate', mutations[0]);\n      };\n\n      if (window.requestAnimationFrame) {\n        window.requestAnimationFrame(observerUpdate);\n      } else {\n        window.setTimeout(observerUpdate, 0);\n      }\n    });\n    observer.observe(target, {\n      attributes: typeof options.attributes === 'undefined' ? true : options.attributes,\n      childList: typeof options.childList === 'undefined' ? true : options.childList,\n      characterData: typeof options.characterData === 'undefined' ? true : options.characterData\n    });\n    observers.push(observer);\n  };\n\n  const init = () => {\n    if (!swiper.params.observer) return;\n\n    if (swiper.params.observeParents) {\n      const containerParents = swiper.$el.parents();\n\n      for (let i = 0; i < containerParents.length; i += 1) {\n        attach(containerParents[i]);\n      }\n    } // Observe container\n\n\n    attach(swiper.$el[0], {\n      childList: swiper.params.observeSlideChildren\n    }); // Observe wrapper\n\n    attach(swiper.$wrapperEl[0], {\n      attributes: false\n    });\n  };\n\n  const destroy = () => {\n    observers.forEach(observer => {\n      observer.disconnect();\n    });\n    observers.splice(0, observers.length);\n  };\n\n  extendParams({\n    observer: false,\n    observeParents: false,\n    observeSlideChildren: false\n  });\n  on('init', init);\n  on('destroy', destroy);\n}","import createElementIfNotDefined from '../../shared/create-element-if-not-defined.js';\nimport $ from '../../shared/dom.js';\nexport default function Navigation({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  extendParams({\n    navigation: {\n      nextEl: null,\n      prevEl: null,\n      hideOnClick: false,\n      disabledClass: 'swiper-button-disabled',\n      hiddenClass: 'swiper-button-hidden',\n      lockClass: 'swiper-button-lock'\n    }\n  });\n  swiper.navigation = {\n    nextEl: null,\n    $nextEl: null,\n    prevEl: null,\n    $prevEl: null\n  };\n\n  function getEl(el) {\n    let $el;\n\n    if (el) {\n      $el = $(el);\n\n      if (swiper.params.uniqueNavElements && typeof el === 'string' && $el.length > 1 && swiper.$el.find(el).length === 1) {\n        $el = swiper.$el.find(el);\n      }\n    }\n\n    return $el;\n  }\n\n  function toggleEl($el, disabled) {\n    const params = swiper.params.navigation;\n\n    if ($el && $el.length > 0) {\n      $el[disabled ? 'addClass' : 'removeClass'](params.disabledClass);\n      if ($el[0] && $el[0].tagName === 'BUTTON') $el[0].disabled = disabled;\n\n      if (swiper.params.watchOverflow && swiper.enabled) {\n        $el[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n      }\n    }\n  }\n\n  function update() {\n    // Update Navigation Buttons\n    if (swiper.params.loop) return;\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n    toggleEl($prevEl, swiper.isBeginning && !swiper.params.rewind);\n    toggleEl($nextEl, swiper.isEnd && !swiper.params.rewind);\n  }\n\n  function onPrevClick(e) {\n    e.preventDefault();\n    if (swiper.isBeginning && !swiper.params.loop && !swiper.params.rewind) return;\n    swiper.slidePrev();\n  }\n\n  function onNextClick(e) {\n    e.preventDefault();\n    if (swiper.isEnd && !swiper.params.loop && !swiper.params.rewind) return;\n    swiper.slideNext();\n  }\n\n  function init() {\n    const params = swiper.params.navigation;\n    swiper.params.navigation = createElementIfNotDefined(swiper, swiper.originalParams.navigation, swiper.params.navigation, {\n      nextEl: 'swiper-button-next',\n      prevEl: 'swiper-button-prev'\n    });\n    if (!(params.nextEl || params.prevEl)) return;\n    const $nextEl = getEl(params.nextEl);\n    const $prevEl = getEl(params.prevEl);\n\n    if ($nextEl && $nextEl.length > 0) {\n      $nextEl.on('click', onNextClick);\n    }\n\n    if ($prevEl && $prevEl.length > 0) {\n      $prevEl.on('click', onPrevClick);\n    }\n\n    Object.assign(swiper.navigation, {\n      $nextEl,\n      nextEl: $nextEl && $nextEl[0],\n      $prevEl,\n      prevEl: $prevEl && $prevEl[0]\n    });\n\n    if (!swiper.enabled) {\n      if ($nextEl) $nextEl.addClass(params.lockClass);\n      if ($prevEl) $prevEl.addClass(params.lockClass);\n    }\n  }\n\n  function destroy() {\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n\n    if ($nextEl && $nextEl.length) {\n      $nextEl.off('click', onNextClick);\n      $nextEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n\n    if ($prevEl && $prevEl.length) {\n      $prevEl.off('click', onPrevClick);\n      $prevEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n  }\n\n  on('init', () => {\n    init();\n    update();\n  });\n  on('toEdge fromEdge lock unlock', () => {\n    update();\n  });\n  on('destroy', () => {\n    destroy();\n  });\n  on('enable disable', () => {\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n\n    if ($nextEl) {\n      $nextEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);\n    }\n\n    if ($prevEl) {\n      $prevEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);\n    }\n  });\n  on('click', (_s, e) => {\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n    const targetEl = e.target;\n\n    if (swiper.params.navigation.hideOnClick && !$(targetEl).is($prevEl) && !$(targetEl).is($nextEl)) {\n      if (swiper.pagination && swiper.params.pagination && swiper.params.pagination.clickable && (swiper.pagination.el === targetEl || swiper.pagination.el.contains(targetEl))) return;\n      let isHidden;\n\n      if ($nextEl) {\n        isHidden = $nextEl.hasClass(swiper.params.navigation.hiddenClass);\n      } else if ($prevEl) {\n        isHidden = $prevEl.hasClass(swiper.params.navigation.hiddenClass);\n      }\n\n      if (isHidden === true) {\n        emit('navigationShow');\n      } else {\n        emit('navigationHide');\n      }\n\n      if ($nextEl) {\n        $nextEl.toggleClass(swiper.params.navigation.hiddenClass);\n      }\n\n      if ($prevEl) {\n        $prevEl.toggleClass(swiper.params.navigation.hiddenClass);\n      }\n    }\n  });\n  Object.assign(swiper.navigation, {\n    update,\n    init,\n    destroy\n  });\n}","import { getDocument } from 'ssr-window';\nexport default function createElementIfNotDefined(swiper, originalParams, params, checkProps) {\n  const document = getDocument();\n\n  if (swiper.params.createElements) {\n    Object.keys(checkProps).forEach(key => {\n      if (!params[key] && params.auto === true) {\n        let element = swiper.$el.children(`.${checkProps[key]}`)[0];\n\n        if (!element) {\n          element = document.createElement('div');\n          element.className = checkProps[key];\n          swiper.$el.append(element);\n        }\n\n        params[key] = element;\n        originalParams[key] = element;\n      }\n    });\n  }\n\n  return params;\n}","/**\n* Enhancements for the Manuscript Verse Miscellany Project\n* @author Joey Takeda\n* @author DHIL\n* @started 2020\n*\n**/\n\n/**\n * Imports\n */\nimport Modals from 'dhilux/js/modals.bundle.js';\nimport A11YTables from \"dhilux/js/a11y_tables.js\";\nimport Accordion from 'dhilux/js/accordion.js';\n// core version + navigation, pagination modules:\nimport Swiper, { Navigation } from 'swiper';\nimport TomSelect from 'tom-select';\n\n/**\n * The current document id\n * @type {string}\n */\nconst docId = document.querySelector('html').id;\n\n\n/**\n * Initialize\n */\n(function(){\n    makeHomepageGallery();\n    makeA11YTables();\n    if (!(/(edit|new)\\/?$/gi.test(location) || docId == 'index')) {\n        makeModals();\n    }\n    makeAccordions();\n    makeBetterSelects();\n})();\n\nfunction makeAccordions(){\n   let accordions =  [...document.querySelectorAll('details.accordion')].map(d => {\n       return new Accordion(d);\n   });\n}\n\nfunction makeBetterSelects(){\n    const opts = {\n        maxOptions: null,\n        copyClassesToDropdown: true\n\n    }\n    const plugins = {\n        'clear_button':{\n            'title':'Remove all selected options',\n            'html' : function(thing){\n                return `<button class=\"btn clear-button\">\n                        <svg viewBox=\"0 0 24 24\" height=\"1rem\" width=\"1rem\">\n                            <line x1=\"0\" x2=\"24\" y1=\"0\" y2=\"24\" />\n                            <line x1=\"24\" x2=\"0\" y1=\"0\" y2=\"24\" />\n                        </svg>\n                        <span class=\"visually-hidden\">Close</span>\n                    </button>`;\n            }\n        },\n        remove_button: {\n            title: 'Remove this item',\n        },\n        'checkbox_options': true\n    };\n\n    let advancedForm = document.querySelector('form[name=\"ms_filter\"]');\n    if (!advancedForm){\n        return;\n    }\n    advancedForm.querySelectorAll('select').forEach(sel => {\n        // If this is the sorter select, then we leave it as is\n        if (sel.id == 'sort'){\n            return sel;\n        }\n        let multiple = sel.hasAttribute('multiple');\n        sel.classList.remove('form-control');\n        plugins['checkbox_options'] = multiple;\n        new TomSelect(sel, {\n            ...opts,\n            multiple,\n            plugins\n        });\n    });\n\n}\n\n/**\n * Create the homepage gallery slider, using Swiper\n * @return {boolean} True if successful, false otherwise\n */\nfunction makeHomepageGallery() {\n    try{\n        let q = '.archive-gallery';\n        let gallery = document.querySelector(q);\n        // Bail if no archive gallery\n        if (!gallery) {\n            return true;\n        }\n        // Add the navigation module to Swiper\n        Swiper.use([Navigation]);\n        let cfg = {\n            // centeredSlides: true,\n            spaceBetween: 16,\n            slidesPerView: 3,\n            // loop: true,\n            navigation: {}\n        }\n\n        // Now create the swiper specific classes\n        let wrapper = document.createElement('div');\n        gallery.insertAdjacentElement('beforebegin', wrapper);\n        wrapper.appendChild(gallery);\n        wrapper.classList.add('swiper');\n        gallery.classList.add('swiper-wrapper');\n        [...gallery.children].forEach(child => {\n            child.classList.add('swiper-slide');\n        });\n        // Create next/prev buttons\n        ['next', 'prev'].forEach(bc => {\n            let div = document.createElement('div');\n            let divClass = `swiper-button-${bc}`;\n            div.classList.add(divClass);\n            wrapper.appendChild(div);\n            cfg.navigation[`${bc}El`] = '.' + divClass;\n        });\n        // And create the carousel\n        const carousel = new Swiper('.swiper', cfg);\n        return true;\n    } catch(e) {\n        return false;\n    }\n}\n\n/**\n * Function to create the modals using DHILUX's Modal\n * @return {boolean} True if successful, false otherwise\n */\nfunction makeModals(){\n    try{\n        //Filter the entities\n        const entities = ['person','theme','region','period','coterie', 'print_source', 'archive'].filter(isIndex);\n        // Selector string for all entities\n        const selector = entities.map(ent => `a[href*=\"${ent}\"]`).join(', ');\n        let modals = new Modals(selector);\n        modals.el = document.querySelector('main');\n        modals.filterParentsSelector = '.gallery, html[id$=\"_index\"], header, p';\n        modals.linkFilter = (link) => {\n            if (/^manuscript_show_\\d+/.test(docId)){\n                return true;\n            }\n            let table = link.closest('table');\n            // We only want modals to appear on non-listing tables\n            // (i.e. the tables that don't have heads\n            if (table){\n                let thead = table.querySelector('thead');\n                return (thead === null);\n            }\n        }\n\n        modals.init();\n        return true;\n    } catch(e) {\n        console.log(e);\n        return false;\n    }\n}\n\n/**\n * Function to create accessible tables using DHILUX's A11YTables\n * @return {boolean} True if successful, false otherwise\n */\nfunction makeA11YTables(){\n    try{\n        let accessibleTables = new A11YTables();\n        accessibleTables.init();\n        // Wrap each table in a div for horizontal scrolling\n        accessibleTables.tables.forEach(A11YTable => {\n            let table = A11YTable.table;\n            let ctr = document.createElement('div')\n            table.insertAdjacentElement('beforebegin', ctr);\n            ctr.classList.add('table-container');\n            ctr.appendChild(table);\n        });\n        return true;\n    } catch(e){\n        console.log(e);\n        return false;\n    }\n}\n\n/**\n * Check whether we're currently on an index page for creating modals;\n * (i.e. don't create a modal for the link to the archive when we're on\n * archive_index; presumably, if you're on the index for that entity,\n * you want to go directly to it)\n * @param entity {string} The entity name\n * @returns {boolean} Whether we're on the index page\n */\nfunction isIndex(entity) {\n    let rex = new RegExp(`\\\\/${entity}\\\\/?$`, 'gi');\n    return !(rex.test(window.location.href));\n}\n\n\n\n\n\n\n\n\n\n\n\n\n"],"names":["module","exports","forEvents","events","callback","split","forEach","event","MicroEvent","constructor","this","_events","on","fct","event_array","push","off","n","arguments","length","undefined","splice","indexOf","trigger","args","self","apply","arrayToPattern","chars","filter","Boolean","maxValueLength","join","sequencePattern","array","hasDuplicates","pattern","prev_char_count","prev_pattern","char","i","setToPattern","toArray","Set","size","escape_regex","str","replace","reduce","longest","value","Math","max","unicodeLength","p","Array","from","allSubstrings","input","result","start","substring","subresult","tmp","slice","charAt","unshift","code_points","unicode_map","multi_char_reg","latin_convert","latin_condensed","latin","unicode","convert_pat","RegExp","Object","keys","normalize","form","asciifold","_asciifold","toLowerCase","generateSets","unicode_sets","addMatching","folded","to_add","folded_set","patt","match","add","code_point_min","code_point_max","composed","String","fromCharCode","code_point","generator","generateMap","multi_char","set","sort","a","b","multi_char_patt","substringsToPattern","min_replacement","map","sub_pat","strings","chars_replaced","mapSequence","sequencesToPattern","sequences","all","sequence","seq","len","j","substrs","inSequences","needle_seq","end","needle_parts","parts","part","needle_part","substr","Sequence","min","last","clone","position","last_piece","JSON","parse","stringify","last_part","pop","last_substr","clone_last_len","getPattern","_code_points","match_str","overlapping","added_types","has","new_seq","old_seq","getAttr","obj","name","getAttrNesting","names","shift","scoreValue","token","weight","score","pos","regex","search","string","propToArray","key","isArray","iterate$1","object","hasOwnProperty","cmp","Sifter","items","settings","diacritics","tokenize","query","respect_word_boundaries","weights","tokens","words","field_regex","word","field_match","field","getScoreFunction","options","prepareSearch","_getScoreFunction","token_count","fields","field_count","getAttrFn","scoreObject","data","sum","conjunction","getSortFunction","_getSortFunction","implicit_score","sort_flds","sort_empty","bind","get_field","id","s","fld","direction","sort_fld","optsUser","assign","trim","total","nesting","fn_score","item","_","fn_sort","limit","iterate","getDom","jquery","HTMLElement","isHtmlString","tpl","document","createElement","innerHTML","content","firstChild","querySelector","arg","triggerEvent","dom_el","event_name","createEvent","initEvent","dispatchEvent","applyCSS","css","style","addClasses","elmts","classes","norm_classes","classesArray","castAsArray","el","cls","classList","removeClasses","remove","_classes","concat","parentMatch","target","selector","wrapper","contains","matches","parentNode","getTail","list","nodeIndex","amongst","nodeName","previousElementSibling","setAttr","attrs","val","attr","removeAttribute","setAttribute","replaceNode","existing","replacement","replaceChild","highlight","element","highlightRecursive","node","nodeType","spannode","className","middlebit","splitText","index","middleclone","cloneNode","appendChild","highlightText","childNodes","test","tagName","highlightChildren","KEY_SHORTCUT","navigator","userAgent","defaults","optgroups","plugins","delimiter","splitOn","persist","create","createOnBlur","createFilter","openOnFocus","shouldOpen","maxOptions","maxItems","hideSelected","duplicates","addPrecedence","selectOnTab","preload","allowEmptyOption","loadThrottle","loadingClass","dataAttr","optgroupField","valueField","labelField","disabledField","optgroupLabelField","optgroupValueField","lockOptgroupOrder","sortField","searchField","searchConjunction","mode","wrapperClass","controlClass","dropdownClass","dropdownContentClass","itemClass","optionClass","dropdownParent","controlInput","copyClassesToDropdown","placeholder","hidePlaceholder","shouldLoad","render","hash_key","get_hash","escape_html","loadDebounce","fn","delay","timeout","loading","clearTimeout","setTimeout","loadedSearches","call","debounce_events","types","type","event_args","preventDefault","evt","stop","stopPropagation","addEvent","addEventListener","isKeyDown","key_name","altKey","ctrlKey","shiftKey","metaKey","getId","getAttribute","addSlashes","append","parent","getSettings","settings_user","attr_data","field_label","field_value","field_disabled","field_optgroup","field_optgroup_label","field_optgroup_value","tag_name","option","textContent","optionsMap","group_count","readData","addOption","addGroup","settings_element","dataset","json","group","arr","option_data","disabled","$option","selected","optgroup","optgroup_data","children","hasAttribute","child","data_raw","opt","values","init_textbox","instance_i","TomSelect","Interface","super","requested","loaded","define","initializePlugins","queue","plugin","require","loadPlugin","Error","MicroPlugin","input_arg","user_settings","dir","control_input","dropdown","control","dropdown_content","focus_node","order","tabIndex","is_select_tag","rtl","inputId","_destroy","sifter","isOpen","isDisabled","isRequired","isInvalid","isValid","isLocked","isFocused","isInputHidden","isSetup","ignoreFocus","ignoreHover","hasOptions","currentResults","lastValue","caretPos","activeOption","activeItems","userOptions","tomselect","window","getComputedStyle","getPropertyValue","required","setupCallbacks","setupTemplates","_render","inputMode","setup","passive_event","passive","listboxId","role","control_id","escapeQuery","label","label_click","focus","for","label_id","width","classes_plugins","multiple","load","e","target_match","onOptionHover","capture","onOptionSelect","onItemSelect","onClick","onKeyDown","onKeyPress","onInput","onBlur","onFocus","onPaste","doc_mousedown","composedPath","blur","inputState","win_scroll","positionDropdown","removeEventListener","revertSettings","insertAdjacentElement","sync","refreshState","updateOriginalInput","refreshItems","close","disable","enable","onChange","setupOptions","addOptions","registerOptionGroup","templates","escape","callbacks","get_settings","setValue","lastQuery","clearActiveItems","onMouseDown","pastedText","inputValue","splitInput","piece","addItem","createItem","character","keyCode","which","selectAll","open","next","getAdjacent","setActiveOption","prev","canSelect","activeElement","advanceSelection","deleteSelection","refreshOptions","wasFocused","showInput","hasFocus","deactivate","setActiveItem","setCaret","parentElement","closeAfterSelect","canLoad","loadCallback","clearActiveOption","setTextboxValue","getValue","silent","clear","addItems","setMaxItems","eventName","begin","swap","getLastActive","prototype","setActiveItemClass","removeActiveItem","hideInput","last_active","idx","scroll","scrollToOption","behavior","height_menu","clientHeight","scrollTop","height_item","offsetHeight","y","getBoundingClientRect","top","scrollBehavior","controlChildren","toggle","offsetWidth","getSearchOptions","calculateScore","hashed","triggerDropdown","k","html","has_create_option","active_group","groups","groups_order","same_query","elements","results","active_option","show_dropdown","closest","opt_value","opt_hash","option_el","getOption","includes","group_fragment","createDocumentFragment","$id","toString","grp_a","grp_b","$order","group_heading","group_options","header","group_html","querySelectorAll","tok","add_template","template","insertBefore","canCreate","active_index","selectable","user_created","dat","registerOption","addOptionGroup","hashed_id","removeOptionGroup","clearCache","clearOptionGroups","updateOption","item_new","index_item","value_old","value_new","data_old","getItem","uncacheValue","option_new","removeOption","removeItem","clearOptions","boundFilter","clearFilter","$div","last_item","x","isPending","wasFull","isFull","insertAtCaret","output","caret","lock","created","unlock","refreshValidityState","wrap_classList","validity","valid","opts","empty_option","has_selected","AddSelected","visibility","display","context","rect","scrollY","left","scrollX","selection","tail","selectionStart","selectionEnd","rm_items","rm_item","shouldDelete","onDelete","adjacent","nextElementSibling","moveCaret","new_pos","destroy","templateName","hook","when","method","new_fn","orig_method","result_new","orig_onOptionSelect","UpdateCheckbox","checkbox","HTMLInputElement","checked","orig_render_option","rendered","prepend","title","button","$","sortable","orig_lock","orig_unlock","$control","forcePlaceholderSize","ui","helper","overflow","each","headerClass","titleRowClass","labelClass","closeClass","close_link","div","orig_onBlur","relatedTarget","preventScroll","test_input","cssText","style_name","resize","clientWidth","orig_deleteSelection","orig_keydown","previousSibling","nextSibling","orig_render_item","close_button","text","orig_canLoad","orig_clearActiveOption","orig_loadCallback","load_more_opt","pagination","loading_more","default_values","shouldLoadMore","scrollHeight","firstUrl","canLoadMore","setNextUrl","next_url","getUrl","first_option","no_more_results","factory","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","__esModule","d","definition","o","defineProperty","enumerable","get","prop","supportCustomEvent","CustomEvent","safeDispatchEvent","check","findNearestDialog","localName","host","safeBlur","shadowRoot","body","inNodeList","nodeList","isFormMethodDialog","findFocusableElementWithin","hostElement","Element","elems","isConnected","findFormSubmitter","submitter","HTMLFormElement","dialogPolyfill","formSubmitter","getRootNode","maybeHandleSubmit","defaultPrevented","imagemapUseValue","dialog","dialogPolyfillInfo","dialog_","replacedStyleTop_","openAsModal_","show","showModal","returnValue","MutationObserver","maybeHideModal","observe","attributes","attributeFilter","removed","cb","downgradeModal","delayModel","ev","cand","setOpen","backdrop_","backdropMouseEvent_","initCustomEvent","bubbles","cancelable","detail","Event","zIndex","removeChild","dm","removeDialog","fake","redirectedEvent","initMouseEvent","screenX","screenY","clientX","clientY","focus_","updateZIndex","dialogZ","backdropZ","pushDialog","invalid","ok","opacity","webkitOverflowScrolling","createsStackingContext","console","warn","needsCentering","reposition","opt_returnValue","closeEvent","documentElement","topValue","innerHeight","styleSheets","styleSheet","cssRules","rule","selectedNodes","selectorText","cssTop","cssBottom","bottom","isInlinePositionSetByStylesheet","HTMLDialogElement","forceRegisterDialog","pendingDialogStack","checkDOM","checkDOM_","overlay","forwardTab_","handleKey_","handleFocus_","zIndexLow_","zIndexHigh_","mo_","records","rec","c","removedNodes","DialogManager","blockDocument","childList","subtree","unblockDocument","disconnect","updateStacking","dpi","containedByTopDialog_","candidate","compareDocumentPosition","Node","DOCUMENT_POSITION_PRECEDING","cancelEvent","allowed","testForm","methodDescriptor","getOwnPropertyDescriptor","realGet","realSet","v","offsetX","offsetY","nativeFormSubmit","submit","parser","DOMParser","A11YTables","q","tables","init","tbl","A11YTable","log","table","stylesheet","ariaRoles","headers","th","innerText","addARIA","setRole","handleCell","cell","cellIndex","Accordion","summary","makeContent","animation","state","easing","getCustomProp","duration","convertDuration","startHeight","endHeight","defaultVal","propDecl","pointerEvents","nodes","isSameNode","height","requestAnimationFrame","expand","shrink","animate","cancel","onfinish","onAnimationFinish","oncancel","dur","parseFloat","parseInt","extend","src","ssrDocument","getElementById","getElementsByTagName","createElementNS","importNode","location","hash","hostname","href","origin","pathname","protocol","doc","ssrWindow","history","replaceState","pushState","go","back","Image","Date","screen","matchMedia","cancelAnimationFrame","win","Dom7","proto","__proto__","makeReactive","arrayFlat","res","arrayFilter","toCreate","tempParent","qsa","uniqueArray","arrayUnique","noTrigger","shortcut","Methods","addClass","classNames","removeClass","hasClass","toggleClass","attrName","removeAttr","transform","transition","transitionDuration","eventType","targetSelector","listener","handleLiveEvent","eventData","dom7EventData","is","parents","handleEvent","dom7LiveListeners","proxyListener","dom7Listeners","handlers","handler","dom7proxy","dataIndex","transitionEnd","dom","fireCallBack","outerWidth","includeMargins","styles","outerHeight","offset","box","clientTop","clientLeft","scrollLeft","props","compareWith","webkitMatchesSelector","msMatchesSelector","eq","returnIndex","els","newChild","tempDiv","nextAll","nextEls","prevAll","prevEls","find","foundElements","found","methodName","writable","now","to","noExtend","nextSource","keysArray","nextIndex","nextKey","desc","__swiper__","varName","varValue","setProperty","animateCSSModeScroll","swiper","targetPosition","side","startPosition","translate","time","startTime","params","speed","wrapperEl","scrollSnapType","cssModeFrameID","isOutOfBound","current","getTime","progress","easeProgress","cos","PI","currentPosition","scrollTo","support","deviceCached","browser","getSupport","smoothScroll","touch","DocumentTouch","passiveListener","supportsPassive","gestures","calcSupport","priority","eventsListeners","once","onceHandler","__emitterProxy","onAny","eventsAnyListeners","offAny","eventHandler","emit","updateSize","$el","isHorizontal","isVertical","Number","isNaN","updateSlides","getDirectionLabel","property","getDirectionPropertyValue","$wrapperEl","swiperSize","rtlTranslate","wrongRTL","isVirtual","virtual","enabled","previousSlidesLength","slides","slideClass","slidesLength","snapGrid","slidesGrid","slidesSizesGrid","offsetBefore","slidesOffsetBefore","offsetAfter","slidesOffsetAfter","previousSnapGridLength","previousSlidesGridLength","spaceBetween","slidePosition","prevSlideSize","virtualSize","marginLeft","marginBottom","marginTop","marginRight","centeredSlides","cssMode","gridEnabled","grid","rows","slideSize","initSlides","shouldResetSlideSize","slidesPerView","breakpoints","slide","updateSlide","slideStyles","currentTransform","currentWebKitTransform","webkitTransform","roundLengths","paddingLeft","paddingRight","boxSizing","floor","swiperSlideSize","abs","slidesPerGroup","slidesPerGroupSkip","effect","setWrapperSize","updateWrapperSize","newSlidesGrid","slidesGridItem","slideIndex","centeredSlidesBounds","allSlidesSize","slideSizeValue","maxSnap","snap","centerInsufficientSlides","allSlidesOffset","snapIndex","addToSnapGrid","addToSlidesGrid","watchOverflow","checkOverflow","watchSlidesProgress","updateSlidesOffset","updateAutoHeight","activeSlides","newHeight","setTransition","getSlideByIndex","visibleSlides","ceil","activeIndex","swiperSlideOffset","offsetLeft","offsetTop","updateSlidesProgress","offsetCenter","slideVisibleClass","visibleSlidesIndexes","slideOffset","slideProgress","minTranslate","originalSlideProgress","slideBefore","slideAfter","originalProgress","updateProgress","multiplier","translatesDiff","maxTranslate","isBeginning","isEnd","wasBeginning","wasEnd","autoHeight","updateSlidesClasses","realIndex","activeSlide","slideActiveClass","slideNextClass","slidePrevClass","slideDuplicateActiveClass","slideDuplicateNextClass","slideDuplicatePrevClass","loop","slideDuplicateClass","nextSlide","prevSlide","emitSlidesClasses","updateActiveIndex","newActiveIndex","previousIndex","previousRealIndex","previousSnapIndex","normalizeSlideIndex","skip","initialized","runCallbacksOnInit","updateClickedSlide","slideFound","clickedSlide","clickedIndex","slideToClickedSlide","transitionEmit","runCallbacks","step","slideTo","internal","initial","indexAsNumber","isFinite","animating","preventInteractionOnTransition","initialSlide","normalizedTranslate","normalizedGrid","normalizedGridNext","allowSlideNext","allowSlidePrev","setTranslate","transitionStart","isH","t","_immediateVirtual","_swiperImmediateVirtual","onSlideToWrapperTransitionEnd","destroyed","slideToLoop","newIndex","loopedSlides","slideNext","perGroup","slidesPerGroupAuto","slidesPerViewDynamic","increment","loopPreventsSlide","loopFix","_clientLeft","rewind","slidePrev","normalizedSnapGrid","prevSnap","prevSnapIndex","prevIndex","slideReset","slideToClosest","threshold","currentSnap","slideToIndex","loopCreate","$selector","loopFillGroupWithBlank","blankSlidesNum","blankNode","slideBlankClass","loopAdditionalSlides","prependSlides","appendSlides","diff","getTranslate","loopDestroy","onTouchStart","touchEventsData","touches","originalEvent","$targetEl","touchEventsTarget","isTouchEvent","isTouched","isMoved","noSwipingClass","path","noSwipingSelector","isTargetShadow","noSwiping","base","__closestFrom","assignedSlot","closestElement","allowClick","swipeHandler","currentX","targetTouches","pageX","currentY","pageY","startX","startY","edgeSwipeDetection","iOSEdgeSwipeDetection","edgeSwipeThreshold","iOSEdgeSwipeThreshold","innerWidth","allowTouchCallbacks","isScrolling","startMoving","touchStartTime","swipeDirection","allowThresholdMove","focusableElements","shouldPreventDefault","allowTouchMove","touchStartPreventDefault","touchStartForcePreventDefault","isContentEditable","onTouchMove","targetTouch","changedTouches","preventedByNestedSwiper","touchReleaseOnEdges","diffX","diffY","sqrt","touchAngle","atan2","touchMoveStopPropagation","nested","startTranslate","allowMomentumBounce","grabCursor","setGrabCursor","touchRatio","currentTranslate","disableParentSwiper","resistanceRatio","resistance","followFinger","freeMode","onTouchEnd","touchEndTime","timeDiff","pathTree","lastClickTime","currentPos","stopIndex","groupSize","ratio","longSwipesMs","longSwipes","longSwipesRatio","shortSwipes","navigation","nextEl","prevEl","onResize","setBreakpoint","autoplay","running","paused","run","preventClicks","preventClicksPropagation","stopImmediatePropagation","onScroll","newProgress","previousTranslate","dummyEventAttached","dummyEventListener","touchEvents","device","domMethod","swiperMethod","passiveListeners","move","updateOnWindowResize","ios","android","attachEvents","detachEvents","isGridEnabled","suffixes","entries","prefix","resultClasses","prepareClasses","fill","containerModifierClass","emitContainerClasses","resizeObserver","createElements","url","virtualTranslate","breakpointsBase","simulateTouch","uniqueNavElements","preloadImages","updateOnImagesReady","_emitClasses","moduleExtendParams","allModulesParams","moduleParamName","moduleParams","auto","prototypes","eventsEmitter","update","axis","matrix","curTransform","transformMatrix","curStyle","currentStyle","WebKitCSSMatrix","MozTransform","OTransform","MsTransform","msTransform","m41","m42","byController","translateTo","translateBounds","newTranslate","onTranslateToWrapperTransitionEnd","moving","cursor","unsetGrabCursor","breakpoint","getBreakpoint","currentBreakpoint","breakpointParams","originalParams","wasMultiRow","isMultiRow","wasEnabled","directionChanged","needsReLoop","changeDirection","isEnabled","containerEl","currentHeight","points","point","minRatio","wasLocked","lastSlideIndex","lastSlideRightEdge","images","loadImage","imageEl","srcset","sizes","checkForComplete","image","onReady","complete","onload","onerror","imagesLoaded","imagesToLoad","currentSrc","extendedDefaults","Swiper","swipers","newParams","overrides","platform","ua","screenWidth","screenHeight","ipad","ipod","iphone","windows","macos","os","calcDevice","getDevice","isSafari","isWebView","calcBrowser","modules","__modules__","mod","extendParams","swiperParams","passedParams","velocity","desktop","touchEventsTouch","touchEventsDesktop","clickTimeout","velocities","setProgress","getSlideClasses","slideEl","updates","view","exact","spv","breakLoop","translateValue","translated","newDirection","needUpdate","currentDirection","mount","mounted","getWrapperSelector","getWrapper","deleteInstance","cleanStyles","deleteProps","extendDefaults","newDefaults","installModule","use","m","prototypeGroup","protoMethod","observer","resizeHandler","orientationChangeHandler","ResizeObserver","newWidth","contentBoxSize","contentRect","inlineSize","blockSize","unobserve","observers","attach","WebkitMutationObserver","mutations","observerUpdate","characterData","observeParents","observeSlideChildren","containerParents","Navigation","getEl","toggleEl","disabledClass","lockClass","$nextEl","$prevEl","onPrevClick","onNextClick","checkProps","hideOnClick","hiddenClass","_s","targetEl","clickable","isHidden","docId","isIndex","entity","gallery","cfg","bc","divClass","makeHomepageGallery","accessibleTables","ctr","makeA11YTables","ent","modals","Map","debug","linkClass","ignoreIndexes","observerConfig","checkDialog","active","backdropClose","filterParentsSelector","fetching","links","allLinks","defaultLinkFilter","dialogs","Modals","link","clickHandler","caller","currentTarget","getDialog","err","errorHandler","uri","modalURI","Promise","resolve","reject","fetch","then","response","getDialogFromText","processDialog","registerDialog","catch","parseFromString","mutation","attributeName","bodyClickHandler","linkFilter","trace","msg","makeModals","thing","remove_button","advancedForm","sel","makeBetterSelects"],"sourceRoot":""}